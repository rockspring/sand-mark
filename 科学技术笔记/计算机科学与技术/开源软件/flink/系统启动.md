系统启动

org.apache.flink.runtime.jobmanager.JobManager

```
java -Xms256m -Xmx256m -Dlog.file=/vagrant/servers/flink-1.1.3/log/flink-ubuntu-jobmanager-0-ubuntu-xenial.log  \
-Dlog4j.configuration=file:/vagrant/servers/flink-1.1.3/conf/log4j.properties  \
-Dlogback.configurationFile=file:/vagrant/servers/flink-1.1.3/conf/logback.xml  \
-classpath /vagrant/servers/flink-1.1.3/lib/flink-dist_2.11-1.1.3.jar: \
/vagrant/servers/flink-1.1.3/lib/flink-python_2.11-1.1.3.jar: \
/vagrant/servers/flink-1.1.3/lib/log4j-1.2.17.jar: \
/vagrant/servers/flink-1.1.3/lib/slf4j-log4j12-1.7.7.jar:::  \
org.apache.flink.runtime.jobmanager.JobManager  \
--configDir /vagrant/servers/flink-1.1.3/conf  \
--executionMode cluster
```

```
java -XX:+UseG1GC -Xms512M -Xmx512M -XX:MaxDirectMemorySize=8388607T  \
-Dlog.file=/vagrant/servers/flink-1.1.3/log/flink-ubuntu-taskmanager-0-ubuntu-xenial.log  \
-Dlog4j.configuration=file:/vagrant/servers/flink-1.1.3/conf/log4j.properties  \
-Dlogback.configurationFile=file:/vagrant/servers/flink-1.1.3/conf/logback.xml  \
-classpath /vagrant/servers/flink-1.1.3/lib/flink-dist_2.11-1.1.3.jar: \
/vagrant/servers/flink-1.1.3/lib/flink-python_2.11-1.1.3.jar: \
/vagrant/servers/flink-1.1.3/lib/log4j-1.2.17.jar: \
/vagrant/servers/flink-1.1.3/lib/slf4j-log4j12-1.7.7.jar:::  \
org.apache.flink.runtime.taskmanager.TaskManager  \
--configDir /vagrant/servers/flink-1.1.3/conf
```

## 调试模式启动

-Xdebug -Xrunjdwp,transport=dt_socket,server=y,address=5432,suspend=n

java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=5432,suspend=n -XX:+UseG1GC -Xms512M -Xmx512M -XX:MaxDirectMemorySize=8388607T  \
-Dlog.file=/vagrant/servers/flink-1.1.3/log/flink-ubuntu-taskmanager-0-ubuntu-xenial.log  \
-Dlog4j.configuration=file:/vagrant/servers/flink-1.1.3/conf/log4j.properties  \
-Dlogback.configurationFile=file:/vagrant/servers/flink-1.1.3/conf/logback.xml  \
-classpath /vagrant/servers/flink-1.1.3/lib/flink-dist_2.11-1.1.3.jar: \
/vagrant/servers/flink-1.1.3/lib/flink-python_2.11-1.1.3.jar: \
/vagrant/servers/flink-1.1.3/lib/log4j-1.2.17.jar: \
/vagrant/servers/flink-1.1.3/lib/slf4j-log4j12-1.7.7.jar:::  \
org.apache.flink.runtime.taskmanager.TaskManager  \
--configDir /vagrant/servers/flink-1.1.3/conf



TaskManager

1，启动NetworkEnvironment

2，启动内存管理器MemoryManager

创建HeapMemoryPool

3，启动IOManagerAsync

4，LeaderRetrievalUtils.createLeaderRetrievalService

5，创建Props并启动ActorSystem

调用ActorSystemImpl类的def actorOf(props: Props, name: String)方法