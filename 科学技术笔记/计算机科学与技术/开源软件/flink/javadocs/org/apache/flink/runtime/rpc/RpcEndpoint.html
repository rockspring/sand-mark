<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_144) on Thu May 17 13:42:19 CST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RpcEndpoint</title>
<meta name="date" content="2018-05-17">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RpcEndpoint";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/flink/runtime/rpc/MainThreadValidatorUtil.html" title="org.apache.flink.runtime.rpc中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.MainThreadExecutor.html" title="org.apache.flink.runtime.rpc中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/flink/runtime/rpc/RpcEndpoint.html" target="_top">框架</a></li>
<li><a href="RpcEndpoint.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.runtime.rpc</div>
<h2 title="类 RpcEndpoint" class="title">类 RpcEndpoint</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.flink.runtime.rpc.RpcEndpoint</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd><a href="../../../../../org/apache/flink/runtime/rpc/RpcGateway.html" title="org.apache.flink.runtime.rpc中的接口">RpcGateway</a></dd>
</dl>
<dl>
<dt>直接已知子类:</dt>
<dd><a href="../../../../../org/apache/flink/runtime/rpc/FencedRpcEndpoint.html" title="org.apache.flink.runtime.rpc中的类">FencedRpcEndpoint</a>, <a href="../../../../../org/apache/flink/runtime/instance/SlotPool.html" title="org.apache.flink.runtime.instance中的类">SlotPool</a>, <a href="../../../../../org/apache/flink/runtime/taskexecutor/TaskExecutor.html" title="org.apache.flink.runtime.taskexecutor中的类">TaskExecutor</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">RpcEndpoint</span>
extends java.lang.Object
implements <a href="../../../../../org/apache/flink/runtime/rpc/RpcGateway.html" title="org.apache.flink.runtime.rpc中的接口">RpcGateway</a></pre>
<div class="block">Base class for RPC endpoints. Distributed components which offer remote procedure calls have to
 extend the RPC endpoint base class. An RPC endpoint is backed by an <a href="../../../../../org/apache/flink/runtime/rpc/RpcService.html" title="org.apache.flink.runtime.rpc中的接口"><code>RpcService</code></a>. 
 
 <h1>Endpoint and Gateway</h1>
 
 To be done...
 
 <h1>Single Threaded Endpoint Execution </h1>
 
 <p>All RPC calls on the same endpoint are called by the same thread
 (referred to as the endpoint's <i>main thread</i>).
 Thus, by executing all state changing operations within the main 
 thread, we don't have to reason about concurrent accesses, in the same way in the Actor Model
 of Erlang or Akka.

 <p>The RPC endpoint provides provides <a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#runAsync-java.lang.Runnable-"><code>runAsync(Runnable)</code></a>, <a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#callAsync-java.util.concurrent.Callable-org.apache.flink.api.common.time.Time-"><code>callAsync(Callable, Time)</code></a>
 and the <a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#getMainThreadExecutor--"><code>getMainThreadExecutor()</code></a> to execute code in the RPC endpoint's main thread.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.MainThreadExecutor.html" title="org.apache.flink.runtime.rpc中的类">RpcEndpoint.MainThreadExecutor</a></span></code>
<div class="block">Executor which executes runnables in the main thread context.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(专用程序包) java.util.concurrent.atomic.AtomicReference&lt;java.lang.Thread&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#currentMainThread">currentMainThread</a></span></code>
<div class="block">A reference to the endpoint's main thread, if the current method is called by the main thread</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#endpointId">endpointId</a></span></code>
<div class="block">Unique identifier for this rpc endpoint</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#log">log</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.MainThreadExecutor.html" title="org.apache.flink.runtime.rpc中的类">RpcEndpoint.MainThreadExecutor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#mainThreadExecutor">mainThreadExecutor</a></span></code>
<div class="block">The main thread executor to be used to execute future callbacks in the main thread
 of the executing rpc server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/flink/runtime/rpc/RpcServer.html" title="org.apache.flink.runtime.rpc中的接口">RpcServer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#rpcServer">rpcServer</a></span></code>
<div class="block">Interface to access the underlying rpc server</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/flink/runtime/rpc/RpcService.html" title="org.apache.flink.runtime.rpc中的接口">RpcService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#rpcService">rpcService</a></span></code>
<div class="block">RPC service to be used to start the RPC server and to obtain rpc gateways</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符</th>
<th class="colLast" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#RpcEndpoint-org.apache.flink.runtime.rpc.RpcService-">RpcEndpoint</a></span>(<a href="../../../../../org/apache/flink/runtime/rpc/RpcService.html" title="org.apache.flink.runtime.rpc中的接口">RpcService</a>&nbsp;rpcService)</code>
<div class="block">Initializes the RPC endpoint with a random endpoint id.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#RpcEndpoint-org.apache.flink.runtime.rpc.RpcService-java.lang.String-">RpcEndpoint</a></span>(<a href="../../../../../org/apache/flink/runtime/rpc/RpcService.html" title="org.apache.flink.runtime.rpc中的接口">RpcService</a>&nbsp;rpcService,
           java.lang.String&nbsp;endpointId)</code>
<div class="block">Initializes the RPC endpoint.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected &lt;V&gt;&nbsp;java.util.concurrent.CompletableFuture&lt;V&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#callAsync-java.util.concurrent.Callable-org.apache.flink.api.common.time.Time-">callAsync</a></span>(java.util.concurrent.Callable&lt;V&gt;&nbsp;callable,
         <a href="../../../../../org/apache/flink/api/common/time/Time.html" title="org.apache.flink.api.common.time中的类">Time</a>&nbsp;timeout)</code>
<div class="block">Execute the callable in the main thread of the underlying RPC service, returning a future for
 the result of the callable.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#getAddress--">getAddress</a></span>()</code>
<div class="block">Gets the address of the underlying RPC endpoint.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#getEndpointId--">getEndpointId</a></span>()</code>
<div class="block">Returns the rpc endpoint's identifier.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#getHostname--">getHostname</a></span>()</code>
<div class="block">Gets the hostname of the underlying RPC endpoint.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.MainThreadExecutor.html" title="org.apache.flink.runtime.rpc中的类">RpcEndpoint.MainThreadExecutor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#getMainThreadExecutor--">getMainThreadExecutor</a></span>()</code>
<div class="block">Gets the main thread execution context.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/flink/runtime/rpc/RpcService.html" title="org.apache.flink.runtime.rpc中的接口">RpcService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#getRpcService--">getRpcService</a></span>()</code>
<div class="block">Gets the endpoint's RPC service.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>&lt;C extends <a href="../../../../../org/apache/flink/runtime/rpc/RpcGateway.html" title="org.apache.flink.runtime.rpc中的接口">RpcGateway</a>&gt;<br>C</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#getSelfGateway-java.lang.Class-">getSelfGateway</a></span>(java.lang.Class&lt;C&gt;&nbsp;selfGatewayType)</code>
<div class="block">Returns a self gateway of the specified type which can be used to issue asynchronous
 calls against the RpcEndpoint.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;java.lang.Boolean&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#getTerminationFuture--">getTerminationFuture</a></span>()</code>
<div class="block">Return a future which is completed with true when the rpc endpoint has been terminated.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#postStop--">postStop</a></span>()</code>
<div class="block">User overridable callback.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#runAsync-java.lang.Runnable-">runAsync</a></span>(java.lang.Runnable&nbsp;runnable)</code>
<div class="block">Execute the runnable in the main thread of the underlying RPC endpoint.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#scheduleRunAsync-java.lang.Runnable-long-java.util.concurrent.TimeUnit-">scheduleRunAsync</a></span>(java.lang.Runnable&nbsp;runnable,
                long&nbsp;delay,
                java.util.concurrent.TimeUnit&nbsp;unit)</code>
<div class="block">Execute the runnable in the main thread of the underlying RPC endpoint, with
 a delay of the given number of milliseconds.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#scheduleRunAsync-java.lang.Runnable-org.apache.flink.api.common.time.Time-">scheduleRunAsync</a></span>(java.lang.Runnable&nbsp;runnable,
                <a href="../../../../../org/apache/flink/api/common/time/Time.html" title="org.apache.flink.api.common.time中的类">Time</a>&nbsp;delay)</code>
<div class="block">Execute the runnable in the main thread of the underlying RPC endpoint, with
 a delay of the given number of milliseconds.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#shutDown--">shutDown</a></span>()</code>
<div class="block">Triggers the shut down of the rpc endpoint.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#start--">start</a></span>()</code>
<div class="block">Starts the rpc endpoint.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#stop--">stop</a></span>()</code>
<div class="block">Stops the rpc endpoint.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#validateRunsInMainThread--">validateRunsInMainThread</a></span>()</code>
<div class="block">Validates that the method call happens in the RPC endpoint's main thread.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log</h4>
<pre>protected final&nbsp;org.slf4j.Logger log</pre>
</li>
</ul>
<a name="rpcService">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rpcService</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/flink/runtime/rpc/RpcService.html" title="org.apache.flink.runtime.rpc中的接口">RpcService</a> rpcService</pre>
<div class="block">RPC service to be used to start the RPC server and to obtain rpc gateways</div>
</li>
</ul>
<a name="endpointId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endpointId</h4>
<pre>private final&nbsp;java.lang.String endpointId</pre>
<div class="block">Unique identifier for this rpc endpoint</div>
</li>
</ul>
<a name="rpcServer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rpcServer</h4>
<pre>protected final&nbsp;<a href="../../../../../org/apache/flink/runtime/rpc/RpcServer.html" title="org.apache.flink.runtime.rpc中的接口">RpcServer</a> rpcServer</pre>
<div class="block">Interface to access the underlying rpc server</div>
</li>
</ul>
<a name="currentMainThread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentMainThread</h4>
<pre>final&nbsp;java.util.concurrent.atomic.AtomicReference&lt;java.lang.Thread&gt; currentMainThread</pre>
<div class="block">A reference to the endpoint's main thread, if the current method is called by the main thread</div>
</li>
</ul>
<a name="mainThreadExecutor">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mainThreadExecutor</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.MainThreadExecutor.html" title="org.apache.flink.runtime.rpc中的类">RpcEndpoint.MainThreadExecutor</a> mainThreadExecutor</pre>
<div class="block">The main thread executor to be used to execute future callbacks in the main thread
 of the executing rpc server.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="RpcEndpoint-org.apache.flink.runtime.rpc.RpcService-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RpcEndpoint</h4>
<pre>protected&nbsp;RpcEndpoint(<a href="../../../../../org/apache/flink/runtime/rpc/RpcService.html" title="org.apache.flink.runtime.rpc中的接口">RpcService</a>&nbsp;rpcService,
                      java.lang.String&nbsp;endpointId)</pre>
<div class="block">Initializes the RPC endpoint.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>rpcService</code> - The RPC server that dispatches calls to this RPC endpoint.</dd>
<dd><code>endpointId</code> - Unique identifier for this endpoint</dd>
</dl>
</li>
</ul>
<a name="RpcEndpoint-org.apache.flink.runtime.rpc.RpcService-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RpcEndpoint</h4>
<pre>protected&nbsp;RpcEndpoint(<a href="../../../../../org/apache/flink/runtime/rpc/RpcService.html" title="org.apache.flink.runtime.rpc中的接口">RpcService</a>&nbsp;rpcService)</pre>
<div class="block">Initializes the RPC endpoint with a random endpoint id.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>rpcService</code> - The RPC server that dispatches calls to this RPC endpoint.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getEndpointId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndpointId</h4>
<pre>public&nbsp;java.lang.String&nbsp;getEndpointId()</pre>
<div class="block">Returns the rpc endpoint's identifier.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Rpc endpoint's identifier.</dd>
</dl>
</li>
</ul>
<a name="start--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()
           throws java.lang.Exception</pre>
<div class="block">Starts the rpc endpoint. This tells the underlying rpc server that the rpc endpoint is ready
 to process remote procedure calls.

 IMPORTANT: Whenever you override this method, call the parent implementation to enable
 rpc processing. It is advised to make the parent call last.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code> - indicating that something went wrong while starting the RPC endpoint</dd>
</dl>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>protected final&nbsp;void&nbsp;stop()</pre>
<div class="block">Stops the rpc endpoint. This tells the underlying rpc server that the rpc endpoint is
 no longer ready to process remote procedure calls.</div>
</li>
</ul>
<a name="postStop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postStop</h4>
<pre>public&nbsp;void&nbsp;postStop()
              throws java.lang.Exception</pre>
<div class="block">User overridable callback.

 <p>This method is called when the RpcEndpoint is being shut down. The method is guaranteed
 to be executed in the main thread context and can be used to clean up internal state.

 IMPORTANT: This method should never be called directly by the user.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code> - if an error occurs. The exception is returned as result of the termination future.</dd>
</dl>
</li>
</ul>
<a name="shutDown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutDown</h4>
<pre>public final&nbsp;void&nbsp;shutDown()</pre>
<div class="block">Triggers the shut down of the rpc endpoint. The shut down is executed asynchronously.

 <p>In order to wait on the completion of the shut down, obtain the termination future
 via <a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.html#getTerminationFuture--"><code>getTerminationFuture()</code></a>} and wait on its completion.</div>
</li>
</ul>
<a name="getSelfGateway-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSelfGateway</h4>
<pre>public&nbsp;&lt;C extends <a href="../../../../../org/apache/flink/runtime/rpc/RpcGateway.html" title="org.apache.flink.runtime.rpc中的接口">RpcGateway</a>&gt;&nbsp;C&nbsp;getSelfGateway(java.lang.Class&lt;C&gt;&nbsp;selfGatewayType)</pre>
<div class="block">Returns a self gateway of the specified type which can be used to issue asynchronous
 calls against the RpcEndpoint.

 <p>IMPORTANT: The self gateway type must be implemented by the RpcEndpoint. Otherwise
 the method will fail.</div>
<dl>
<dt><span class="paramLabel">类型参数:</span></dt>
<dd><code>C</code> - type of the self gateway to create</dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>selfGatewayType</code> - class of the self gateway type</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Self gateway of the specified type which can be used to issue asynchronous rpcs</dd>
</dl>
</li>
</ul>
<a name="getAddress--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddress</h4>
<pre>public&nbsp;java.lang.String&nbsp;getAddress()</pre>
<div class="block">Gets the address of the underlying RPC endpoint. The address should be fully qualified so that
 a remote system can connect to this RPC endpoint via this address.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/rpc/RpcGateway.html#getAddress--">getAddress</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/rpc/RpcGateway.html" title="org.apache.flink.runtime.rpc中的接口">RpcGateway</a></code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Fully qualified address of the underlying RPC endpoint</dd>
</dl>
</li>
</ul>
<a name="getHostname--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHostname</h4>
<pre>public&nbsp;java.lang.String&nbsp;getHostname()</pre>
<div class="block">Gets the hostname of the underlying RPC endpoint.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/rpc/RpcGateway.html#getHostname--">getHostname</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/rpc/RpcGateway.html" title="org.apache.flink.runtime.rpc中的接口">RpcGateway</a></code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Hostname on which the RPC endpoint is running</dd>
</dl>
</li>
</ul>
<a name="getMainThreadExecutor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMainThreadExecutor</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.MainThreadExecutor.html" title="org.apache.flink.runtime.rpc中的类">RpcEndpoint.MainThreadExecutor</a>&nbsp;getMainThreadExecutor()</pre>
<div class="block">Gets the main thread execution context. The main thread execution context can be used to
 execute tasks in the main thread of the underlying RPC endpoint.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Main thread execution context</dd>
</dl>
</li>
</ul>
<a name="getRpcService--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRpcService</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/flink/runtime/rpc/RpcService.html" title="org.apache.flink.runtime.rpc中的接口">RpcService</a>&nbsp;getRpcService()</pre>
<div class="block">Gets the endpoint's RPC service.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>The endpoint's RPC service</dd>
</dl>
</li>
</ul>
<a name="getTerminationFuture--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTerminationFuture</h4>
<pre>public&nbsp;java.util.concurrent.CompletableFuture&lt;java.lang.Boolean&gt;&nbsp;getTerminationFuture()</pre>
<div class="block">Return a future which is completed with true when the rpc endpoint has been terminated.
 In case of a failure, this future is completed with the occurring exception.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Future which is completed when the rpc endpoint has been terminated.</dd>
</dl>
</li>
</ul>
<a name="runAsync-java.lang.Runnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runAsync</h4>
<pre>protected&nbsp;void&nbsp;runAsync(java.lang.Runnable&nbsp;runnable)</pre>
<div class="block">Execute the runnable in the main thread of the underlying RPC endpoint.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>runnable</code> - Runnable to be executed in the main thread of the underlying RPC endpoint</dd>
</dl>
</li>
</ul>
<a name="scheduleRunAsync-java.lang.Runnable-org.apache.flink.api.common.time.Time-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scheduleRunAsync</h4>
<pre>protected&nbsp;void&nbsp;scheduleRunAsync(java.lang.Runnable&nbsp;runnable,
                                <a href="../../../../../org/apache/flink/api/common/time/Time.html" title="org.apache.flink.api.common.time中的类">Time</a>&nbsp;delay)</pre>
<div class="block">Execute the runnable in the main thread of the underlying RPC endpoint, with
 a delay of the given number of milliseconds.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>runnable</code> - Runnable to be executed</dd>
<dd><code>delay</code> - The delay after which the runnable will be executed</dd>
</dl>
</li>
</ul>
<a name="scheduleRunAsync-java.lang.Runnable-long-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scheduleRunAsync</h4>
<pre>protected&nbsp;void&nbsp;scheduleRunAsync(java.lang.Runnable&nbsp;runnable,
                                long&nbsp;delay,
                                java.util.concurrent.TimeUnit&nbsp;unit)</pre>
<div class="block">Execute the runnable in the main thread of the underlying RPC endpoint, with
 a delay of the given number of milliseconds.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>runnable</code> - Runnable to be executed</dd>
<dd><code>delay</code> - The delay after which the runnable will be executed</dd>
</dl>
</li>
</ul>
<a name="callAsync-java.util.concurrent.Callable-org.apache.flink.api.common.time.Time-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callAsync</h4>
<pre>protected&nbsp;&lt;V&gt;&nbsp;java.util.concurrent.CompletableFuture&lt;V&gt;&nbsp;callAsync(java.util.concurrent.Callable&lt;V&gt;&nbsp;callable,
                                                                  <a href="../../../../../org/apache/flink/api/common/time/Time.html" title="org.apache.flink.api.common.time中的类">Time</a>&nbsp;timeout)</pre>
<div class="block">Execute the callable in the main thread of the underlying RPC service, returning a future for
 the result of the callable. If the callable is not completed within the given timeout, then
 the future will be failed with a <code>TimeoutException</code>.</div>
<dl>
<dt><span class="paramLabel">类型参数:</span></dt>
<dd><code>V</code> - Return type of the callable</dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>callable</code> - Callable to be executed in the main thread of the underlying rpc server</dd>
<dd><code>timeout</code> - Timeout for the callable to be completed</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Future for the result of the callable.</dd>
</dl>
</li>
</ul>
<a name="validateRunsInMainThread--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>validateRunsInMainThread</h4>
<pre>public&nbsp;void&nbsp;validateRunsInMainThread()</pre>
<div class="block">Validates that the method call happens in the RPC endpoint's main thread.
 
 <p><b>IMPORTANT:</b> This check only happens when assertions are enabled,
 such as when running tests.
 
 <p>This can be used for additional checks, like
 <pre><code>
 protected void concurrencyCriticalMethod() {
     validateRunsInMainThread();
     
     // some critical stuff
 }
 </code></pre></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/flink/runtime/rpc/MainThreadValidatorUtil.html" title="org.apache.flink.runtime.rpc中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../org/apache/flink/runtime/rpc/RpcEndpoint.MainThreadExecutor.html" title="org.apache.flink.runtime.rpc中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/flink/runtime/rpc/RpcEndpoint.html" target="_top">框架</a></li>
<li><a href="RpcEndpoint.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
