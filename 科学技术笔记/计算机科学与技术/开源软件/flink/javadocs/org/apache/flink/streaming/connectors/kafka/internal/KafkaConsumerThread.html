<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_144) on Thu May 17 13:42:26 CST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>KafkaConsumerThread</title>
<meta name="date" content="2018-05-17">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="KafkaConsumerThread";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","所有方法"],1:["t1","静态方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerCallBridge010.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.AbortedReassignmentException.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html" target="_top">框架</a></li>
<li><a href="KafkaConsumerThread.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.streaming.connectors.kafka.internal</div>
<h2 title="类 KafkaConsumerThread" class="title">类 KafkaConsumerThread</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.lang.Thread</li>
<li>
<ul class="inheritance">
<li>org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">KafkaConsumerThread</span>
extends java.lang.Thread</pre>
<div class="block">The thread the runs the <code>KafkaConsumer</code>, connecting to the brokers and polling records.
 The thread pushes the data into a <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/Handover.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类"><code>Handover</code></a> to be picked up by the fetcher that will
 deserialize and emit the records.

 <p><b>IMPORTANT:</b> This thread must not be interrupted when attempting to shut it down.
 The Kafka consumer code was found to not always handle interrupts well, and to even
 deadlock in certain situations.

 <p>Implementation Note: This code is written to be reusable in later versions of the KafkaConsumer.
 Because Kafka is not maintaining binary compatibility, we use a "call bridge" as an indirection
 to the KafkaConsumer calls that change signature.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.AbortedReassignmentException.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类">KafkaConsumerThread.AbortedReassignmentException</a></span></code>
<div class="block">Utility exception that serves as a signal for the main loop to continue through the loop
 if a reassignment attempt was aborted due to an pre-reassignment wakeup call on the consumer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.CommitCallback.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类">KafkaConsumerThread.CommitCallback</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>从类继承的嵌套类/接口&nbsp;java.lang.Thread</h3>
<code>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#commitInProgress">commitInProgress</a></span></code>
<div class="block">Flag tracking whether the latest commit request has completed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private org.apache.kafka.clients.consumer.KafkaConsumer&lt;byte[],byte[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#consumer">consumer</a></span></code>
<div class="block">Reference to the Kafka consumer, once it is created.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerCallBridge.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类">KafkaConsumerCallBridge</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#consumerCallBridge">consumerCallBridge</a></span></code>
<div class="block">The indirections on KafkaConsumer methods, for cases where KafkaConsumer compatibility is broken.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#consumerReassignmentLock">consumerReassignmentLock</a></span></code>
<div class="block">This lock is used to isolate the consumer for partition reassignment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/Handover.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类">Handover</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#handover">handover</a></span></code>
<div class="block">The handover of data and exceptions between the consumer thread and the task thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#hasAssignedPartitions">hasAssignedPartitions</a></span></code>
<div class="block">Indication if this consumer has any assigned partition.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#hasBufferedWakeup">hasBufferedWakeup</a></span></code>
<div class="block">Flag to indicate whether an external operation (<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#setOffsetsToCommit-java.util.Map-org.apache.flink.streaming.connectors.kafka.internals.KafkaCommitCallback-"><code>setOffsetsToCommit(Map, KafkaCommitCallback)</code></a>
 or <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#shutdown--"><code>shutdown()</code></a>) had attempted to wakeup the consumer while it was isolated for partition reassignment.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Properties</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#kafkaProperties">kafkaProperties</a></span></code>
<div class="block">The configuration for the Kafka consumer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#log">log</a></span></code>
<div class="block">Logger for this consumer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.concurrent.atomic.AtomicReference&lt;<a href="../../../../../../../org/apache/flink/api/java/tuple/Tuple2.html" title="org.apache.flink.api.java.tuple中的类">Tuple2</a>&lt;java.util.Map&lt;org.apache.kafka.common.TopicPartition,org.apache.kafka.clients.consumer.OffsetAndMetadata&gt;,<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaCommitCallback.html" title="org.apache.flink.streaming.connectors.kafka.internals中的接口">KafkaCommitCallback</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#nextOffsetsToCommit">nextOffsetsToCommit</a></span></code>
<div class="block">The next offsets that the main thread should commit and the commit callback.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#pollTimeout">pollTimeout</a></span></code>
<div class="block">The maximum number of milliseconds to wait for a fetch batch.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#running">running</a></span></code>
<div class="block">Flag to mark the main work loop as alive.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/flink/metrics/MetricGroup.html" title="org.apache.flink.metrics中的接口">MetricGroup</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#subtaskMetricGroup">subtaskMetricGroup</a></span></code>
<div class="block">We get this from the outside to publish metrics.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/ClosableBlockingQueue.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">ClosableBlockingQueue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;org.apache.kafka.common.TopicPartition&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#unassignedPartitionsQueue">unassignedPartitionsQueue</a></span></code>
<div class="block">The queue of unassigned partitions that we need to assign to the Kafka consumer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#useMetrics">useMetrics</a></span></code>
<div class="block">Flag whether to add Kafka's metrics to the Flink metrics.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>从类继承的字段&nbsp;java.lang.Thread</h3>
<code>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#KafkaConsumerThread-org.slf4j.Logger-org.apache.flink.streaming.connectors.kafka.internal.Handover-java.util.Properties-org.apache.flink.streaming.connectors.kafka.internals.ClosableBlockingQueue-org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerCallBridge-java.lang.String-long-boolean-org.apache.flink.metrics.MetricGroup-">KafkaConsumerThread</a></span>(org.slf4j.Logger&nbsp;log,
                   <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/Handover.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类">Handover</a>&nbsp;handover,
                   java.util.Properties&nbsp;kafkaProperties,
                   <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/ClosableBlockingQueue.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">ClosableBlockingQueue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;org.apache.kafka.common.TopicPartition&gt;&gt;&nbsp;unassignedPartitionsQueue,
                   <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerCallBridge.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类">KafkaConsumerCallBridge</a>&nbsp;consumerCallBridge,
                   java.lang.String&nbsp;threadName,
                   long&nbsp;pollTimeout,
                   boolean&nbsp;useMetrics,
                   <a href="../../../../../../../org/apache/flink/metrics/MetricGroup.html" title="org.apache.flink.metrics中的接口">MetricGroup</a>&nbsp;subtaskMetricGroup)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">静态方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static java.util.List&lt;org.apache.kafka.common.TopicPartition&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#convertKafkaPartitions-java.util.List-">convertKafkaPartitions</a></span>(java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;org.apache.kafka.common.TopicPartition&gt;&gt;&nbsp;partitions)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(专用程序包) org.apache.kafka.clients.consumer.KafkaConsumer&lt;byte[],byte[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#getConsumer-java.util.Properties-">getConsumer</a></span>(java.util.Properties&nbsp;kafkaProperties)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(专用程序包) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#reassignPartitions-java.util.List-">reassignPartitions</a></span>(java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;org.apache.kafka.common.TopicPartition&gt;&gt;&nbsp;newPartitions)</code>
<div class="block">Reestablishes the assigned partitions for the consumer.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#run--">run</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(专用程序包) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#setOffsetsToCommit-java.util.Map-org.apache.flink.streaming.connectors.kafka.internals.KafkaCommitCallback-">setOffsetsToCommit</a></span>(java.util.Map&lt;org.apache.kafka.common.TopicPartition,org.apache.kafka.clients.consumer.OffsetAndMetadata&gt;&nbsp;offsetsToCommit,
                  <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaCommitCallback.html" title="org.apache.flink.streaming.connectors.kafka.internals中的接口">KafkaCommitCallback</a>&nbsp;commitCallback)</code>
<div class="block">Tells this thread to commit a set of offsets.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#shutdown--">shutdown</a></span>()</code>
<div class="block">Shuts this thread down, waking up the thread gracefully if blocked (without Thread.interrupt() calls).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Thread</h3>
<code>activeCount, checkAccess, clone, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, toString, yield</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log</h4>
<pre>private final&nbsp;org.slf4j.Logger log</pre>
<div class="block">Logger for this consumer.</div>
</li>
</ul>
<a name="handover">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handover</h4>
<pre>private final&nbsp;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/Handover.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类">Handover</a> handover</pre>
<div class="block">The handover of data and exceptions between the consumer thread and the task thread.</div>
</li>
</ul>
<a name="nextOffsetsToCommit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextOffsetsToCommit</h4>
<pre>private final&nbsp;java.util.concurrent.atomic.AtomicReference&lt;<a href="../../../../../../../org/apache/flink/api/java/tuple/Tuple2.html" title="org.apache.flink.api.java.tuple中的类">Tuple2</a>&lt;java.util.Map&lt;org.apache.kafka.common.TopicPartition,org.apache.kafka.clients.consumer.OffsetAndMetadata&gt;,<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaCommitCallback.html" title="org.apache.flink.streaming.connectors.kafka.internals中的接口">KafkaCommitCallback</a>&gt;&gt; nextOffsetsToCommit</pre>
<div class="block">The next offsets that the main thread should commit and the commit callback.</div>
</li>
</ul>
<a name="kafkaProperties">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>kafkaProperties</h4>
<pre>private final&nbsp;java.util.Properties kafkaProperties</pre>
<div class="block">The configuration for the Kafka consumer.</div>
</li>
</ul>
<a name="unassignedPartitionsQueue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unassignedPartitionsQueue</h4>
<pre>private final&nbsp;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/ClosableBlockingQueue.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">ClosableBlockingQueue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;org.apache.kafka.common.TopicPartition&gt;&gt; unassignedPartitionsQueue</pre>
<div class="block">The queue of unassigned partitions that we need to assign to the Kafka consumer.</div>
</li>
</ul>
<a name="consumerCallBridge">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>consumerCallBridge</h4>
<pre>private final&nbsp;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerCallBridge.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类">KafkaConsumerCallBridge</a> consumerCallBridge</pre>
<div class="block">The indirections on KafkaConsumer methods, for cases where KafkaConsumer compatibility is broken.</div>
</li>
</ul>
<a name="pollTimeout">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pollTimeout</h4>
<pre>private final&nbsp;long pollTimeout</pre>
<div class="block">The maximum number of milliseconds to wait for a fetch batch.</div>
</li>
</ul>
<a name="useMetrics">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useMetrics</h4>
<pre>private final&nbsp;boolean useMetrics</pre>
<div class="block">Flag whether to add Kafka's metrics to the Flink metrics.</div>
</li>
</ul>
<a name="subtaskMetricGroup">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subtaskMetricGroup</h4>
<pre>private final&nbsp;<a href="../../../../../../../org/apache/flink/metrics/MetricGroup.html" title="org.apache.flink.metrics中的接口">MetricGroup</a> subtaskMetricGroup</pre>
<div class="block">We get this from the outside to publish metrics.</div>
</li>
</ul>
<a name="consumer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>consumer</h4>
<pre>private volatile&nbsp;org.apache.kafka.clients.consumer.KafkaConsumer&lt;byte[],byte[]&gt; consumer</pre>
<div class="block">Reference to the Kafka consumer, once it is created.</div>
</li>
</ul>
<a name="consumerReassignmentLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>consumerReassignmentLock</h4>
<pre>private final&nbsp;java.lang.Object consumerReassignmentLock</pre>
<div class="block">This lock is used to isolate the consumer for partition reassignment.</div>
</li>
</ul>
<a name="hasAssignedPartitions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasAssignedPartitions</h4>
<pre>private&nbsp;boolean hasAssignedPartitions</pre>
<div class="block">Indication if this consumer has any assigned partition.</div>
</li>
</ul>
<a name="hasBufferedWakeup">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasBufferedWakeup</h4>
<pre>private volatile&nbsp;boolean hasBufferedWakeup</pre>
<div class="block">Flag to indicate whether an external operation (<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#setOffsetsToCommit-java.util.Map-org.apache.flink.streaming.connectors.kafka.internals.KafkaCommitCallback-"><code>setOffsetsToCommit(Map, KafkaCommitCallback)</code></a>
 or <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html#shutdown--"><code>shutdown()</code></a>) had attempted to wakeup the consumer while it was isolated for partition reassignment.</div>
</li>
</ul>
<a name="running">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>running</h4>
<pre>private volatile&nbsp;boolean running</pre>
<div class="block">Flag to mark the main work loop as alive.</div>
</li>
</ul>
<a name="commitInProgress">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>commitInProgress</h4>
<pre>private volatile&nbsp;boolean commitInProgress</pre>
<div class="block">Flag tracking whether the latest commit request has completed.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="KafkaConsumerThread-org.slf4j.Logger-org.apache.flink.streaming.connectors.kafka.internal.Handover-java.util.Properties-org.apache.flink.streaming.connectors.kafka.internals.ClosableBlockingQueue-org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerCallBridge-java.lang.String-long-boolean-org.apache.flink.metrics.MetricGroup-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KafkaConsumerThread</h4>
<pre>public&nbsp;KafkaConsumerThread(org.slf4j.Logger&nbsp;log,
                           <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/Handover.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类">Handover</a>&nbsp;handover,
                           java.util.Properties&nbsp;kafkaProperties,
                           <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/ClosableBlockingQueue.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">ClosableBlockingQueue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;org.apache.kafka.common.TopicPartition&gt;&gt;&nbsp;unassignedPartitionsQueue,
                           <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerCallBridge.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类">KafkaConsumerCallBridge</a>&nbsp;consumerCallBridge,
                           java.lang.String&nbsp;threadName,
                           long&nbsp;pollTimeout,
                           boolean&nbsp;useMetrics,
                           <a href="../../../../../../../org/apache/flink/metrics/MetricGroup.html" title="org.apache.flink.metrics中的接口">MetricGroup</a>&nbsp;subtaskMetricGroup)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>run</code>&nbsp;在接口中&nbsp;<code>java.lang.Runnable</code></dd>
<dt><span class="overrideSpecifyLabel">覆盖:</span></dt>
<dd><code>run</code>&nbsp;在类中&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block">Shuts this thread down, waking up the thread gracefully if blocked (without Thread.interrupt() calls).</div>
</li>
</ul>
<a name="setOffsetsToCommit-java.util.Map-org.apache.flink.streaming.connectors.kafka.internals.KafkaCommitCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOffsetsToCommit</h4>
<pre>void&nbsp;setOffsetsToCommit(java.util.Map&lt;org.apache.kafka.common.TopicPartition,org.apache.kafka.clients.consumer.OffsetAndMetadata&gt;&nbsp;offsetsToCommit,
                        @Nonnull
                        <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaCommitCallback.html" title="org.apache.flink.streaming.connectors.kafka.internals中的接口">KafkaCommitCallback</a>&nbsp;commitCallback)</pre>
<div class="block">Tells this thread to commit a set of offsets. This method does not block, the committing
 operation will happen asynchronously.

 <p>Only one commit operation may be pending at any time. If the committing takes longer than
 the frequency with which this method is called, then some commits may be skipped due to being
 superseded by newer ones.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>offsetsToCommit</code> - The offsets to commit</dd>
<dd><code>commitCallback</code> - callback when Kafka commit completes</dd>
</dl>
</li>
</ul>
<a name="reassignPartitions-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reassignPartitions</h4>
<pre><a href="../../../../../../../org/apache/flink/annotation/VisibleForTesting.html" title="org.apache.flink.annotation中的注释">@VisibleForTesting</a>
void&nbsp;reassignPartitions(java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;org.apache.kafka.common.TopicPartition&gt;&gt;&nbsp;newPartitions)
                                    throws java.lang.Exception</pre>
<div class="block">Reestablishes the assigned partitions for the consumer.
 The reassigned partitions consists of the provided new partitions and whatever partitions
 was already previously assigned to the consumer.

 <p>The reassignment process is protected against wakeup calls, so that after
 this method returns, the consumer is either untouched or completely reassigned
 with the correct offset positions.

 <p>If the consumer was already woken-up prior to a reassignment resulting in an
 interruption any time during the reassignment, the consumer is guaranteed
 to roll back as if it was untouched. On the other hand, if there was an attempt
 to wakeup the consumer during the reassignment, the wakeup call is "buffered"
 until the reassignment completes.

 <p>This method is exposed for testing purposes.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="getConsumer-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConsumer</h4>
<pre><a href="../../../../../../../org/apache/flink/annotation/VisibleForTesting.html" title="org.apache.flink.annotation中的注释">@VisibleForTesting</a>
org.apache.kafka.clients.consumer.KafkaConsumer&lt;byte[],byte[]&gt;&nbsp;getConsumer(java.util.Properties&nbsp;kafkaProperties)</pre>
</li>
</ul>
<a name="convertKafkaPartitions-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>convertKafkaPartitions</h4>
<pre>private static&nbsp;java.util.List&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;convertKafkaPartitions(java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;org.apache.kafka.common.TopicPartition&gt;&gt;&nbsp;partitions)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerCallBridge010.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.AbortedReassignmentException.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/flink/streaming/connectors/kafka/internal/KafkaConsumerThread.html" target="_top">框架</a></li>
<li><a href="KafkaConsumerThread.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
