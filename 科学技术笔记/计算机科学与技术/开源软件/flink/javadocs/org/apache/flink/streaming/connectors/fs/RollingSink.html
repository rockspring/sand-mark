<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_144) on Thu May 17 13:42:31 CST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RollingSink</title>
<meta name="date" content="2018-05-17">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RollingSink";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":42,"i1":42,"i2":42,"i3":42,"i4":42,"i5":42,"i6":42,"i7":42,"i8":42,"i9":42,"i10":42,"i11":42,"i12":42,"i13":42,"i14":42,"i15":42,"i16":42,"i17":42,"i18":42,"i19":42,"i20":42,"i21":42,"i22":42,"i23":42,"i24":42,"i25":42,"i26":42,"i27":42,"i28":42,"i29":42};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"],32:["t6","已过时的方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/flink/streaming/connectors/fs/NonRollingBucketer.html" title="org.apache.flink.streaming.connectors.fs中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.BucketState.html" title="org.apache.flink.streaming.connectors.fs中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/flink/streaming/connectors/fs/RollingSink.html" target="_top">框架</a></li>
<li><a href="RollingSink.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.streaming.connectors.fs</div>
<h2 title="类 RollingSink" class="title">类 RollingSink&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/apache/flink/api/common/functions/AbstractRichFunction.html" title="org.apache.flink.api.common.functions中的类">org.apache.flink.api.common.functions.AbstractRichFunction</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/apache/flink/streaming/api/functions/sink/RichSinkFunction.html" title="org.apache.flink.streaming.api.functions.sink中的类">org.apache.flink.streaming.api.functions.sink.RichSinkFunction</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li>org.apache.flink.streaming.connectors.fs.RollingSink&lt;T&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">类型参数:</span></dt>
<dd><code>T</code> - Type of the elements emitted by this sink</dd>
</dl>
<dl>
<dt>所有已实现的接口:</dt>
<dd>java.io.Serializable, <a href="../../../../../../org/apache/flink/api/common/functions/Function.html" title="org.apache.flink.api.common.functions中的接口">Function</a>, <a href="../../../../../../org/apache/flink/api/common/functions/RichFunction.html" title="org.apache.flink.api.common.functions中的接口">RichFunction</a>, <a href="../../../../../../org/apache/flink/api/java/typeutils/InputTypeConfigurable.html" title="org.apache.flink.api.java.typeutils中的接口">InputTypeConfigurable</a>, <a href="../../../../../../org/apache/flink/runtime/state/CheckpointListener.html" title="org.apache.flink.runtime.state中的接口">CheckpointListener</a>, <a href="../../../../../../org/apache/flink/streaming/api/checkpoint/CheckpointedFunction.html" title="org.apache.flink.streaming.api.checkpoint中的接口">CheckpointedFunction</a>, <a href="../../../../../../org/apache/flink/streaming/api/functions/sink/SinkFunction.html" title="org.apache.flink.streaming.api.functions.sink中的接口">SinkFunction</a>&lt;T&gt;</dd>
</dl>
<hr>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;
<div class="block"><span class="deprecationComment">use <a href="../../../../../../org/apache/flink/streaming/connectors/fs/bucketing/BucketingSink.html" title="org.apache.flink.streaming.connectors.fs.bucketing中的类"><code>BucketingSink</code></a> instead.</span></div>
</div>
<br>
<pre>@Deprecated
public class <span class="typeNameLabel">RollingSink&lt;T&gt;</span>
extends <a href="../../../../../../org/apache/flink/streaming/api/functions/sink/RichSinkFunction.html" title="org.apache.flink.streaming.api.functions.sink中的类">RichSinkFunction</a>&lt;T&gt;
implements <a href="../../../../../../org/apache/flink/api/java/typeutils/InputTypeConfigurable.html" title="org.apache.flink.api.java.typeutils中的接口">InputTypeConfigurable</a>, <a href="../../../../../../org/apache/flink/streaming/api/checkpoint/CheckpointedFunction.html" title="org.apache.flink.streaming.api.checkpoint中的接口">CheckpointedFunction</a>, <a href="../../../../../../org/apache/flink/runtime/state/CheckpointListener.html" title="org.apache.flink.runtime.state中的接口">CheckpointListener</a></pre>
<div class="block">Sink that emits its input elements to rolling <code>FileSystem</code> files. This
 is integrated with the checkpointing mechanism to provide exactly once semantics.


 <p>When creating the sink a <code>basePath</code> must be specified. The base directory contains
 one directory for every bucket. The bucket directories themselves contain several part files.
 These contain the actual written data.


 <p>The sink uses a <a href="../../../../../../org/apache/flink/streaming/connectors/fs/Bucketer.html" title="org.apache.flink.streaming.connectors.fs中的接口"><code>Bucketer</code></a> to determine the name of bucket directories inside the
 base directory. Whenever the <code>Bucketer</code> returns a different directory name than
 it returned before the sink will close the current part files inside that bucket
 and start the new bucket directory. The default bucketer is a <a href="../../../../../../org/apache/flink/streaming/connectors/fs/DateTimeBucketer.html" title="org.apache.flink.streaming.connectors.fs中的类"><code>DateTimeBucketer</code></a> with
 date format string <code>""yyyy-MM-dd--HH"</code>. You can specify a custom <code>Bucketer</code>
 using <a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setBucketer-org.apache.flink.streaming.connectors.fs.Bucketer-"><code>setBucketer(Bucketer)</code></a>. For example, use
 <a href="../../../../../../org/apache/flink/streaming/connectors/fs/NonRollingBucketer.html" title="org.apache.flink.streaming.connectors.fs中的类"><code>NonRollingBucketer</code></a> if you don't want to have
 buckets but still write part files in a fault-tolerant way.


 <p>The filenames of the part files contain the part prefix, the parallel subtask index of the sink
 and a rolling counter, for example <code>"part-1-17"</code>. Per default the part prefix is
 <code>"part"</code> but this can be
 configured using <a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setPartPrefix-java.lang.String-"><code>setPartPrefix(String)</code></a>. When a part file becomes bigger
 than the batch size the current part file is closed, the part counter is increased and
 a new part file is created. The batch size defaults to <code>384MB</code>, this can be configured
 using <a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setBatchSize-long-"><code>setBatchSize(long)</code></a>.


 <p>Part files can be in one of three states: in-progress, pending or finished. The reason for this
 is how the sink works together with the checkpointing mechanism to provide exactly-once semantics
 and fault-tolerance. The part file that is currently being written to is in-progress. Once
 a part file is closed for writing it becomes pending. When a checkpoint is successful the
 currently pending files will be moved to finished. If a failure occurs the pending files
 will be deleted to reset state to the last checkpoint. The data in in-progress files will
 also have to be rolled back. If the <code>FileSystem</code> supports the <code>truncate</code> call
 this will be used to reset the file back to a previous state. If not, a special file
 with the same name as the part file and the suffix <code>".valid-length"</code> will be written
 that contains the length up to which the file contains valid data. When reading the file
 it must be ensured that it is only read up to that point. The prefixes and suffixes for
 the different file states and valid-length files can be configured, for example with
 <a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setPendingSuffix-java.lang.String-"><code>setPendingSuffix(String)</code></a>.


 <p>Note: If checkpointing is not enabled the pending files will never be moved to the finished state.
 In that case, the pending suffix/prefix can be set to <code>""</code> to make the sink work
 in a non-fault-tolerant way but still provide output without prefixes and suffixes.


 <p>The part files are written using an instance of <a href="../../../../../../org/apache/flink/streaming/connectors/fs/Writer.html" title="org.apache.flink.streaming.connectors.fs中的接口"><code>Writer</code></a>. By default
 <a href="../../../../../../org/apache/flink/streaming/connectors/fs/StringWriter.html" title="org.apache.flink.streaming.connectors.fs中的类"><code>StringWriter</code></a> is used, which writes the result
 of <code>toString()</code> for every element. Separated by newlines. You can configure the writer
 using <a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setWriter-org.apache.flink.streaming.connectors.fs.Writer-"><code>setWriter(Writer)</code></a>. For example,
 <a href="../../../../../../org/apache/flink/streaming/connectors/fs/SequenceFileWriter.html" title="org.apache.flink.streaming.connectors.fs中的类"><code>SequenceFileWriter</code></a> can be used to write
 Hadoop <code>SequenceFiles</code>.


 <p>Example:

 <pre><code>
     new RollingSink&lt;Tuple2&lt;IntWritable, Text&gt;&gt;(outPath)
         .setWriter(new SequenceFileWriter&lt;IntWritable, Text&gt;())
         .setBucketer(new DateTimeBucketer("yyyy-MM-dd--HHmm")
 </code></pre>

 <p>This will create a sink that writes to <code>SequenceFiles</code> and rolls every minute.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../org/apache/flink/streaming/connectors/fs/DateTimeBucketer.html" title="org.apache.flink.streaming.connectors.fs中的类"><code>DateTimeBucketer</code></a>, 
<a href="../../../../../../org/apache/flink/streaming/connectors/fs/StringWriter.html" title="org.apache.flink.streaming.connectors.fs中的类"><code>StringWriter</code></a>, 
<a href="../../../../../../org/apache/flink/streaming/connectors/fs/SequenceFileWriter.html" title="org.apache.flink.streaming.connectors.fs中的类"><code>SequenceFileWriter</code></a>, 
<a href="../../../../../../serialized-form.html#org.apache.flink.streaming.connectors.fs.RollingSink">序列化表格</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.BucketState.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink.BucketState</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">This is used for keeping track of the current in-progress files and files that we mark
 for moving from pending to final location after we get a checkpoint-complete notification.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.org.apache.flink.streaming.api.functions.sink.SinkFunction">
<!--   -->
</a>
<h3>从接口继承的嵌套类/接口&nbsp;org.apache.flink.streaming.api.functions.sink.<a href="../../../../../../org/apache/flink/streaming/api/functions/sink/SinkFunction.html" title="org.apache.flink.streaming.api.functions.sink中的接口">SinkFunction</a></h3>
<code><a href="../../../../../../org/apache/flink/streaming/api/functions/sink/SinkFunction.Context.html" title="org.apache.flink.streaming.api.functions.sink中的接口">SinkFunction.Context</a>&lt;<a href="../../../../../../org/apache/flink/streaming/api/functions/sink/SinkFunction.Context.html" title="SinkFunction.Context中的类型参数">T</a>&gt;</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#asyncTimeout">asyncTimeout</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The timeout for asynchronous operations such as recoverLease and truncate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#basePath">basePath</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The base <code>Path</code> that stores all bucket directories.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#batchSize">batchSize</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Maximum size of part files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/streaming/connectors/fs/Bucketer.html" title="org.apache.flink.streaming.connectors.fs中的接口">Bucketer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#bucketer">bucketer</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The <code>Bucketer</code> that is used to determine the path of bucket directories.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.BucketState.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink.BucketState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#bucketState">bucketState</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The state object that is handled by flink from snapshot/restore.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#currentBucketDirectory">currentBucketDirectory</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The bucket directory that we are currently filling.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#currentPartPath">currentPartPath</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The part file that we are currently writing to.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#DEFAULT_ASYNC_TIMEOUT_MS">DEFAULT_ASYNC_TIMEOUT_MS</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The default timeout for asynchronous operations such as recoverLease and truncate.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#DEFAULT_BATCH_SIZE">DEFAULT_BATCH_SIZE</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The default maximum size of part files (currently <code>384 MB</code>).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#DEFAULT_IN_PROGRESS_PREFIX">DEFAULT_IN_PROGRESS_PREFIX</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">See above, but for prefix.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#DEFAULT_IN_PROGRESS_SUFFIX">DEFAULT_IN_PROGRESS_SUFFIX</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">This is used for part files that we are writing to but which where not yet confirmed
 by a checkpoint.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#DEFAULT_PART_REFIX">DEFAULT_PART_REFIX</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The default prefix for part files.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#DEFAULT_PENDING_PREFIX">DEFAULT_PENDING_PREFIX</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">See above, but for prefix.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#DEFAULT_PENDING_SUFFIX">DEFAULT_PENDING_SUFFIX</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">This is used for part files that we are not writing to but which are not yet confirmed by
 checkpoint.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#DEFAULT_VALID_PREFIX">DEFAULT_VALID_PREFIX</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">See above, but for prefix.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#DEFAULT_VALID_SUFFIX">DEFAULT_VALID_SUFFIX</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">When truncate() is not supported on the used FileSystem we instead write a
 file along the part file with this ending that contains the length up to which
 the part file is valid.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.apache.hadoop.fs.FileSystem</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#fs">fs</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The FileSystem reference.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#fsConfig">fsConfig</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">User-defined FileSystem parameters.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#inProgressPrefix">inProgressPrefix</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#inProgressSuffix">inProgressSuffix</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#isWriterOpen">isWriterOpen</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Tracks if the writer is currently opened or closed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#LOG">LOG</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#partCounter">partCounter</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">For counting the part files inside a bucket directory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#partPrefix">partPrefix</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#pendingPrefix">pendingPrefix</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#pendingSuffix">pendingSuffix</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.reflect.Method</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#refTruncate">refTruncate</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">We use reflection to get the .truncate() method, this is only available starting with
 Hadoop 2.7.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/api/common/state/ListState.html" title="org.apache.flink.api.common.state中的接口">ListState</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.BucketState.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink.BucketState</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#restoredBucketStates">restoredBucketStates</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#serialVersionUID">serialVersionUID</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#validLengthPrefix">validLengthPrefix</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#validLengthSuffix">validLengthSuffix</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/streaming/connectors/fs/Writer.html" title="org.apache.flink.streaming.connectors.fs中的接口">Writer</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#writer">writer</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The actual writer that we user for writing the part files.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/streaming/connectors/fs/Writer.html" title="org.apache.flink.streaming.connectors.fs中的接口">Writer</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#writerTemplate">writerTemplate</a></span></code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">We have a template and call duplicate() for each parallel writer in open() to get the actual
 writer that is used for the part files.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#RollingSink-java.lang.String-">RollingSink</a></span>(java.lang.String&nbsp;basePath)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Creates a new <code>RollingSink</code> that writes files to the given base directory.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">已过时的方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#close--">close</a></span>()</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Tear-down method for the user code.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#closeCurrentPartFile--">closeCurrentPartFile</a></span>()</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Closes the current part file.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#disableCleanupOnOpen--">disableCleanupOnOpen</a></span>()</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;
<div class="block"><span class="deprecationComment">This option is deprecated and remains only for backwards compatibility.
 We do not clean up lingering files anymore.</span></div>
</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#getInProgressPathFor-org.apache.hadoop.fs.Path-">getInProgressPathFor</a></span>(org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#getPendingPathFor-org.apache.hadoop.fs.Path-">getPendingPathFor</a></span>(org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#getValidLengthPathFor-org.apache.hadoop.fs.Path-">getValidLengthPathFor</a></span>(org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#handleRestoredBucketState-org.apache.flink.streaming.connectors.fs.RollingSink.BucketState-">handleRestoredBucketState</a></span>(<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.BucketState.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink.BucketState</a>&nbsp;bucketState)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#initFileSystem--">initFileSystem</a></span>()</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Create a file system with the user-defined hdfs config.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#initializeState-org.apache.flink.runtime.state.FunctionInitializationContext-">initializeState</a></span>(<a href="../../../../../../org/apache/flink/runtime/state/FunctionInitializationContext.html" title="org.apache.flink.runtime.state中的接口">FunctionInitializationContext</a>&nbsp;context)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">This method is called when the parallel function instance is created during distributed
 execution.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#invoke-T-">invoke</a></span>(<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&nbsp;value)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#notifyCheckpointComplete-long-">notifyCheckpointComplete</a></span>(long&nbsp;checkpointId)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">This method is called as a notification once a distributed checkpoint has been completed.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#open-org.apache.flink.configuration.Configuration-">open</a></span>(<a href="../../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a>&nbsp;parameters)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Initialization method for the function.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#openNewPartFile--">openNewPartFile</a></span>()</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Opens a new part file.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private java.lang.reflect.Method</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#reflectTruncate-org.apache.hadoop.fs.FileSystem-">reflectTruncate</a></span>(org.apache.hadoop.fs.FileSystem&nbsp;fs)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Gets the truncate() call using reflection.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setAsyncTimeout-long-">setAsyncTimeout</a></span>(long&nbsp;timeout)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the default timeout for asynchronous operations such as recoverLease and truncate.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setBatchSize-long-">setBatchSize</a></span>(long&nbsp;batchSize)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the maximum bucket size in bytes.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setBucketer-org.apache.flink.streaming.connectors.fs.Bucketer-">setBucketer</a></span>(<a href="../../../../../../org/apache/flink/streaming/connectors/fs/Bucketer.html" title="org.apache.flink.streaming.connectors.fs中的接口">Bucketer</a>&nbsp;bucketer)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the <a href="../../../../../../org/apache/flink/streaming/connectors/fs/Bucketer.html" title="org.apache.flink.streaming.connectors.fs中的接口"><code>Bucketer</code></a> to use for determining the bucket files to write to.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setFSConfig-org.apache.flink.configuration.Configuration-">setFSConfig</a></span>(<a href="../../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a>&nbsp;config)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Specify a custom <code>Configuration</code> that will be used when creating
 the <code>FileSystem</code> for writing.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setFSConfig-org.apache.hadoop.conf.Configuration-">setFSConfig</a></span>(<a href="../../../../../../org/apache/hadoop/conf/Configuration.html" title="org.apache.hadoop.conf中的类">Configuration</a>&nbsp;config)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Specify a custom <code>Configuration</code> that will be used when creating
 the <code>FileSystem</code> for writing.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setInProgressPrefix-java.lang.String-">setInProgressPrefix</a></span>(java.lang.String&nbsp;inProgressPrefix)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the prefix of in-progress part files.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setInProgressSuffix-java.lang.String-">setInProgressSuffix</a></span>(java.lang.String&nbsp;inProgressSuffix)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the suffix of in-progress part files.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setInputType-org.apache.flink.api.common.typeinfo.TypeInformation-org.apache.flink.api.common.ExecutionConfig-">setInputType</a></span>(<a href="../../../../../../org/apache/flink/api/common/typeinfo/TypeInformation.html" title="org.apache.flink.api.common.typeinfo中的类">TypeInformation</a>&lt;?&gt;&nbsp;type,
            <a href="../../../../../../org/apache/flink/api/common/ExecutionConfig.html" title="org.apache.flink.api.common中的类">ExecutionConfig</a>&nbsp;executionConfig)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Method that is called on an <a href="../../../../../../org/apache/flink/api/common/io/OutputFormat.html" title="org.apache.flink.api.common.io中的接口"><code>OutputFormat</code></a> when it is passed to
 the DataSet's output method.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setPartPrefix-java.lang.String-">setPartPrefix</a></span>(java.lang.String&nbsp;partPrefix)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the prefix of part files.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setPendingPrefix-java.lang.String-">setPendingPrefix</a></span>(java.lang.String&nbsp;pendingPrefix)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the prefix of pending part files.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setPendingSuffix-java.lang.String-">setPendingSuffix</a></span>(java.lang.String&nbsp;pendingSuffix)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the suffix of pending part files.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setValidLengthPrefix-java.lang.String-">setValidLengthPrefix</a></span>(java.lang.String&nbsp;validLengthPrefix)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the prefix of valid-length files.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setValidLengthSuffix-java.lang.String-">setValidLengthSuffix</a></span>(java.lang.String&nbsp;validLengthSuffix)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the suffix of valid-length files.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#setWriter-org.apache.flink.streaming.connectors.fs.Writer-">setWriter</a></span>(<a href="../../../../../../org/apache/flink/streaming/connectors/fs/Writer.html" title="org.apache.flink.streaming.connectors.fs中的接口">Writer</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;writer)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the <a href="../../../../../../org/apache/flink/streaming/connectors/fs/Writer.html" title="org.apache.flink.streaming.connectors.fs中的接口"><code>Writer</code></a> to be used for writing the incoming elements to bucket files.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#shouldRoll--">shouldRoll</a></span>()</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Determines whether we should change the bucket file we are writing to.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html#snapshotState-org.apache.flink.runtime.state.FunctionSnapshotContext-">snapshotState</a></span>(<a href="../../../../../../org/apache/flink/runtime/state/FunctionSnapshotContext.html" title="org.apache.flink.runtime.state中的接口">FunctionSnapshotContext</a>&nbsp;context)</code>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">This method is called when a snapshot for a checkpoint is requested.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.flink.api.common.functions.AbstractRichFunction">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.apache.flink.api.common.functions.<a href="../../../../../../org/apache/flink/api/common/functions/AbstractRichFunction.html" title="org.apache.flink.api.common.functions中的类">AbstractRichFunction</a></h3>
<code><a href="../../../../../../org/apache/flink/api/common/functions/AbstractRichFunction.html#getIterationRuntimeContext--">getIterationRuntimeContext</a>, <a href="../../../../../../org/apache/flink/api/common/functions/AbstractRichFunction.html#getRuntimeContext--">getRuntimeContext</a>, <a href="../../../../../../org/apache/flink/api/common/functions/AbstractRichFunction.html#setRuntimeContext-org.apache.flink.api.common.functions.RuntimeContext-">setRuntimeContext</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.flink.streaming.api.functions.sink.SinkFunction">
<!--   -->
</a>
<h3>从接口继承的方法&nbsp;org.apache.flink.streaming.api.functions.sink.<a href="../../../../../../org/apache/flink/streaming/api/functions/sink/SinkFunction.html" title="org.apache.flink.streaming.api.functions.sink中的接口">SinkFunction</a></h3>
<code><a href="../../../../../../org/apache/flink/streaming/api/functions/sink/SinkFunction.html#invoke-IN-org.apache.flink.streaming.api.functions.sink.SinkFunction.Context-">invoke</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="serialVersionUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialVersionUID</h4>
<pre>private static final&nbsp;long serialVersionUID</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.streaming.connectors.fs.RollingSink.serialVersionUID">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>private static final&nbsp;org.slf4j.Logger LOG</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="DEFAULT_BATCH_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_BATCH_SIZE</h4>
<pre>private static final&nbsp;long DEFAULT_BATCH_SIZE</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The default maximum size of part files (currently <code>384 MB</code>).</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.streaming.connectors.fs.RollingSink.DEFAULT_BATCH_SIZE">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_IN_PROGRESS_SUFFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_IN_PROGRESS_SUFFIX</h4>
<pre>private static final&nbsp;java.lang.String DEFAULT_IN_PROGRESS_SUFFIX</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">This is used for part files that we are writing to but which where not yet confirmed
 by a checkpoint.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.streaming.connectors.fs.RollingSink.DEFAULT_IN_PROGRESS_SUFFIX">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_IN_PROGRESS_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_IN_PROGRESS_PREFIX</h4>
<pre>private static final&nbsp;java.lang.String DEFAULT_IN_PROGRESS_PREFIX</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">See above, but for prefix.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.streaming.connectors.fs.RollingSink.DEFAULT_IN_PROGRESS_PREFIX">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_PENDING_SUFFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_PENDING_SUFFIX</h4>
<pre>private static final&nbsp;java.lang.String DEFAULT_PENDING_SUFFIX</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">This is used for part files that we are not writing to but which are not yet confirmed by
 checkpoint.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.streaming.connectors.fs.RollingSink.DEFAULT_PENDING_SUFFIX">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_PENDING_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_PENDING_PREFIX</h4>
<pre>private static final&nbsp;java.lang.String DEFAULT_PENDING_PREFIX</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">See above, but for prefix.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.streaming.connectors.fs.RollingSink.DEFAULT_PENDING_PREFIX">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_VALID_SUFFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_VALID_SUFFIX</h4>
<pre>private static final&nbsp;java.lang.String DEFAULT_VALID_SUFFIX</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">When truncate() is not supported on the used FileSystem we instead write a
 file along the part file with this ending that contains the length up to which
 the part file is valid.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.streaming.connectors.fs.RollingSink.DEFAULT_VALID_SUFFIX">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_VALID_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_VALID_PREFIX</h4>
<pre>private static final&nbsp;java.lang.String DEFAULT_VALID_PREFIX</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">See above, but for prefix.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.streaming.connectors.fs.RollingSink.DEFAULT_VALID_PREFIX">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_PART_REFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_PART_REFIX</h4>
<pre>private static final&nbsp;java.lang.String DEFAULT_PART_REFIX</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The default prefix for part files.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.streaming.connectors.fs.RollingSink.DEFAULT_PART_REFIX">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_ASYNC_TIMEOUT_MS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_ASYNC_TIMEOUT_MS</h4>
<pre>private static final&nbsp;long DEFAULT_ASYNC_TIMEOUT_MS</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The default timeout for asynchronous operations such as recoverLease and truncate. In
 milliseconds.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.streaming.connectors.fs.RollingSink.DEFAULT_ASYNC_TIMEOUT_MS">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="basePath">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>basePath</h4>
<pre>private final&nbsp;java.lang.String basePath</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The base <code>Path</code> that stores all bucket directories.</div>
</li>
</ul>
<a name="bucketer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bucketer</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/Bucketer.html" title="org.apache.flink.streaming.connectors.fs中的接口">Bucketer</a> bucketer</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The <code>Bucketer</code> that is used to determine the path of bucket directories.</div>
</li>
</ul>
<a name="writerTemplate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writerTemplate</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/Writer.html" title="org.apache.flink.streaming.connectors.fs中的接口">Writer</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt; writerTemplate</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">We have a template and call duplicate() for each parallel writer in open() to get the actual
 writer that is used for the part files.</div>
</li>
</ul>
<a name="writer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writer</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/Writer.html" title="org.apache.flink.streaming.connectors.fs中的接口">Writer</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt; writer</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The actual writer that we user for writing the part files.</div>
</li>
</ul>
<a name="batchSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>batchSize</h4>
<pre>private&nbsp;long batchSize</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Maximum size of part files. If files exceed this we close and create a new one in the same
 bucket directory.</div>
</li>
</ul>
<a name="inProgressSuffix">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inProgressSuffix</h4>
<pre>private&nbsp;java.lang.String inProgressSuffix</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="inProgressPrefix">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inProgressPrefix</h4>
<pre>private&nbsp;java.lang.String inProgressPrefix</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="pendingSuffix">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingSuffix</h4>
<pre>private&nbsp;java.lang.String pendingSuffix</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="pendingPrefix">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingPrefix</h4>
<pre>private&nbsp;java.lang.String pendingPrefix</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="validLengthSuffix">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validLengthSuffix</h4>
<pre>private&nbsp;java.lang.String validLengthSuffix</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="validLengthPrefix">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validLengthPrefix</h4>
<pre>private&nbsp;java.lang.String validLengthPrefix</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="partPrefix">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partPrefix</h4>
<pre>private&nbsp;java.lang.String partPrefix</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="asyncTimeout">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncTimeout</h4>
<pre>private&nbsp;long asyncTimeout</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The timeout for asynchronous operations such as recoverLease and truncate. In
 milliseconds.</div>
</li>
</ul>
<a name="currentPartPath">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentPartPath</h4>
<pre>private transient&nbsp;org.apache.hadoop.fs.Path currentPartPath</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The part file that we are currently writing to.</div>
</li>
</ul>
<a name="currentBucketDirectory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentBucketDirectory</h4>
<pre>private transient&nbsp;org.apache.hadoop.fs.Path currentBucketDirectory</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The bucket directory that we are currently filling.</div>
</li>
</ul>
<a name="partCounter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partCounter</h4>
<pre>private transient&nbsp;int partCounter</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">For counting the part files inside a bucket directory. Part files follow the patter
 <code>"{part-prefix}-{subtask}-{count}"</code>. When creating new part files we increase the counter.</div>
</li>
</ul>
<a name="isWriterOpen">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isWriterOpen</h4>
<pre>private transient&nbsp;boolean isWriterOpen</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Tracks if the writer is currently opened or closed.</div>
</li>
</ul>
<a name="refTruncate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refTruncate</h4>
<pre>private transient&nbsp;java.lang.reflect.Method refTruncate</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">We use reflection to get the .truncate() method, this is only available starting with
 Hadoop 2.7.</div>
</li>
</ul>
<a name="bucketState">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bucketState</h4>
<pre>private transient&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.BucketState.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink.BucketState</a> bucketState</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The state object that is handled by flink from snapshot/restore. In there we store the
 current part file path, the valid length of the in-progress files and pending part files.</div>
</li>
</ul>
<a name="restoredBucketStates">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoredBucketStates</h4>
<pre>private transient&nbsp;<a href="../../../../../../org/apache/flink/api/common/state/ListState.html" title="org.apache.flink.api.common.state中的接口">ListState</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.BucketState.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink.BucketState</a>&gt; restoredBucketStates</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="fsConfig">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fsConfig</h4>
<pre>@Nullable
private&nbsp;<a href="../../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a> fsConfig</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">User-defined FileSystem parameters.</div>
</li>
</ul>
<a name="fs">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>fs</h4>
<pre>private transient&nbsp;org.apache.hadoop.fs.FileSystem fs</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">The FileSystem reference.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="RollingSink-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RollingSink</h4>
<pre>public&nbsp;RollingSink(java.lang.String&nbsp;basePath)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Creates a new <code>RollingSink</code> that writes files to the given base directory.


 <p>This uses a<a href="../../../../../../org/apache/flink/streaming/connectors/fs/DateTimeBucketer.html" title="org.apache.flink.streaming.connectors.fs中的类"><code>DateTimeBucketer</code></a> as bucketer and a <a href="../../../../../../org/apache/flink/streaming/connectors/fs/StringWriter.html" title="org.apache.flink.streaming.connectors.fs中的类"><code>StringWriter</code></a> has writer.
 The maximum bucket size is set to 384 MB.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>basePath</code> - The directory to which to write the bucket files.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="setFSConfig-org.apache.flink.configuration.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFSConfig</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setFSConfig(<a href="../../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a>&nbsp;config)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Specify a custom <code>Configuration</code> that will be used when creating
 the <code>FileSystem</code> for writing.</div>
</li>
</ul>
<a name="setFSConfig-org.apache.hadoop.conf.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFSConfig</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setFSConfig(<a href="../../../../../../org/apache/hadoop/conf/Configuration.html" title="org.apache.hadoop.conf中的类">Configuration</a>&nbsp;config)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Specify a custom <code>Configuration</code> that will be used when creating
 the <code>FileSystem</code> for writing.</div>
</li>
</ul>
<a name="setInputType-org.apache.flink.api.common.typeinfo.TypeInformation-org.apache.flink.api.common.ExecutionConfig-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInputType</h4>
<pre>public&nbsp;void&nbsp;setInputType(<a href="../../../../../../org/apache/flink/api/common/typeinfo/TypeInformation.html" title="org.apache.flink.api.common.typeinfo中的类">TypeInformation</a>&lt;?&gt;&nbsp;type,
                         <a href="../../../../../../org/apache/flink/api/common/ExecutionConfig.html" title="org.apache.flink.api.common中的类">ExecutionConfig</a>&nbsp;executionConfig)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../../org/apache/flink/api/java/typeutils/InputTypeConfigurable.html#setInputType-org.apache.flink.api.common.typeinfo.TypeInformation-org.apache.flink.api.common.ExecutionConfig-">InputTypeConfigurable</a></code></span></div>
<div class="block">Method that is called on an <a href="../../../../../../org/apache/flink/api/common/io/OutputFormat.html" title="org.apache.flink.api.common.io中的接口"><code>OutputFormat</code></a> when it is passed to
 the DataSet's output method. May be used to configures the output format based on the data type.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/api/java/typeutils/InputTypeConfigurable.html#setInputType-org.apache.flink.api.common.typeinfo.TypeInformation-org.apache.flink.api.common.ExecutionConfig-">setInputType</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../../org/apache/flink/api/java/typeutils/InputTypeConfigurable.html" title="org.apache.flink.api.java.typeutils中的接口">InputTypeConfigurable</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>type</code> - The data type of the input.</dd>
<dd><code>executionConfig</code> - The execution config for this parallel execution.</dd>
</dl>
</li>
</ul>
<a name="initializeState-org.apache.flink.runtime.state.FunctionInitializationContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeState</h4>
<pre>public&nbsp;void&nbsp;initializeState(<a href="../../../../../../org/apache/flink/runtime/state/FunctionInitializationContext.html" title="org.apache.flink.runtime.state中的接口">FunctionInitializationContext</a>&nbsp;context)
                     throws java.lang.Exception</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../../org/apache/flink/streaming/api/checkpoint/CheckpointedFunction.html#initializeState-org.apache.flink.runtime.state.FunctionInitializationContext-">CheckpointedFunction</a></code></span></div>
<div class="block">This method is called when the parallel function instance is created during distributed
 execution. Functions typically set up their state storing data structures in this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/streaming/api/checkpoint/CheckpointedFunction.html#initializeState-org.apache.flink.runtime.state.FunctionInitializationContext-">initializeState</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../../org/apache/flink/streaming/api/checkpoint/CheckpointedFunction.html" title="org.apache.flink.streaming.api.checkpoint中的接口">CheckpointedFunction</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>context</code> - the context for initializing the operator</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="open-org.apache.flink.configuration.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public&nbsp;void&nbsp;open(<a href="../../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a>&nbsp;parameters)
          throws java.lang.Exception</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../../org/apache/flink/api/common/functions/RichFunction.html#open-org.apache.flink.configuration.Configuration-">RichFunction</a></code></span></div>
<div class="block">Initialization method for the function. It is called before the actual working methods 
 (like <i>map</i> or <i>join</i>) and thus suitable for one time setup work. For functions that
 are part of an iteration, this method will be invoked at the beginning of each iteration superstep.
 <p>
 The configuration object passed to the function can be used for configuration and initialization.
 The configuration contains all parameters that were configured on the function in the program
 composition.
 
 <pre><code>
 public class MyMapper extends FilterFunction&lt;String&gt; {
 
     private String searchString;
     
     public void open(Configuration parameters) {
         this.searchString = parameters.getString("foo");
     }
     
     public boolean filter(String value) {
         return value.equals(searchString);
     }
 }
 </code></pre>
 <p>
 By default, this method does nothing.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/api/common/functions/RichFunction.html#open-org.apache.flink.configuration.Configuration-">open</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../../org/apache/flink/api/common/functions/RichFunction.html" title="org.apache.flink.api.common.functions中的接口">RichFunction</a></code></dd>
<dt><span class="overrideSpecifyLabel">覆盖:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/api/common/functions/AbstractRichFunction.html#open-org.apache.flink.configuration.Configuration-">open</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../org/apache/flink/api/common/functions/AbstractRichFunction.html" title="org.apache.flink.api.common.functions中的类">AbstractRichFunction</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>parameters</code> - The configuration containing the parameters attached to the contract.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code> - Implementations may forward exceptions, which are caught by the runtime. When the
                   runtime catches an exception, it aborts the task and lets the fail-over logic
                   decide whether to retry the task execution.</dd>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类"><code>Configuration</code></a></dd>
</dl>
</li>
</ul>
<a name="initFileSystem--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initFileSystem</h4>
<pre>private&nbsp;void&nbsp;initFileSystem()
                     throws java.io.IOException</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Create a file system with the user-defined hdfs config.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.lang.Exception</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../../org/apache/flink/api/common/functions/RichFunction.html#close--">RichFunction</a></code></span></div>
<div class="block">Tear-down method for the user code. It is called after the last call to the main working methods
 (e.g. <i>map</i> or <i>join</i>). For functions that  are part of an iteration, this method will
 be invoked after each iteration superstep.
 <p>
 This method can be used for clean up work.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/api/common/functions/RichFunction.html#close--">close</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../../org/apache/flink/api/common/functions/RichFunction.html" title="org.apache.flink.api.common.functions中的接口">RichFunction</a></code></dd>
<dt><span class="overrideSpecifyLabel">覆盖:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/api/common/functions/AbstractRichFunction.html#close--">close</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../org/apache/flink/api/common/functions/AbstractRichFunction.html" title="org.apache.flink.api.common.functions中的类">AbstractRichFunction</a></code></dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code> - Implementations may forward exceptions, which are caught by the runtime. When the
                   runtime catches an exception, it aborts the task and lets the fail-over logic
                   decide whether to retry the task execution.</dd>
</dl>
</li>
</ul>
<a name="invoke-java.lang.Object-">
<!--   -->
</a><a name="invoke-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invoke</h4>
<pre>public&nbsp;void&nbsp;invoke(<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&nbsp;value)
            throws java.lang.Exception</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/streaming/api/functions/sink/SinkFunction.html#invoke-IN-">invoke</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../../org/apache/flink/streaming/api/functions/sink/SinkFunction.html" title="org.apache.flink.streaming.api.functions.sink中的接口">SinkFunction</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;</code></dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="shouldRoll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldRoll</h4>
<pre>private&nbsp;boolean&nbsp;shouldRoll()
                    throws java.io.IOException</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Determines whether we should change the bucket file we are writing to.


 <p>This will roll if no file was created yet, if the file size is larger than the specified size
 or if the <code>Bucketer</code> determines that we should roll.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="openNewPartFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openNewPartFile</h4>
<pre>private&nbsp;void&nbsp;openNewPartFile()
                      throws java.lang.Exception</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Opens a new part file.


 <p>This closes the old bucket file and retrieves a new bucket path from the <code>Bucketer</code>.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="getPendingPathFor-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPendingPathFor</h4>
<pre>private&nbsp;org.apache.hadoop.fs.Path&nbsp;getPendingPathFor(org.apache.hadoop.fs.Path&nbsp;path)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="getInProgressPathFor-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInProgressPathFor</h4>
<pre>private&nbsp;org.apache.hadoop.fs.Path&nbsp;getInProgressPathFor(org.apache.hadoop.fs.Path&nbsp;path)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="getValidLengthPathFor-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValidLengthPathFor</h4>
<pre>private&nbsp;org.apache.hadoop.fs.Path&nbsp;getValidLengthPathFor(org.apache.hadoop.fs.Path&nbsp;path)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="closeCurrentPartFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeCurrentPartFile</h4>
<pre>private&nbsp;void&nbsp;closeCurrentPartFile()
                           throws java.lang.Exception</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Closes the current part file.


 <p>This moves the current in-progress part file to a pending file and adds it to the list
 of pending files in our bucket state.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="reflectTruncate-org.apache.hadoop.fs.FileSystem-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reflectTruncate</h4>
<pre>private&nbsp;java.lang.reflect.Method&nbsp;reflectTruncate(org.apache.hadoop.fs.FileSystem&nbsp;fs)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Gets the truncate() call using reflection.

 <p><b>NOTE: </b>This code comes from Flume</div>
</li>
</ul>
<a name="notifyCheckpointComplete-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyCheckpointComplete</h4>
<pre>public&nbsp;void&nbsp;notifyCheckpointComplete(long&nbsp;checkpointId)
                              throws java.lang.Exception</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../../org/apache/flink/runtime/state/CheckpointListener.html#notifyCheckpointComplete-long-">CheckpointListener</a></code></span></div>
<div class="block">This method is called as a notification once a distributed checkpoint has been completed.
 
 Note that any exception during this method will not cause the checkpoint to
 fail any more.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/runtime/state/CheckpointListener.html#notifyCheckpointComplete-long-">notifyCheckpointComplete</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../../org/apache/flink/runtime/state/CheckpointListener.html" title="org.apache.flink.runtime.state中的接口">CheckpointListener</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>checkpointId</code> - The ID of the checkpoint that has been completed.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="snapshotState-org.apache.flink.runtime.state.FunctionSnapshotContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshotState</h4>
<pre>public&nbsp;void&nbsp;snapshotState(<a href="../../../../../../org/apache/flink/runtime/state/FunctionSnapshotContext.html" title="org.apache.flink.runtime.state中的接口">FunctionSnapshotContext</a>&nbsp;context)
                   throws java.lang.Exception</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../../org/apache/flink/streaming/api/checkpoint/CheckpointedFunction.html#snapshotState-org.apache.flink.runtime.state.FunctionSnapshotContext-">CheckpointedFunction</a></code></span></div>
<div class="block">This method is called when a snapshot for a checkpoint is requested. This acts as a hook to the function to
 ensure that all state is exposed by means previously offered through <a href="../../../../../../org/apache/flink/runtime/state/FunctionInitializationContext.html" title="org.apache.flink.runtime.state中的接口"><code>FunctionInitializationContext</code></a> when
 the Function was initialized, or offered now by <a href="../../../../../../org/apache/flink/runtime/state/FunctionSnapshotContext.html" title="org.apache.flink.runtime.state中的接口"><code>FunctionSnapshotContext</code></a> itself.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/streaming/api/checkpoint/CheckpointedFunction.html#snapshotState-org.apache.flink.runtime.state.FunctionSnapshotContext-">snapshotState</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../../org/apache/flink/streaming/api/checkpoint/CheckpointedFunction.html" title="org.apache.flink.streaming.api.checkpoint中的接口">CheckpointedFunction</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>context</code> - the context for drawing a snapshot of the operator</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="handleRestoredBucketState-org.apache.flink.streaming.connectors.fs.RollingSink.BucketState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleRestoredBucketState</h4>
<pre>private&nbsp;void&nbsp;handleRestoredBucketState(<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.BucketState.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink.BucketState</a>&nbsp;bucketState)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
</li>
</ul>
<a name="setBatchSize-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBatchSize</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setBatchSize(long&nbsp;batchSize)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the maximum bucket size in bytes.


 <p>When a bucket part file becomes larger than this size a new bucket part file is started and
 the old one is closed. The name of the bucket files depends on the <a href="../../../../../../org/apache/flink/streaming/connectors/fs/Bucketer.html" title="org.apache.flink.streaming.connectors.fs中的接口"><code>Bucketer</code></a>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>batchSize</code> - The bucket part file size in bytes.</dd>
</dl>
</li>
</ul>
<a name="setBucketer-org.apache.flink.streaming.connectors.fs.Bucketer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBucketer</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setBucketer(<a href="../../../../../../org/apache/flink/streaming/connectors/fs/Bucketer.html" title="org.apache.flink.streaming.connectors.fs中的接口">Bucketer</a>&nbsp;bucketer)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the <a href="../../../../../../org/apache/flink/streaming/connectors/fs/Bucketer.html" title="org.apache.flink.streaming.connectors.fs中的接口"><code>Bucketer</code></a> to use for determining the bucket files to write to.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>bucketer</code> - The bucketer to use.</dd>
</dl>
</li>
</ul>
<a name="setWriter-org.apache.flink.streaming.connectors.fs.Writer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setWriter</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setWriter(<a href="../../../../../../org/apache/flink/streaming/connectors/fs/Writer.html" title="org.apache.flink.streaming.connectors.fs中的接口">Writer</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;writer)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the <a href="../../../../../../org/apache/flink/streaming/connectors/fs/Writer.html" title="org.apache.flink.streaming.connectors.fs中的接口"><code>Writer</code></a> to be used for writing the incoming elements to bucket files.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>writer</code> - The <code>Writer</code> to use.</dd>
</dl>
</li>
</ul>
<a name="setInProgressSuffix-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInProgressSuffix</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setInProgressSuffix(java.lang.String&nbsp;inProgressSuffix)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the suffix of in-progress part files. The default is <code>"in-progress"</code>.</div>
</li>
</ul>
<a name="setInProgressPrefix-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInProgressPrefix</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setInProgressPrefix(java.lang.String&nbsp;inProgressPrefix)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the prefix of in-progress part files. The default is <code>"_"</code>.</div>
</li>
</ul>
<a name="setPendingSuffix-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPendingSuffix</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setPendingSuffix(java.lang.String&nbsp;pendingSuffix)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the suffix of pending part files. The default is <code>".pending"</code>.</div>
</li>
</ul>
<a name="setPendingPrefix-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPendingPrefix</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setPendingPrefix(java.lang.String&nbsp;pendingPrefix)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the prefix of pending part files. The default is <code>"_"</code>.</div>
</li>
</ul>
<a name="setValidLengthSuffix-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setValidLengthSuffix</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setValidLengthSuffix(java.lang.String&nbsp;validLengthSuffix)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the suffix of valid-length files. The default is <code>".valid-length"</code>.</div>
</li>
</ul>
<a name="setValidLengthPrefix-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setValidLengthPrefix</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setValidLengthPrefix(java.lang.String&nbsp;validLengthPrefix)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the prefix of valid-length files. The default is <code>"_"</code>.</div>
</li>
</ul>
<a name="setPartPrefix-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPartPrefix</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setPartPrefix(java.lang.String&nbsp;partPrefix)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the prefix of part files.  The default is <code>"part"</code>.</div>
</li>
</ul>
<a name="disableCleanupOnOpen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableCleanupOnOpen</h4>
<pre>@Deprecated
public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;disableCleanupOnOpen()</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;<span class="deprecationComment">This option is deprecated and remains only for backwards compatibility.
 We do not clean up lingering files anymore.</span></div>
<div class="block">Disable cleanup of leftover in-progress/pending files when the sink is opened.


 <p>This should only be disabled if using the sink without checkpoints, to not remove
 the files already in the directory.</div>
</li>
</ul>
<a name="setAsyncTimeout-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setAsyncTimeout</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="org.apache.flink.streaming.connectors.fs中的类">RollingSink</a>&lt;<a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.html" title="RollingSink中的类型参数">T</a>&gt;&nbsp;setAsyncTimeout(long&nbsp;timeout)</pre>
<div class="block"><span class="deprecatedLabel">已过时。</span>&nbsp;</div>
<div class="block">Sets the default timeout for asynchronous operations such as recoverLease and truncate.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>timeout</code> - The timeout, in milliseconds.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/flink/streaming/connectors/fs/NonRollingBucketer.html" title="org.apache.flink.streaming.connectors.fs中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../org/apache/flink/streaming/connectors/fs/RollingSink.BucketState.html" title="org.apache.flink.streaming.connectors.fs中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/flink/streaming/connectors/fs/RollingSink.html" target="_top">框架</a></li>
<li><a href="RollingSink.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
