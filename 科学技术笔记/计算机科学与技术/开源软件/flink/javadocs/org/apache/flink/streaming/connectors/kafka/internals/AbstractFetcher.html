<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_144) on Thu May 17 13:42:31 CST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AbstractFetcher</title>
<meta name="date" content="2018-05-17">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AbstractFetcher";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":6,"i3":10,"i4":6,"i5":10,"i6":10,"i7":6,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":6,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],4:["t3","抽象方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.OffsetGauge.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" target="_top">框架</a></li>
<li><a href="AbstractFetcher.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.streaming.connectors.kafka.internals</div>
<h2 title="类 AbstractFetcher" class="title">类 AbstractFetcher&lt;T,KPH&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.flink.streaming.connectors.kafka.internals.AbstractFetcher&lt;T,KPH&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">类型参数:</span></dt>
<dd><code>T</code> - The type of elements deserialized from Kafka's byte records, and emitted into
            the Flink data streams.</dd>
<dd><code>KPH</code> - The type of topic/partition identifier used by Kafka in the specific version.</dd>
</dl>
<dl>
<dt>直接已知子类:</dt>
<dd><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/Kafka08Fetcher.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">Kafka08Fetcher</a>, <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/Kafka09Fetcher.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类">Kafka09Fetcher</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">AbstractFetcher&lt;T,KPH&gt;</span>
extends java.lang.Object</pre>
<div class="block">Base class for all fetchers, which implement the connections to Kafka brokers and
 pull records from Kafka partitions.

 <p>This fetcher base class implements the logic around emitting records and tracking offsets,
 as well as around the optional timestamp assignment and watermark generation.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.OffsetGauge.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">AbstractFetcher.OffsetGauge</a></span></code>
<div class="block">Gauge for getting the offset of a KafkaTopicPartitionState.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.OffsetGaugeType.html" title="org.apache.flink.streaming.connectors.kafka.internals中的枚举">AbstractFetcher.OffsetGaugeType</a></span></code>
<div class="block">Gauge types.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.PeriodicWatermarkEmitter.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">AbstractFetcher.PeriodicWatermarkEmitter</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.PeriodicWatermarkEmitter.html" title="AbstractFetcher.PeriodicWatermarkEmitter中的类型参数">KPH</a>&gt;</span></code>
<div class="block">The periodic watermark emitter.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#checkpointLock">checkpointLock</a></span></code>
<div class="block">The lock that guarantees that record emission and state updates are atomic,
 from the view of taking a checkpoint.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/flink/metrics/MetricGroup.html" title="org.apache.flink.metrics中的接口">MetricGroup</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#committedOffsetsMetricGroup">committedOffsetsMetricGroup</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/flink/metrics/MetricGroup.html" title="org.apache.flink.metrics中的接口">MetricGroup</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#consumerMetricGroup">consumerMetricGroup</a></span></code>
<div class="block">The metric group which all metrics for the consumer should be registered to.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/flink/metrics/MetricGroup.html" title="org.apache.flink.metrics中的接口">MetricGroup</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#currentOffsetsMetricGroup">currentOffsetsMetricGroup</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#maxWatermarkSoFar">maxWatermarkSoFar</a></span></code>
<div class="block">Only relevant for punctuated watermarks: The current cross partition watermark.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#NO_TIMESTAMPS_WATERMARKS">NO_TIMESTAMPS_WATERMARKS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#PERIODIC_WATERMARKS">PERIODIC_WATERMARKS</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#PUNCTUATED_WATERMARKS">PUNCTUATED_WATERMARKS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/flink/streaming/api/functions/source/SourceFunction.SourceContext.html" title="org.apache.flink.streaming.api.functions.source中的接口">SourceFunction.SourceContext</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#sourceContext">sourceContext</a></span></code>
<div class="block">The source context to emit records and watermarks to.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#subscribedPartitionStates">subscribedPartitionStates</a></span></code>
<div class="block">All partitions (and their state) that this fetcher is subscribed to.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#timestampWatermarkMode">timestampWatermarkMode</a></span></code>
<div class="block">The mode describing whether the fetcher also generates timestamps and watermarks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/ClosableBlockingQueue.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">ClosableBlockingQueue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#unassignedPartitionsQueue">unassignedPartitionsQueue</a></span></code>
<div class="block">Queue of partitions that are not yet assigned to any Kafka clients for consuming.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#useMetrics">useMetrics</a></span></code>
<div class="block">Flag indicating whether or not metrics should be exposed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.ClassLoader</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#userCodeClassLoader">userCodeClassLoader</a></span></code>
<div class="block">User class loader used to deserialize watermark assigners.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPeriodicWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPeriodicWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#watermarksPeriodic">watermarksPeriodic</a></span></code>
<div class="block">Optional timestamp extractor / watermark generator that will be run per Kafka partition,
 to exploit per-partition timestamp characteristics.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPunctuatedWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPunctuatedWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#watermarksPunctuated">watermarksPunctuated</a></span></code>
<div class="block">Optional timestamp extractor / watermark generator that will be run per Kafka partition,
 to exploit per-partition timestamp characteristics.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符</th>
<th class="colLast" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#AbstractFetcher-org.apache.flink.streaming.api.functions.source.SourceFunction.SourceContext-java.util.Map-org.apache.flink.util.SerializedValue-org.apache.flink.util.SerializedValue-org.apache.flink.streaming.runtime.tasks.ProcessingTimeService-long-java.lang.ClassLoader-org.apache.flink.metrics.MetricGroup-boolean-">AbstractFetcher</a></span>(<a href="../../../../../../../org/apache/flink/streaming/api/functions/source/SourceFunction.SourceContext.html" title="org.apache.flink.streaming.api.functions.source中的接口">SourceFunction.SourceContext</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&nbsp;sourceContext,
               java.util.Map&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;&nbsp;seedPartitionsWithInitialOffsets,
               <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPeriodicWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPeriodicWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;&nbsp;watermarksPeriodic,
               <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPunctuatedWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPunctuatedWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;&nbsp;watermarksPunctuated,
               <a href="../../../../../../../org/apache/flink/streaming/runtime/tasks/ProcessingTimeService.html" title="org.apache.flink.streaming.runtime.tasks中的类">ProcessingTimeService</a>&nbsp;processingTimeProvider,
               long&nbsp;autoWatermarkInterval,
               java.lang.ClassLoader&nbsp;userCodeClassLoader,
               <a href="../../../../../../../org/apache/flink/metrics/MetricGroup.html" title="org.apache.flink.metrics中的接口">MetricGroup</a>&nbsp;consumerMetricGroup,
               boolean&nbsp;useMetrics)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">抽象方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#addDiscoveredPartitions-java.util.List-">addDiscoveredPartitions</a></span>(java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&gt;&nbsp;newPartitions)</code>
<div class="block">Adds a list of newly discovered partitions to the fetcher for consuming.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#addOffsetStateGauge-java.util.List-">addOffsetStateGauge</a></span>(java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&gt;&nbsp;partitionOffsetStates)</code>
<div class="block">For each partition, register a gauge to expose current offsets and committed offsets.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#cancel--">cancel</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#commitInternalOffsetsToKafka-java.util.Map-org.apache.flink.streaming.connectors.kafka.internals.KafkaCommitCallback-">commitInternalOffsetsToKafka</a></span>(java.util.Map&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;&nbsp;offsets,
                            <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaCommitCallback.html" title="org.apache.flink.streaming.connectors.kafka.internals中的接口">KafkaCommitCallback</a>&nbsp;commitCallback)</code>
<div class="block">Commits the given partition offsets to the Kafka brokers (or to ZooKeeper for
 older Kafka versions).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#createKafkaPartitionHandle-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartition-">createKafkaPartitionHandle</a></span>(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&nbsp;partition)</code>
<div class="block">Creates the Kafka version specific representation of the given
 topic partition.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#createPartitionStateHolders-java.util.List-long-int-org.apache.flink.util.SerializedValue-org.apache.flink.util.SerializedValue-java.lang.ClassLoader-">createPartitionStateHolders</a></span>(java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&gt;&nbsp;partitions,
                           long&nbsp;initialOffset,
                           int&nbsp;timestampWatermarkMode,
                           <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPeriodicWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPeriodicWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;&nbsp;watermarksPeriodic,
                           <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPunctuatedWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPunctuatedWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;&nbsp;watermarksPunctuated,
                           java.lang.ClassLoader&nbsp;userCodeClassLoader)</code>
<div class="block">Shortcut variant of <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#createPartitionStateHolders-java.util.Map-int-org.apache.flink.util.SerializedValue-org.apache.flink.util.SerializedValue-java.lang.ClassLoader-"><code>createPartitionStateHolders(Map, int, SerializedValue, SerializedValue, ClassLoader)</code></a>
 that uses the same offset for all partitions when creating their state holders.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#createPartitionStateHolders-java.util.Map-int-org.apache.flink.util.SerializedValue-org.apache.flink.util.SerializedValue-java.lang.ClassLoader-">createPartitionStateHolders</a></span>(java.util.Map&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;&nbsp;partitionsToInitialOffsets,
                           int&nbsp;timestampWatermarkMode,
                           <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPeriodicWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPeriodicWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;&nbsp;watermarksPeriodic,
                           <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPunctuatedWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPunctuatedWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;&nbsp;watermarksPunctuated,
                           java.lang.ClassLoader&nbsp;userCodeClassLoader)</code>
<div class="block">Utility method that takes the topic partitions and creates the topic partition state
 holders, depending on the timestamp / watermark mode.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#doCommitInternalOffsetsToKafka-java.util.Map-org.apache.flink.streaming.connectors.kafka.internals.KafkaCommitCallback-">doCommitInternalOffsetsToKafka</a></span>(java.util.Map&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;&nbsp;offsets,
                              <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaCommitCallback.html" title="org.apache.flink.streaming.connectors.kafka.internals中的接口">KafkaCommitCallback</a>&nbsp;commitCallback)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#emitRecord-T-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartitionState-long-">emitRecord</a></span>(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&nbsp;record,
          <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&nbsp;partitionState,
          long&nbsp;offset)</code>
<div class="block">Emits a record without attaching an existing timestamp to it.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#emitRecordWithTimestamp-T-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartitionState-long-long-">emitRecordWithTimestamp</a></span>(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&nbsp;record,
                       <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&nbsp;partitionState,
                       long&nbsp;offset,
                       long&nbsp;timestamp)</code>
<div class="block">Emits a record attaching a timestamp to it.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#emitRecordWithTimestampAndPeriodicWatermark-T-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartitionState-long-long-">emitRecordWithTimestampAndPeriodicWatermark</a></span>(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&nbsp;record,
                                           <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&nbsp;partitionState,
                                           long&nbsp;offset,
                                           long&nbsp;kafkaEventTimestamp)</code>
<div class="block">Record emission, if a timestamp will be attached from an assigner that is
 also a periodic watermark generator.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#emitRecordWithTimestampAndPunctuatedWatermark-T-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartitionState-long-long-">emitRecordWithTimestampAndPunctuatedWatermark</a></span>(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&nbsp;record,
                                             <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&nbsp;partitionState,
                                             long&nbsp;offset,
                                             long&nbsp;kafkaEventTimestamp)</code>
<div class="block">Record emission, if a timestamp will be attached from an assigner that is
 also a punctuated watermark generator.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#filterOutSentinels-java.util.Map-">filterOutSentinels</a></span>(java.util.Map&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;&nbsp;offsets)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#runFetchLoop--">runFetchLoop</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.util.HashMap&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#snapshotCurrentState--">snapshotCurrentState</a></span>()</code>
<div class="block">Takes a snapshot of the partition offsets.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#subscribedPartitionStates--">subscribedPartitionStates</a></span>()</code>
<div class="block">Gets all partitions (with partition state) that this fetcher is subscribed to.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#updateMinPunctuatedWatermark-org.apache.flink.streaming.api.watermark.Watermark-">updateMinPunctuatedWatermark</a></span>(<a href="../../../../../../../org/apache/flink/streaming/api/watermark/Watermark.html" title="org.apache.flink.streaming.api.watermark中的类">Watermark</a>&nbsp;nextWatermark)</code>
<div class="block">Checks whether a new per-partition watermark is also a new cross-partition watermark.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="NO_TIMESTAMPS_WATERMARKS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NO_TIMESTAMPS_WATERMARKS</h4>
<pre>protected static final&nbsp;int NO_TIMESTAMPS_WATERMARKS</pre>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.flink.streaming.connectors.kafka.internals.AbstractFetcher.NO_TIMESTAMPS_WATERMARKS">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="PERIODIC_WATERMARKS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PERIODIC_WATERMARKS</h4>
<pre>protected static final&nbsp;int PERIODIC_WATERMARKS</pre>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.flink.streaming.connectors.kafka.internals.AbstractFetcher.PERIODIC_WATERMARKS">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="PUNCTUATED_WATERMARKS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PUNCTUATED_WATERMARKS</h4>
<pre>protected static final&nbsp;int PUNCTUATED_WATERMARKS</pre>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.flink.streaming.connectors.kafka.internals.AbstractFetcher.PUNCTUATED_WATERMARKS">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="sourceContext">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sourceContext</h4>
<pre>protected final&nbsp;<a href="../../../../../../../org/apache/flink/streaming/api/functions/source/SourceFunction.SourceContext.html" title="org.apache.flink.streaming.api.functions.source中的接口">SourceFunction.SourceContext</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt; sourceContext</pre>
<div class="block">The source context to emit records and watermarks to.</div>
</li>
</ul>
<a name="checkpointLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpointLock</h4>
<pre>protected final&nbsp;java.lang.Object checkpointLock</pre>
<div class="block">The lock that guarantees that record emission and state updates are atomic,
 from the view of taking a checkpoint.</div>
</li>
</ul>
<a name="subscribedPartitionStates">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribedPartitionStates</h4>
<pre>private final&nbsp;java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&gt; subscribedPartitionStates</pre>
<div class="block">All partitions (and their state) that this fetcher is subscribed to.</div>
</li>
</ul>
<a name="unassignedPartitionsQueue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unassignedPartitionsQueue</h4>
<pre>protected final&nbsp;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/ClosableBlockingQueue.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">ClosableBlockingQueue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&gt; unassignedPartitionsQueue</pre>
<div class="block">Queue of partitions that are not yet assigned to any Kafka clients for consuming.
 Kafka version-specific implementations of <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#runFetchLoop--"><code>runFetchLoop()</code></a>
 should continuously poll this queue for unassigned partitions, and start consuming
 them accordingly.

 <p>All partitions added to this queue are guaranteed to have been added
 to <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#subscribedPartitionStates"><code>subscribedPartitionStates</code></a> already.</div>
</li>
</ul>
<a name="timestampWatermarkMode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timestampWatermarkMode</h4>
<pre>protected final&nbsp;int timestampWatermarkMode</pre>
<div class="block">The mode describing whether the fetcher also generates timestamps and watermarks.</div>
</li>
</ul>
<a name="watermarksPeriodic">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>watermarksPeriodic</h4>
<pre>private final&nbsp;<a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPeriodicWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPeriodicWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt; watermarksPeriodic</pre>
<div class="block">Optional timestamp extractor / watermark generator that will be run per Kafka partition,
 to exploit per-partition timestamp characteristics.
 The assigner is kept in serialized form, to deserialize it into multiple copies.</div>
</li>
</ul>
<a name="watermarksPunctuated">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>watermarksPunctuated</h4>
<pre>private final&nbsp;<a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPunctuatedWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPunctuatedWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt; watermarksPunctuated</pre>
<div class="block">Optional timestamp extractor / watermark generator that will be run per Kafka partition,
 to exploit per-partition timestamp characteristics.
 The assigner is kept in serialized form, to deserialize it into multiple copies.</div>
</li>
</ul>
<a name="userCodeClassLoader">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>userCodeClassLoader</h4>
<pre>private final&nbsp;java.lang.ClassLoader userCodeClassLoader</pre>
<div class="block">User class loader used to deserialize watermark assigners.</div>
</li>
</ul>
<a name="maxWatermarkSoFar">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxWatermarkSoFar</h4>
<pre>private volatile&nbsp;long maxWatermarkSoFar</pre>
<div class="block">Only relevant for punctuated watermarks: The current cross partition watermark.</div>
</li>
</ul>
<a name="useMetrics">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useMetrics</h4>
<pre>private final&nbsp;boolean useMetrics</pre>
<div class="block">Flag indicating whether or not metrics should be exposed.
 If <code>true</code>, offset metrics (e.g. current offset, committed offset) and
 Kafka-shipped metrics will be registered.</div>
</li>
</ul>
<a name="consumerMetricGroup">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>consumerMetricGroup</h4>
<pre>private final&nbsp;<a href="../../../../../../../org/apache/flink/metrics/MetricGroup.html" title="org.apache.flink.metrics中的接口">MetricGroup</a> consumerMetricGroup</pre>
<div class="block">The metric group which all metrics for the consumer should be registered to.
 This metric group is defined under the user scope "KafkaConsumer".</div>
</li>
</ul>
<a name="currentOffsetsMetricGroup">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentOffsetsMetricGroup</h4>
<pre>private final&nbsp;<a href="../../../../../../../org/apache/flink/metrics/MetricGroup.html" title="org.apache.flink.metrics中的接口">MetricGroup</a> currentOffsetsMetricGroup</pre>
</li>
</ul>
<a name="committedOffsetsMetricGroup">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>committedOffsetsMetricGroup</h4>
<pre>private final&nbsp;<a href="../../../../../../../org/apache/flink/metrics/MetricGroup.html" title="org.apache.flink.metrics中的接口">MetricGroup</a> committedOffsetsMetricGroup</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="AbstractFetcher-org.apache.flink.streaming.api.functions.source.SourceFunction.SourceContext-java.util.Map-org.apache.flink.util.SerializedValue-org.apache.flink.util.SerializedValue-org.apache.flink.streaming.runtime.tasks.ProcessingTimeService-long-java.lang.ClassLoader-org.apache.flink.metrics.MetricGroup-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractFetcher</h4>
<pre>protected&nbsp;AbstractFetcher(<a href="../../../../../../../org/apache/flink/streaming/api/functions/source/SourceFunction.SourceContext.html" title="org.apache.flink.streaming.api.functions.source中的接口">SourceFunction.SourceContext</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&nbsp;sourceContext,
                          java.util.Map&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;&nbsp;seedPartitionsWithInitialOffsets,
                          <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPeriodicWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPeriodicWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;&nbsp;watermarksPeriodic,
                          <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPunctuatedWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPunctuatedWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;&nbsp;watermarksPunctuated,
                          <a href="../../../../../../../org/apache/flink/streaming/runtime/tasks/ProcessingTimeService.html" title="org.apache.flink.streaming.runtime.tasks中的类">ProcessingTimeService</a>&nbsp;processingTimeProvider,
                          long&nbsp;autoWatermarkInterval,
                          java.lang.ClassLoader&nbsp;userCodeClassLoader,
                          <a href="../../../../../../../org/apache/flink/metrics/MetricGroup.html" title="org.apache.flink.metrics中的接口">MetricGroup</a>&nbsp;consumerMetricGroup,
                          boolean&nbsp;useMetrics)
                   throws java.lang.Exception</pre>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="addDiscoveredPartitions-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDiscoveredPartitions</h4>
<pre>public&nbsp;void&nbsp;addDiscoveredPartitions(java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&gt;&nbsp;newPartitions)
                             throws java.io.IOException,
                                    java.lang.ClassNotFoundException</pre>
<div class="block">Adds a list of newly discovered partitions to the fetcher for consuming.

 <p>This method creates the partition state holder for each new partition, using
 <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionStateSentinel.html#EARLIEST_OFFSET"><code>KafkaTopicPartitionStateSentinel.EARLIEST_OFFSET</code></a> as the starting offset.
 It uses the earliest offset because there may be delay in discovering a partition
 after it was created and started receiving records.

 <p>After the state representation for a partition is created, it is added to the
 unassigned partitions queue to await to be consumed.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>newPartitions</code> - discovered partitions to add</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.ClassNotFoundException</code></dd>
</dl>
</li>
</ul>
<a name="subscribedPartitionStates--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribedPartitionStates</h4>
<pre>protected final&nbsp;java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&gt;&nbsp;subscribedPartitionStates()</pre>
<div class="block">Gets all partitions (with partition state) that this fetcher is subscribed to.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>All subscribed partitions.</dd>
</dl>
</li>
</ul>
<a name="runFetchLoop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runFetchLoop</h4>
<pre>public abstract&nbsp;void&nbsp;runFetchLoop()
                           throws java.lang.Exception</pre>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="cancel--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre>public abstract&nbsp;void&nbsp;cancel()</pre>
</li>
</ul>
<a name="commitInternalOffsetsToKafka-java.util.Map-org.apache.flink.streaming.connectors.kafka.internals.KafkaCommitCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitInternalOffsetsToKafka</h4>
<pre>public final&nbsp;void&nbsp;commitInternalOffsetsToKafka(java.util.Map&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;&nbsp;offsets,
                                               @Nonnull
                                               <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaCommitCallback.html" title="org.apache.flink.streaming.connectors.kafka.internals中的接口">KafkaCommitCallback</a>&nbsp;commitCallback)
                                        throws java.lang.Exception</pre>
<div class="block">Commits the given partition offsets to the Kafka brokers (or to ZooKeeper for
 older Kafka versions). This method is only ever called when the offset commit mode of
 the consumer is <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/config/OffsetCommitMode.html#ON_CHECKPOINTS"><code>OffsetCommitMode.ON_CHECKPOINTS</code></a>.

 <p>The given offsets are the internal checkpointed offsets, representing
 the last processed record of each partition. Version-specific implementations of this method
 need to hold the contract that the given offsets must be incremented by 1 before
 committing them, so that committed offsets to Kafka represent "the next record to process".</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>offsets</code> - The offsets to commit to Kafka (implementations must increment offsets by 1 before committing).</dd>
<dd><code>commitCallback</code> - The callback that the user should trigger when a commit request completes or fails.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code> - This method forwards exceptions.</dd>
</dl>
</li>
</ul>
<a name="doCommitInternalOffsetsToKafka-java.util.Map-org.apache.flink.streaming.connectors.kafka.internals.KafkaCommitCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doCommitInternalOffsetsToKafka</h4>
<pre>protected abstract&nbsp;void&nbsp;doCommitInternalOffsetsToKafka(java.util.Map&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;&nbsp;offsets,
                                                       @Nonnull
                                                       <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaCommitCallback.html" title="org.apache.flink.streaming.connectors.kafka.internals中的接口">KafkaCommitCallback</a>&nbsp;commitCallback)
                                                throws java.lang.Exception</pre>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="filterOutSentinels-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filterOutSentinels</h4>
<pre>private&nbsp;java.util.Map&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;&nbsp;filterOutSentinels(java.util.Map&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;&nbsp;offsets)</pre>
</li>
</ul>
<a name="createKafkaPartitionHandle-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartition-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createKafkaPartitionHandle</h4>
<pre>protected abstract&nbsp;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&nbsp;createKafkaPartitionHandle(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&nbsp;partition)</pre>
<div class="block">Creates the Kafka version specific representation of the given
 topic partition.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>partition</code> - The Flink representation of the Kafka topic partition.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>The version-specific Kafka representation of the Kafka topic partition.</dd>
</dl>
</li>
</ul>
<a name="snapshotCurrentState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshotCurrentState</h4>
<pre>public&nbsp;java.util.HashMap&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;&nbsp;snapshotCurrentState()</pre>
<div class="block">Takes a snapshot of the partition offsets.

 <p>Important: This method must be called under the checkpoint lock.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>A map from partition to current offset.</dd>
</dl>
</li>
</ul>
<a name="emitRecord-java.lang.Object-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartitionState-long-">
<!--   -->
</a><a name="emitRecord-T-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartitionState-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>emitRecord</h4>
<pre>protected&nbsp;void&nbsp;emitRecord(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&nbsp;record,
                          <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&nbsp;partitionState,
                          long&nbsp;offset)
                   throws java.lang.Exception</pre>
<div class="block">Emits a record without attaching an existing timestamp to it.

 <p>Implementation Note: This method is kept brief to be JIT inlining friendly.
 That makes the fast path efficient, the extended paths are called as separate methods.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>record</code> - The record to emit</dd>
<dd><code>partitionState</code> - The state of the Kafka partition from which the record was fetched</dd>
<dd><code>offset</code> - The offset of the record</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="emitRecordWithTimestamp-java.lang.Object-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartitionState-long-long-">
<!--   -->
</a><a name="emitRecordWithTimestamp-T-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartitionState-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>emitRecordWithTimestamp</h4>
<pre>protected&nbsp;void&nbsp;emitRecordWithTimestamp(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&nbsp;record,
                                       <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&nbsp;partitionState,
                                       long&nbsp;offset,
                                       long&nbsp;timestamp)
                                throws java.lang.Exception</pre>
<div class="block">Emits a record attaching a timestamp to it.

 <p>Implementation Note: This method is kept brief to be JIT inlining friendly.
 That makes the fast path efficient, the extended paths are called as separate methods.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>record</code> - The record to emit</dd>
<dd><code>partitionState</code> - The state of the Kafka partition from which the record was fetched</dd>
<dd><code>offset</code> - The offset of the record</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="emitRecordWithTimestampAndPeriodicWatermark-java.lang.Object-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartitionState-long-long-">
<!--   -->
</a><a name="emitRecordWithTimestampAndPeriodicWatermark-T-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartitionState-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>emitRecordWithTimestampAndPeriodicWatermark</h4>
<pre>protected&nbsp;void&nbsp;emitRecordWithTimestampAndPeriodicWatermark(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&nbsp;record,
                                                           <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&nbsp;partitionState,
                                                           long&nbsp;offset,
                                                           long&nbsp;kafkaEventTimestamp)</pre>
<div class="block">Record emission, if a timestamp will be attached from an assigner that is
 also a periodic watermark generator.</div>
</li>
</ul>
<a name="emitRecordWithTimestampAndPunctuatedWatermark-java.lang.Object-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartitionState-long-long-">
<!--   -->
</a><a name="emitRecordWithTimestampAndPunctuatedWatermark-T-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartitionState-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>emitRecordWithTimestampAndPunctuatedWatermark</h4>
<pre>protected&nbsp;void&nbsp;emitRecordWithTimestampAndPunctuatedWatermark(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&nbsp;record,
                                                             <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&nbsp;partitionState,
                                                             long&nbsp;offset,
                                                             long&nbsp;kafkaEventTimestamp)</pre>
<div class="block">Record emission, if a timestamp will be attached from an assigner that is
 also a punctuated watermark generator.</div>
</li>
</ul>
<a name="updateMinPunctuatedWatermark-org.apache.flink.streaming.api.watermark.Watermark-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMinPunctuatedWatermark</h4>
<pre>private&nbsp;void&nbsp;updateMinPunctuatedWatermark(<a href="../../../../../../../org/apache/flink/streaming/api/watermark/Watermark.html" title="org.apache.flink.streaming.api.watermark中的类">Watermark</a>&nbsp;nextWatermark)</pre>
<div class="block">Checks whether a new per-partition watermark is also a new cross-partition watermark.</div>
</li>
</ul>
<a name="createPartitionStateHolders-java.util.Map-int-org.apache.flink.util.SerializedValue-org.apache.flink.util.SerializedValue-java.lang.ClassLoader-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createPartitionStateHolders</h4>
<pre>private&nbsp;java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&gt;&nbsp;createPartitionStateHolders(java.util.Map&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>,java.lang.Long&gt;&nbsp;partitionsToInitialOffsets,
                                                                                  int&nbsp;timestampWatermarkMode,
                                                                                  <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPeriodicWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPeriodicWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;&nbsp;watermarksPeriodic,
                                                                                  <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPunctuatedWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPunctuatedWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;&nbsp;watermarksPunctuated,
                                                                                  java.lang.ClassLoader&nbsp;userCodeClassLoader)
                                                                           throws java.io.IOException,
                                                                                  java.lang.ClassNotFoundException</pre>
<div class="block">Utility method that takes the topic partitions and creates the topic partition state
 holders, depending on the timestamp / watermark mode.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.ClassNotFoundException</code></dd>
</dl>
</li>
</ul>
<a name="createPartitionStateHolders-java.util.List-long-int-org.apache.flink.util.SerializedValue-org.apache.flink.util.SerializedValue-java.lang.ClassLoader-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createPartitionStateHolders</h4>
<pre>private&nbsp;java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&gt;&nbsp;createPartitionStateHolders(java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&gt;&nbsp;partitions,
                                                                                  long&nbsp;initialOffset,
                                                                                  int&nbsp;timestampWatermarkMode,
                                                                                  <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPeriodicWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPeriodicWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;&nbsp;watermarksPeriodic,
                                                                                  <a href="../../../../../../../org/apache/flink/util/SerializedValue.html" title="org.apache.flink.util中的类">SerializedValue</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/api/functions/AssignerWithPunctuatedWatermarks.html" title="org.apache.flink.streaming.api.functions中的接口">AssignerWithPunctuatedWatermarks</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">T</a>&gt;&gt;&nbsp;watermarksPunctuated,
                                                                                  java.lang.ClassLoader&nbsp;userCodeClassLoader)
                                                                           throws java.io.IOException,
                                                                                  java.lang.ClassNotFoundException</pre>
<div class="block">Shortcut variant of <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html#createPartitionStateHolders-java.util.Map-int-org.apache.flink.util.SerializedValue-org.apache.flink.util.SerializedValue-java.lang.ClassLoader-"><code>createPartitionStateHolders(Map, int, SerializedValue, SerializedValue, ClassLoader)</code></a>
 that uses the same offset for all partitions when creating their state holders.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.ClassNotFoundException</code></dd>
</dl>
</li>
</ul>
<a name="addOffsetStateGauge-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addOffsetStateGauge</h4>
<pre>private&nbsp;void&nbsp;addOffsetStateGauge(java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartitionState.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartitionState</a>&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" title="AbstractFetcher中的类型参数">KPH</a>&gt;&gt;&nbsp;partitionOffsetStates)</pre>
<div class="block">For each partition, register a gauge to expose current offsets and committed offsets.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>partitionOffsetStates</code> - The partition offset state holders, whose values will be used to update metrics</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.OffsetGauge.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.html" target="_top">框架</a></li>
<li><a href="AbstractFetcher.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
