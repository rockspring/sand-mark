<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_144) on Thu May 17 13:42:27 CST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>BlobUtils</title>
<meta name="date" content="2018-05-17">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BlobUtils";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9};
var tabs = {65535:["t0","所有方法"],1:["t1","静态方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/flink/runtime/blob/BlobStoreService.html" title="org.apache.flink.runtime.blob中的接口"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../org/apache/flink/runtime/blob/BlobView.html" title="org.apache.flink.runtime.blob中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/flink/runtime/blob/BlobUtils.html" target="_top">框架</a></li>
<li><a href="BlobUtils.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.runtime.blob</div>
<h2 title="类 BlobUtils" class="title">类 BlobUtils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.flink.runtime.blob.BlobUtils</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">BlobUtils</span>
extends java.lang.Object</pre>
<div class="block">Utility class to work with blob data.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#BLOB_FILE_PREFIX">BLOB_FILE_PREFIX</a></span></code>
<div class="block">The prefix of all BLOB files stored by the BLOB server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#HASHING_ALGORITHM">HASHING_ALGORITHM</a></span></code>
<div class="block">Algorithm to be used for calculating the BLOB keys.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(专用程序包) static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#JOB_DIR_PREFIX">JOB_DIR_PREFIX</a></span></code>
<div class="block">The prefix of all job-specific directories created by the BLOB server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(专用程序包) static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#NO_JOB_DIR_PREFIX">NO_JOB_DIR_PREFIX</a></span></code>
<div class="block">The prefix of all job-unrelated directories created by the BLOB server.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符</th>
<th class="colLast" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#BlobUtils--">BlobUtils</a></span>()</code>
<div class="block">Private constructor to prevent instantiation.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">静态方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(专用程序包) static java.lang.Thread</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#addShutdownHook-java.io.Closeable-org.slf4j.Logger-">addShutdownHook</a></span>(java.io.Closeable&nbsp;service,
               org.slf4j.Logger&nbsp;logger)</code>
<div class="block">Adds a shutdown hook to the JVM and returns the Thread, which has been registered.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(专用程序包) static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#closeSilently-java.net.Socket-org.slf4j.Logger-">closeSilently</a></span>(java.net.Socket&nbsp;socket,
             org.slf4j.Logger&nbsp;LOG)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/flink/runtime/blob/BlobStoreService.html" title="org.apache.flink.runtime.blob中的接口">BlobStoreService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#createBlobStoreFromConfig-org.apache.flink.configuration.Configuration-">createBlobStoreFromConfig</a></span>(<a href="../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a>&nbsp;config)</code>
<div class="block">Creates a BlobStore based on the parameters set in the configuration.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../../org/apache/flink/runtime/blob/BlobStoreService.html" title="org.apache.flink.runtime.blob中的接口">BlobStoreService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#createFileSystemBlobStore-org.apache.flink.configuration.Configuration-">createFileSystemBlobStore</a></span>(<a href="../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a>&nbsp;configuration)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(专用程序包) static java.security.MessageDigest</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#createMessageDigest--">createMessageDigest</a></span>()</code>
<div class="block">Creates a new instance of the message digest to use for the BLOB key computation.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>(专用程序包) static java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#getIncomingDirectory-java.io.File-">getIncomingDirectory</a></span>(java.io.File&nbsp;storageDir)</code>
<div class="block">Returns the BLOB service's directory for incoming (job-unrelated) files.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>(专用程序包) static java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#getStorageLocation-java.io.File-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-">getStorageLocation</a></span>(java.io.File&nbsp;storageDir,
                  <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                  <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;key)</code>
<div class="block">Returns the (designated) physical storage location of the BLOB with the given key.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(专用程序包) static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#getStorageLocationPath-java.lang.String-org.apache.flink.api.common.JobID-">getStorageLocationPath</a></span>(java.lang.String&nbsp;storageDir,
                      <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId)</code>
<div class="block">Returns the BLOB server's storage directory for BLOBs belonging to the job with the given ID
 <em>without</em> creating the directory.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>(专用程序包) static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#getStorageLocationPath-java.lang.String-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-">getStorageLocationPath</a></span>(java.lang.String&nbsp;storageDir,
                      <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                      <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;key)</code>
<div class="block">Returns the path for the given blob key.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>(专用程序包) static java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#initLocalStorageDirectory-java.lang.String-">initLocalStorageDirectory</a></span>(java.lang.String&nbsp;basePath)</code>
<div class="block">Creates a local storage directory for a blob service under the given parent directory.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#mkdirTolerateExisting-java.io.File-">mkdirTolerateExisting</a></span>(java.io.File&nbsp;dir)</code>
<div class="block">Makes sure a given directory exists by creating it if necessary.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>(专用程序包) static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#moveTempFileToStore-java.io.File-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-java.io.File-org.slf4j.Logger-org.apache.flink.runtime.blob.BlobStore-">moveTempFileToStore</a></span>(java.io.File&nbsp;incomingFile,
                   <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                   <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;blobKey,
                   java.io.File&nbsp;storageFile,
                   org.slf4j.Logger&nbsp;log,
                   <a href="../../../../../org/apache/flink/runtime/blob/BlobStore.html" title="org.apache.flink.runtime.blob中的接口">BlobStore</a>&nbsp;blobStore)</code>
<div class="block">Moves the temporary <tt>incomingFile</tt> to its permanent location where it is available for
 use (not thread-safe!).</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>(专用程序包) static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#readFully-java.io.InputStream-byte:A-int-int-java.lang.String-">readFully</a></span>(java.io.InputStream&nbsp;inputStream,
         byte[]&nbsp;buf,
         int&nbsp;off,
         int&nbsp;len,
         java.lang.String&nbsp;type)</code>
<div class="block">Auxiliary method to read a particular number of bytes from an input stream.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>(专用程序包) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#readLength-java.io.InputStream-">readLength</a></span>(java.io.InputStream&nbsp;inputStream)</code>
<div class="block">Auxiliary method to read the length of an upcoming data chunk from an
 input stream.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>(专用程序包) static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#writeLength-int-java.io.OutputStream-">writeLength</a></span>(int&nbsp;length,
           java.io.OutputStream&nbsp;outputStream)</code>
<div class="block">Auxiliary method to write the length of an upcoming data chunk to an
 output stream.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="HASHING_ALGORITHM">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HASHING_ALGORITHM</h4>
<pre>private static final&nbsp;java.lang.String HASHING_ALGORITHM</pre>
<div class="block">Algorithm to be used for calculating the BLOB keys.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.flink.runtime.blob.BlobUtils.HASHING_ALGORITHM">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="BLOB_FILE_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BLOB_FILE_PREFIX</h4>
<pre>private static final&nbsp;java.lang.String BLOB_FILE_PREFIX</pre>
<div class="block">The prefix of all BLOB files stored by the BLOB server.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.flink.runtime.blob.BlobUtils.BLOB_FILE_PREFIX">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="JOB_DIR_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JOB_DIR_PREFIX</h4>
<pre>static final&nbsp;java.lang.String JOB_DIR_PREFIX</pre>
<div class="block">The prefix of all job-specific directories created by the BLOB server.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.flink.runtime.blob.BlobUtils.JOB_DIR_PREFIX">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="NO_JOB_DIR_PREFIX">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NO_JOB_DIR_PREFIX</h4>
<pre>static final&nbsp;java.lang.String NO_JOB_DIR_PREFIX</pre>
<div class="block">The prefix of all job-unrelated directories created by the BLOB server.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.flink.runtime.blob.BlobUtils.NO_JOB_DIR_PREFIX">常量字段值</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="BlobUtils--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BlobUtils</h4>
<pre>private&nbsp;BlobUtils()</pre>
<div class="block">Private constructor to prevent instantiation.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="createBlobStoreFromConfig-org.apache.flink.configuration.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createBlobStoreFromConfig</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/BlobStoreService.html" title="org.apache.flink.runtime.blob中的接口">BlobStoreService</a>&nbsp;createBlobStoreFromConfig(<a href="../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a>&nbsp;config)
                                                  throws java.io.IOException</pre>
<div class="block">Creates a BlobStore based on the parameters set in the configuration.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>config</code> - configuration to use</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>a (distributed) blob store for high availability</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if the (distributed) file storage cannot be created</dd>
</dl>
</li>
</ul>
<a name="createFileSystemBlobStore-org.apache.flink.configuration.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFileSystemBlobStore</h4>
<pre>private static&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/BlobStoreService.html" title="org.apache.flink.runtime.blob中的接口">BlobStoreService</a>&nbsp;createFileSystemBlobStore(<a href="../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a>&nbsp;configuration)
                                                   throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="initLocalStorageDirectory-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initLocalStorageDirectory</h4>
<pre>static&nbsp;java.io.File&nbsp;initLocalStorageDirectory(java.lang.String&nbsp;basePath)
                                       throws java.io.IOException</pre>
<div class="block">Creates a local storage directory for a blob service under the given parent directory.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>basePath</code> - base path, i.e. parent directory, of the storage directory to use (if <tt>null</tt> or
                empty, the path in <tt>java.io.tmpdir</tt> will be used)</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>a new local storage directory</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if the local file storage cannot be created or is not usable</dd>
</dl>
</li>
</ul>
<a name="getIncomingDirectory-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIncomingDirectory</h4>
<pre>static&nbsp;java.io.File&nbsp;getIncomingDirectory(java.io.File&nbsp;storageDir)
                                  throws java.io.IOException</pre>
<div class="block">Returns the BLOB service's directory for incoming (job-unrelated) files. The directory is
 created if it does not exist yet.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>storageDir</code> - storage directory used be the BLOB service</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the BLOB service's directory for incoming files</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - if creating the directory fails</dd>
</dl>
</li>
</ul>
<a name="mkdirTolerateExisting-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mkdirTolerateExisting</h4>
<pre>private static&nbsp;void&nbsp;mkdirTolerateExisting(java.io.File&nbsp;dir)
                                   throws java.io.IOException</pre>
<div class="block">Makes sure a given directory exists by creating it if necessary.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>dir</code> - directory to create</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - if creating the directory fails</dd>
</dl>
</li>
</ul>
<a name="getStorageLocation-java.io.File-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageLocation</h4>
<pre>static&nbsp;java.io.File&nbsp;getStorageLocation(java.io.File&nbsp;storageDir,
                                       @Nullable
                                       <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                                       <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;key)
                                throws java.io.IOException</pre>
<div class="block">Returns the (designated) physical storage location of the BLOB with the given key.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>storageDir</code> - storage directory used be the BLOB service</dd>
<dd><code>key</code> - the key identifying the BLOB</dd>
<dd><code>jobId</code> - ID of the job for the incoming files (or <tt>null</tt> if job-unrelated)</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the (designated) physical storage location of the BLOB</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - if creating the directory fails</dd>
</dl>
</li>
</ul>
<a name="getStorageLocationPath-java.lang.String-org.apache.flink.api.common.JobID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageLocationPath</h4>
<pre>static&nbsp;java.lang.String&nbsp;getStorageLocationPath(java.lang.String&nbsp;storageDir,
                                               @Nullable
                                               <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId)</pre>
<div class="block">Returns the BLOB server's storage directory for BLOBs belonging to the job with the given ID
 <em>without</em> creating the directory.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>storageDir</code> - storage directory used be the BLOB service</dd>
<dd><code>jobId</code> - the ID of the job to return the storage directory for</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the storage directory for BLOBs belonging to the job with the given ID</dd>
</dl>
</li>
</ul>
<a name="getStorageLocationPath-java.lang.String-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageLocationPath</h4>
<pre>static&nbsp;java.lang.String&nbsp;getStorageLocationPath(java.lang.String&nbsp;storageDir,
                                               @Nullable
                                               <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                                               <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;key)</pre>
<div class="block">Returns the path for the given blob key.
 <p>
 The returned path can be used with the (local or HA) BLOB store file system back-end for
 recovery purposes and follows the same scheme as <a href="../../../../../org/apache/flink/runtime/blob/BlobUtils.html#getStorageLocation-java.io.File-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-"><code>getStorageLocation(File, JobID,
 BlobKey)</code></a>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>storageDir</code> - storage directory used be the BLOB service</dd>
<dd><code>key</code> - the key identifying the BLOB</dd>
<dd><code>jobId</code> - ID of the job for the incoming files</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the path to the given BLOB</dd>
</dl>
</li>
</ul>
<a name="createMessageDigest--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMessageDigest</h4>
<pre>static&nbsp;java.security.MessageDigest&nbsp;createMessageDigest()</pre>
<div class="block">Creates a new instance of the message digest to use for the BLOB key computation.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>a new instance of the message digest to use for the BLOB key computation</dd>
</dl>
</li>
</ul>
<a name="addShutdownHook-java.io.Closeable-org.slf4j.Logger-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addShutdownHook</h4>
<pre>static&nbsp;java.lang.Thread&nbsp;addShutdownHook(java.io.Closeable&nbsp;service,
                                        org.slf4j.Logger&nbsp;logger)</pre>
<div class="block">Adds a shutdown hook to the JVM and returns the Thread, which has been registered.</div>
</li>
</ul>
<a name="writeLength-int-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLength</h4>
<pre>static&nbsp;void&nbsp;writeLength(int&nbsp;length,
                        java.io.OutputStream&nbsp;outputStream)
                 throws java.io.IOException</pre>
<div class="block">Auxiliary method to write the length of an upcoming data chunk to an
 output stream.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>length</code> - the length of the upcoming data chunk in bytes</dd>
<dd><code>outputStream</code> - the output stream to write the length to</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if an I/O error occurs while writing to the output
         stream</dd>
</dl>
</li>
</ul>
<a name="readLength-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLength</h4>
<pre>static&nbsp;int&nbsp;readLength(java.io.InputStream&nbsp;inputStream)
               throws java.io.IOException</pre>
<div class="block">Auxiliary method to read the length of an upcoming data chunk from an
 input stream.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>inputStream</code> - the input stream to read the length from</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the length of the upcoming data chunk in bytes</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if an I/O error occurs while reading from the input
         stream</dd>
</dl>
</li>
</ul>
<a name="readFully-java.io.InputStream-byte:A-int-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readFully</h4>
<pre>static&nbsp;void&nbsp;readFully(java.io.InputStream&nbsp;inputStream,
                      byte[]&nbsp;buf,
                      int&nbsp;off,
                      int&nbsp;len,
                      java.lang.String&nbsp;type)
               throws java.io.IOException</pre>
<div class="block">Auxiliary method to read a particular number of bytes from an input stream. This method blocks until the
 requested number of bytes have been read from the stream. If the stream cannot offer enough data, an
 <code>EOFException</code> is thrown.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>inputStream</code> - The input stream to read the data from.</dd>
<dd><code>buf</code> - The buffer to store the read data.</dd>
<dd><code>off</code> - The offset inside the buffer.</dd>
<dd><code>len</code> - The number of bytes to read from the stream.</dd>
<dd><code>type</code> - The name of the type, to throw a good error message in case of not enough data.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - Thrown if I/O error occurs while reading from the stream or the stream cannot offer enough data.</dd>
</dl>
</li>
</ul>
<a name="closeSilently-java.net.Socket-org.slf4j.Logger-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeSilently</h4>
<pre>static&nbsp;void&nbsp;closeSilently(java.net.Socket&nbsp;socket,
                          org.slf4j.Logger&nbsp;LOG)</pre>
</li>
</ul>
<a name="moveTempFileToStore-java.io.File-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-java.io.File-org.slf4j.Logger-org.apache.flink.runtime.blob.BlobStore-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>moveTempFileToStore</h4>
<pre>static&nbsp;void&nbsp;moveTempFileToStore(java.io.File&nbsp;incomingFile,
                                @Nullable
                                <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                                <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;blobKey,
                                java.io.File&nbsp;storageFile,
                                org.slf4j.Logger&nbsp;log,
                                @Nullable
                                <a href="../../../../../org/apache/flink/runtime/blob/BlobStore.html" title="org.apache.flink.runtime.blob中的接口">BlobStore</a>&nbsp;blobStore)
                         throws java.io.IOException</pre>
<div class="block">Moves the temporary <tt>incomingFile</tt> to its permanent location where it is available for
 use (not thread-safe!).</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>incomingFile</code> - temporary file created during transfer</dd>
<dd><code>jobId</code> - ID of the job this blob belongs to or <tt>null</tt> if job-unrelated</dd>
<dd><code>blobKey</code> - BLOB key identifying the file</dd>
<dd><code>storageFile</code> - (local) file where the blob is/should be stored</dd>
<dd><code>log</code> - logger for debug information</dd>
<dd><code>blobStore</code> - HA store (or <tt>null</tt> if unavailable)</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if an I/O error occurs while moving the file or uploading it to the HA store</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/flink/runtime/blob/BlobStoreService.html" title="org.apache.flink.runtime.blob中的接口"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../org/apache/flink/runtime/blob/BlobView.html" title="org.apache.flink.runtime.blob中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/flink/runtime/blob/BlobUtils.html" target="_top">框架</a></li>
<li><a href="BlobUtils.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
