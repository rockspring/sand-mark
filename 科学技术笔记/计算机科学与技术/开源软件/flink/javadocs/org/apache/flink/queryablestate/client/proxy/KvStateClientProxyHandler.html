<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_144) on Thu May 17 13:42:22 CST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>KvStateClientProxyHandler</title>
<meta name="date" content="2018-05-17">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="KvStateClientProxyHandler";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","所有方法"],1:["t1","静态方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyImpl.html" title="org.apache.flink.queryablestate.client.proxy中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html" target="_top">框架</a></li>
<li><a href="KvStateClientProxyHandler.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.queryablestate.client.proxy</div>
<h2 title="类 KvStateClientProxyHandler" class="title">类 KvStateClientProxyHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandlerAdapter</li>
<li>
<ul class="inheritance">
<li>org.apache.flink.shaded.netty4.io.netty.channel.ChannelInboundHandlerAdapter</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html" title="org.apache.flink.queryablestate.network中的类">org.apache.flink.queryablestate.network.AbstractServerHandler</a>&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateRequest</a>,<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;</li>
<li>
<ul class="inheritance">
<li>org.apache.flink.queryablestate.client.proxy.KvStateClientProxyHandler</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd>org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandler, org.apache.flink.shaded.netty4.io.netty.channel.ChannelInboundHandler</dd>
</dl>
<hr>
<br>
<pre><a href="../../../../../../org/apache/flink/annotation/Internal.html" title="org.apache.flink.annotation中的注释">@Internal</a>
 @ChannelHandler.Sharable
public class <span class="typeNameLabel">KvStateClientProxyHandler</span>
extends <a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html" title="org.apache.flink.queryablestate.network中的类">AbstractServerHandler</a>&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateRequest</a>,<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;</pre>
<div class="block">This handler acts as an internal (to the Flink cluster) client that receives
 the requests from external clients, executes them by contacting the Job Manager (if necessary) and
 the Task Manager holding the requested state, and forwards the answer back to the client.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandler">
<!--   -->
</a>
<h3>从接口继承的嵌套类/接口&nbsp;org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandler</h3>
<code>org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandler.Sharable</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/queryablestate/network/Client.html" title="org.apache.flink.queryablestate.network中的类">Client</a>&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateInternalRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateInternalRequest</a>,<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html#kvStateClient">kvStateClient</a></span></code>
<div class="block">Network client to forward queries to <a href="../../../../../../org/apache/flink/queryablestate/server/KvStateServerImpl.html" title="org.apache.flink.queryablestate.server中的类"><code>state server</code></a>
 instances inside the cluster.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html#LOG">LOG</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.concurrent.ConcurrentMap&lt;<a href="../../../../../../org/apache/flink/api/java/tuple/Tuple2.html" title="org.apache.flink.api.java.tuple中的类">Tuple2</a>&lt;<a href="../../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>,java.lang.String&gt;,java.util.concurrent.CompletableFuture&lt;<a href="../../../../../../org/apache/flink/runtime/query/KvStateLocation.html" title="org.apache.flink.runtime.query中的类">KvStateLocation</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html#lookupCache">lookupCache</a></span></code>
<div class="block">A cache to hold the location of different states for which we have already seen requests.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/runtime/query/KvStateClientProxy.html" title="org.apache.flink.runtime.query中的接口">KvStateClientProxy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html#proxy">proxy</a></span></code>
<div class="block">The proxy using this handler.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.flink.queryablestate.network.AbstractServerHandler">
<!--   -->
</a>
<h3>从类继承的字段&nbsp;org.apache.flink.queryablestate.network.<a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html" title="org.apache.flink.queryablestate.network中的类">AbstractServerHandler</a></h3>
<code><a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html#queryExecutor">queryExecutor</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html#KvStateClientProxyHandler-org.apache.flink.queryablestate.client.proxy.KvStateClientProxyImpl-int-org.apache.flink.queryablestate.network.messages.MessageSerializer-org.apache.flink.queryablestate.network.stats.KvStateRequestStats-">KvStateClientProxyHandler</a></span>(<a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyImpl.html" title="org.apache.flink.queryablestate.client.proxy中的类">KvStateClientProxyImpl</a>&nbsp;proxy,
                         int&nbsp;queryExecutorThreads,
                         <a href="../../../../../../org/apache/flink/queryablestate/network/messages/MessageSerializer.html" title="org.apache.flink.queryablestate.network.messages中的类">MessageSerializer</a>&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateRequest</a>,<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;&nbsp;serializer,
                         <a href="../../../../../../org/apache/flink/queryablestate/network/stats/KvStateRequestStats.html" title="org.apache.flink.queryablestate.network.stats中的接口">KvStateRequestStats</a>&nbsp;stats)</code>
<div class="block">Create the handler used by the <a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyImpl.html" title="org.apache.flink.queryablestate.client.proxy中的类"><code>KvStateClientProxyImpl</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">静态方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../../org/apache/flink/queryablestate/network/Client.html" title="org.apache.flink.queryablestate.network中的类">Client</a>&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateInternalRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateInternalRequest</a>,<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html#createInternalClient-int-">createInternalClient</a></span>(int&nbsp;threads)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html#executeActionAsync-java.util.concurrent.CompletableFuture-org.apache.flink.queryablestate.messages.KvStateRequest-boolean-">executeActionAsync</a></span>(java.util.concurrent.CompletableFuture&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;&nbsp;result,
                  <a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateRequest</a>&nbsp;request,
                  boolean&nbsp;update)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private java.util.concurrent.CompletableFuture&lt;<a href="../../../../../../org/apache/flink/runtime/query/KvStateLocation.html" title="org.apache.flink.runtime.query中的类">KvStateLocation</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html#getKvStateLookupInfo-org.apache.flink.api.common.JobID-java.lang.String-boolean-">getKvStateLookupInfo</a></span>(<a href="../../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                    java.lang.String&nbsp;queryableStateName,
                    boolean&nbsp;forceUpdate)</code>
<div class="block">Lookup the <a href="../../../../../../org/apache/flink/runtime/query/KvStateLocation.html" title="org.apache.flink.runtime.query中的类"><code>KvStateLocation</code></a> for the given job and queryable state name.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private java.util.concurrent.CompletableFuture&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html#getState-org.apache.flink.queryablestate.messages.KvStateRequest-boolean-">getState</a></span>(<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateRequest</a>&nbsp;request,
        boolean&nbsp;forceUpdate)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html#handleRequest-long-org.apache.flink.queryablestate.messages.KvStateRequest-">handleRequest</a></span>(long&nbsp;requestId,
             <a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateRequest</a>&nbsp;request)</code>
<div class="block">Handles an incoming request and returns a <code>CompletableFuture</code> containing the corresponding response.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;java.lang.Void&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html#shutdown--">shutdown</a></span>()</code>
<div class="block">Shuts down any handler-specific resources, e.g. thread pools etc and returns
 a <code>CompletableFuture</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.flink.queryablestate.network.AbstractServerHandler">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.apache.flink.queryablestate.network.<a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html" title="org.apache.flink.queryablestate.network中的类">AbstractServerHandler</a></h3>
<code><a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html#channelActive-org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandlerContext-">channelActive</a>, <a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html#channelInactive-org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandlerContext-">channelInactive</a>, <a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html#channelRead-org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandlerContext-java.lang.Object-">channelRead</a>, <a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html#exceptionCaught-org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandlerContext-java.lang.Throwable-">exceptionCaught</a>, <a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html#getServerName--">getServerName</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.flink.shaded.netty4.io.netty.channel.ChannelInboundHandlerAdapter">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.apache.flink.shaded.netty4.io.netty.channel.ChannelInboundHandlerAdapter</h3>
<code>channelReadComplete, channelRegistered, channelUnregistered, channelWritabilityChanged, userEventTriggered</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandlerAdapter">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandlerAdapter</h3>
<code>handlerAdded, handlerRemoved, isSharable</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandler">
<!--   -->
</a>
<h3>从接口继承的方法&nbsp;org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandler</h3>
<code>handlerAdded, handlerRemoved</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>private static final&nbsp;org.slf4j.Logger LOG</pre>
</li>
</ul>
<a name="proxy">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>proxy</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/flink/runtime/query/KvStateClientProxy.html" title="org.apache.flink.runtime.query中的接口">KvStateClientProxy</a> proxy</pre>
<div class="block">The proxy using this handler.</div>
</li>
</ul>
<a name="lookupCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lookupCache</h4>
<pre>private final&nbsp;java.util.concurrent.ConcurrentMap&lt;<a href="../../../../../../org/apache/flink/api/java/tuple/Tuple2.html" title="org.apache.flink.api.java.tuple中的类">Tuple2</a>&lt;<a href="../../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>,java.lang.String&gt;,java.util.concurrent.CompletableFuture&lt;<a href="../../../../../../org/apache/flink/runtime/query/KvStateLocation.html" title="org.apache.flink.runtime.query中的类">KvStateLocation</a>&gt;&gt; lookupCache</pre>
<div class="block">A cache to hold the location of different states for which we have already seen requests.</div>
</li>
</ul>
<a name="kvStateClient">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>kvStateClient</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/flink/queryablestate/network/Client.html" title="org.apache.flink.queryablestate.network中的类">Client</a>&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateInternalRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateInternalRequest</a>,<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt; kvStateClient</pre>
<div class="block">Network client to forward queries to <a href="../../../../../../org/apache/flink/queryablestate/server/KvStateServerImpl.html" title="org.apache.flink.queryablestate.server中的类"><code>state server</code></a>
 instances inside the cluster.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="KvStateClientProxyHandler-org.apache.flink.queryablestate.client.proxy.KvStateClientProxyImpl-int-org.apache.flink.queryablestate.network.messages.MessageSerializer-org.apache.flink.queryablestate.network.stats.KvStateRequestStats-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KvStateClientProxyHandler</h4>
<pre>public&nbsp;KvStateClientProxyHandler(<a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyImpl.html" title="org.apache.flink.queryablestate.client.proxy中的类">KvStateClientProxyImpl</a>&nbsp;proxy,
                                 int&nbsp;queryExecutorThreads,
                                 <a href="../../../../../../org/apache/flink/queryablestate/network/messages/MessageSerializer.html" title="org.apache.flink.queryablestate.network.messages中的类">MessageSerializer</a>&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateRequest</a>,<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;&nbsp;serializer,
                                 <a href="../../../../../../org/apache/flink/queryablestate/network/stats/KvStateRequestStats.html" title="org.apache.flink.queryablestate.network.stats中的接口">KvStateRequestStats</a>&nbsp;stats)</pre>
<div class="block">Create the handler used by the <a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyImpl.html" title="org.apache.flink.queryablestate.client.proxy中的类"><code>KvStateClientProxyImpl</code></a>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>proxy</code> - the <a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyImpl.html" title="org.apache.flink.queryablestate.client.proxy中的类"><code>proxy</code></a> using the handler.</dd>
<dd><code>queryExecutorThreads</code> - the number of threads used to process incoming requests.</dd>
<dd><code>serializer</code> - the <a href="../../../../../../org/apache/flink/queryablestate/network/messages/MessageSerializer.html" title="org.apache.flink.queryablestate.network.messages中的类"><code>MessageSerializer</code></a> used to (de-) serialize the different messages.</dd>
<dd><code>stats</code> - server statistics collector.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="createInternalClient-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInternalClient</h4>
<pre>private static&nbsp;<a href="../../../../../../org/apache/flink/queryablestate/network/Client.html" title="org.apache.flink.queryablestate.network中的类">Client</a>&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateInternalRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateInternalRequest</a>,<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;&nbsp;createInternalClient(int&nbsp;threads)</pre>
</li>
</ul>
<a name="handleRequest-long-org.apache.flink.queryablestate.messages.KvStateRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleRequest</h4>
<pre>public&nbsp;java.util.concurrent.CompletableFuture&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;&nbsp;handleRequest(long&nbsp;requestId,
                                                                             <a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateRequest</a>&nbsp;request)</pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code><a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html#handleRequest-long-REQ-">AbstractServerHandler</a></code></span></div>
<div class="block">Handles an incoming request and returns a <code>CompletableFuture</code> containing the corresponding response.

 <p><b>NOTE:</b> This method is called by multiple threads.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html#handleRequest-long-REQ-">handleRequest</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html" title="org.apache.flink.queryablestate.network中的类">AbstractServerHandler</a>&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateRequest</a>,<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>requestId</code> - the id of the received request to be handled.</dd>
<dd><code>request</code> - the request to be handled.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>A future with the response to be forwarded to the client.</dd>
</dl>
</li>
</ul>
<a name="executeActionAsync-java.util.concurrent.CompletableFuture-org.apache.flink.queryablestate.messages.KvStateRequest-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeActionAsync</h4>
<pre>private&nbsp;void&nbsp;executeActionAsync(java.util.concurrent.CompletableFuture&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;&nbsp;result,
                                <a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateRequest</a>&nbsp;request,
                                boolean&nbsp;update)</pre>
</li>
</ul>
<a name="getState-org.apache.flink.queryablestate.messages.KvStateRequest-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>private&nbsp;java.util.concurrent.CompletableFuture&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;&nbsp;getState(<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateRequest</a>&nbsp;request,
                                                                         boolean&nbsp;forceUpdate)</pre>
</li>
</ul>
<a name="getKvStateLookupInfo-org.apache.flink.api.common.JobID-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKvStateLookupInfo</h4>
<pre>private&nbsp;java.util.concurrent.CompletableFuture&lt;<a href="../../../../../../org/apache/flink/runtime/query/KvStateLocation.html" title="org.apache.flink.runtime.query中的类">KvStateLocation</a>&gt;&nbsp;getKvStateLookupInfo(<a href="../../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                                                                                     java.lang.String&nbsp;queryableStateName,
                                                                                     boolean&nbsp;forceUpdate)</pre>
<div class="block">Lookup the <a href="../../../../../../org/apache/flink/runtime/query/KvStateLocation.html" title="org.apache.flink.runtime.query中的类"><code>KvStateLocation</code></a> for the given job and queryable state name.

 <p>The job manager will be queried for the location only if forced or no
 cached location can be found. There are no guarantees about</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - JobID the state instance belongs to.</dd>
<dd><code>queryableStateName</code> - Name under which the state instance has been published.</dd>
<dd><code>forceUpdate</code> - Flag to indicate whether to force a update via the lookup service.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Future holding the KvStateLocation</dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;java.util.concurrent.CompletableFuture&lt;java.lang.Void&gt;&nbsp;shutdown()</pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code><a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html#shutdown--">AbstractServerHandler</a></code></span></div>
<div class="block">Shuts down any handler-specific resources, e.g. thread pools etc and returns
 a <code>CompletableFuture</code>.

 <p>If an exception is thrown during the shutdown process, then that exception
 will be included in the returned future.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html#shutdown--">shutdown</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../org/apache/flink/queryablestate/network/AbstractServerHandler.html" title="org.apache.flink.queryablestate.network中的类">AbstractServerHandler</a>&lt;<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateRequest.html" title="org.apache.flink.queryablestate.messages中的类">KvStateRequest</a>,<a href="../../../../../../org/apache/flink/queryablestate/messages/KvStateResponse.html" title="org.apache.flink.queryablestate.messages中的类">KvStateResponse</a>&gt;</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>A <code>CompletableFuture</code> that will be completed when the shutdown
 process actually finishes.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../../../../org/apache/flink/queryablestate/client/proxy/KvStateClientProxyImpl.html" title="org.apache.flink.queryablestate.client.proxy中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/flink/queryablestate/client/proxy/KvStateClientProxyHandler.html" target="_top">框架</a></li>
<li><a href="KvStateClientProxyHandler.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
