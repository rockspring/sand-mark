<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_144) on Thu May 17 13:42:27 CST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>BlobServer</title>
<meta name="date" content="2018-05-17">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BlobServer";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/flink/runtime/blob/BlobKey.BlobType.html" title="org.apache.flink.runtime.blob中的枚举"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../org/apache/flink/runtime/blob/BlobServerConnection.html" title="org.apache.flink.runtime.blob中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/flink/runtime/blob/BlobServer.html" target="_top">框架</a></li>
<li><a href="BlobServer.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.lang.Thread">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.runtime.blob</div>
<h2 title="类 BlobServer" class="title">类 BlobServer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.lang.Thread</li>
<li>
<ul class="inheritance">
<li>org.apache.flink.runtime.blob.BlobServer</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd>java.io.Closeable, java.lang.AutoCloseable, java.lang.Runnable, <a href="../../../../../org/apache/flink/runtime/blob/BlobService.html" title="org.apache.flink.runtime.blob中的接口">BlobService</a>, <a href="../../../../../org/apache/flink/runtime/blob/BlobWriter.html" title="org.apache.flink.runtime.blob中的接口">BlobWriter</a>, <a href="../../../../../org/apache/flink/runtime/blob/PermanentBlobService.html" title="org.apache.flink.runtime.blob中的接口">PermanentBlobService</a>, <a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html" title="org.apache.flink.runtime.blob中的接口">TransientBlobService</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">BlobServer</span>
extends java.lang.Thread
implements <a href="../../../../../org/apache/flink/runtime/blob/BlobService.html" title="org.apache.flink.runtime.blob中的接口">BlobService</a>, <a href="../../../../../org/apache/flink/runtime/blob/BlobWriter.html" title="org.apache.flink.runtime.blob中的接口">BlobWriter</a>, <a href="../../../../../org/apache/flink/runtime/blob/PermanentBlobService.html" title="org.apache.flink.runtime.blob中的接口">PermanentBlobService</a>, <a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html" title="org.apache.flink.runtime.blob中的接口">TransientBlobService</a></pre>
<div class="block">This class implements the BLOB server. The BLOB server is responsible for listening for incoming requests and
 spawning threads to handle these requests. Furthermore, it takes care of creating the directory structure to store
 the BLOBs or temporarily cache them.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>从类继承的嵌套类/接口&nbsp;java.lang.Thread</h3>
<code>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Set&lt;<a href="../../../../../org/apache/flink/runtime/blob/BlobServerConnection.html" title="org.apache.flink.runtime.blob中的类">BlobServerConnection</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#activeConnections">activeConnections</a></span></code>
<div class="block">Set of currently running threads</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.concurrent.ConcurrentHashMap&lt;<a href="../../../../../org/apache/flink/api/java/tuple/Tuple2.html" title="org.apache.flink.api.java.tuple中的类">Tuple2</a>&lt;<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>,<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&gt;,java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#blobExpiryTimes">blobExpiryTimes</a></span></code>
<div class="block">Map to store the TTL of each element stored in the local storage, i.e. via one of the <a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getFile-org.apache.flink.runtime.blob.TransientBlobKey-"><code>getFile(org.apache.flink.runtime.blob.TransientBlobKey)</code></a> methods.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#blobServiceConfiguration">blobServiceConfiguration</a></span></code>
<div class="block">Blob Server configuration</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/flink/runtime/blob/BlobStore.html" title="org.apache.flink.runtime.blob中的接口">BlobStore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#blobStore">blobStore</a></span></code>
<div class="block">Blob store for distributed file storage, e.g. in HA</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#cleanupInterval">cleanupInterval</a></span></code>
<div class="block">Time interval (ms) to run the cleanup task; also used as the default TTL.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Timer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#cleanupTimer">cleanupTimer</a></span></code>
<div class="block">Timer task to execute the cleanup at regular intervals.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#LOG">LOG</a></span></code>
<div class="block">The log object used for debugging.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#maxConnections">maxConnections</a></span></code>
<div class="block">The maximum number of concurrent connections</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.concurrent.locks.ReadWriteLock</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#readWriteLock">readWriteLock</a></span></code>
<div class="block">Lock guarding concurrent file accesses</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.net.ServerSocket</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#serverSocket">serverSocket</a></span></code>
<div class="block">The server socket listening for incoming connections.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private javax.net.ssl.SSLContext</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#serverSSLContext">serverSSLContext</a></span></code>
<div class="block">The SSL server context if ssl is enabled for the connections</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Thread</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#shutdownHook">shutdownHook</a></span></code>
<div class="block">Shutdown hook thread to ensure deletion of the local storage directory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.concurrent.atomic.AtomicBoolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#shutdownRequested">shutdownRequested</a></span></code>
<div class="block">Indicates whether a shutdown of server component has been requested.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#storageDir">storageDir</a></span></code>
<div class="block">Root directory for local file storage</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.concurrent.atomic.AtomicLong</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#tempFileCounter">tempFileCounter</a></span></code>
<div class="block">Counter to generate unique names for temporary files.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>从类继承的字段&nbsp;java.lang.Thread</h3>
<code>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#BlobServer-org.apache.flink.configuration.Configuration-org.apache.flink.runtime.blob.BlobStore-">BlobServer</a></span>(<a href="../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a>&nbsp;config,
          <a href="../../../../../org/apache/flink/runtime/blob/BlobStore.html" title="org.apache.flink.runtime.blob中的接口">BlobStore</a>&nbsp;blobStore)</code>
<div class="block">Instantiates a new BLOB server and binds it to a free network port.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#cleanupJob-org.apache.flink.api.common.JobID-">cleanupJob</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId)</code>
<div class="block">Removes all BLOBs from local and HA store belonging to the given job ID.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#close--">close</a></span>()</code>
<div class="block">Shuts down the BLOB server.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/flink/runtime/blob/BlobClient.html" title="org.apache.flink.runtime.blob中的类">BlobClient</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#createClient--">createClient</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>(专用程序包) java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#createTemporaryFilename--">createTemporaryFilename</a></span>()</code>
<div class="block">Returns a temporary file inside the BLOB server's incoming directory.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#deleteFromCache-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.TransientBlobKey-">deleteFromCache</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
               <a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;key)</code>
<div class="block">Deletes the file associated with the blob key in the local storage of the blob server.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#deleteFromCache-org.apache.flink.runtime.blob.TransientBlobKey-">deleteFromCache</a></span>(<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;key)</code>
<div class="block">Deletes the (job-unrelated) file associated with the blob key in the local storage of the
 blob server.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>(专用程序包) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#deleteInternal-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.TransientBlobKey-">deleteInternal</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
              <a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;key)</code>
<div class="block">Deletes the file associated with the blob key in the local storage of the blob server.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(专用程序包) java.util.concurrent.ConcurrentMap&lt;<a href="../../../../../org/apache/flink/api/java/tuple/Tuple2.html" title="org.apache.flink.api.java.tuple中的类">Tuple2</a>&lt;<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>,<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&gt;,java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getBlobExpiryTimes--">getBlobExpiryTimes</a></span>()</code>
<div class="block">Returns the blob expiry times - for testing purposes only!</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>(专用程序包) java.util.List&lt;<a href="../../../../../org/apache/flink/runtime/blob/BlobServerConnection.html" title="org.apache.flink.runtime.blob中的类">BlobServerConnection</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getCurrentActiveConnections--">getCurrentActiveConnections</a></span>()</code>
<div class="block">Returns all the current active connections in the BlobServer.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getFile-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.PermanentBlobKey-">getFile</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
       <a href="../../../../../org/apache/flink/runtime/blob/PermanentBlobKey.html" title="org.apache.flink.runtime.blob中的类">PermanentBlobKey</a>&nbsp;key)</code>
<div class="block">Returns the path to a local copy of the file associated with the provided job ID and blob
 key.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getFile-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.TransientBlobKey-">getFile</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
       <a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;key)</code>
<div class="block">Retrieves the local path of a file associated with a job and a blob key.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getFile-org.apache.flink.runtime.blob.TransientBlobKey-">getFile</a></span>(<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;key)</code>
<div class="block">Retrieves the local path of a (job-unrelated) file associated with a job and a blob key.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getFileInternal-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-">getFileInternal</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
               <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;blobKey)</code>
<div class="block">Retrieves the local path of a file associated with a job and a blob key.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>(专用程序包) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getFileInternal-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-java.io.File-">getFileInternal</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
               <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;blobKey,
               java.io.File&nbsp;localFile)</code>
<div class="block">Helper to retrieve the local path of a file associated with a job and a blob key.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getMinOffloadingSize--">getMinOffloadingSize</a></span>()</code>
<div class="block">Returns the configuration used by the BLOB server.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/flink/runtime/blob/PermanentBlobService.html" title="org.apache.flink.runtime.blob中的接口">PermanentBlobService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getPermanentBlobService--">getPermanentBlobService</a></span>()</code>
<div class="block">Returns a BLOB service for accessing permanent BLOBs.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getPort--">getPort</a></span>()</code>
<div class="block">Returns the port on which the server is listening.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>(专用程序包) java.util.concurrent.locks.ReadWriteLock</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getReadWriteLock--">getReadWriteLock</a></span>()</code>
<div class="block">Returns the lock used to guard file accesses</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>(专用程序包) java.net.ServerSocket</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getServerSocket--">getServerSocket</a></span>()</code>
<div class="block">Access to the server socket, for testing.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getStorageLocation-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-">getStorageLocation</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                  <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;key)</code>
<div class="block">Returns a file handle to the file associated with the given blob key on the blob
 server.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html" title="org.apache.flink.runtime.blob中的接口">TransientBlobService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getTransientBlobService--">getTransientBlobService</a></span>()</code>
<div class="block">Returns a BLOB service for accessing transient BLOBs.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#isShutdown--">isShutdown</a></span>()</code>
<div class="block">Tests whether the BLOB server has been requested to shut down.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>(专用程序包) <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#moveTempFileToStore-java.io.File-org.apache.flink.api.common.JobID-byte:A-org.apache.flink.runtime.blob.BlobKey.BlobType-">moveTempFileToStore</a></span>(java.io.File&nbsp;incomingFile,
                   <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                   byte[]&nbsp;digest,
                   <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.BlobType.html" title="org.apache.flink.runtime.blob中的枚举">BlobKey.BlobType</a>&nbsp;blobType)</code>
<div class="block">Moves the temporary <tt>incomingFile</tt> to its permanent location where it is available for
 use.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#putBuffer-org.apache.flink.api.common.JobID-byte:A-org.apache.flink.runtime.blob.BlobKey.BlobType-">putBuffer</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
         byte[]&nbsp;value,
         <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.BlobType.html" title="org.apache.flink.runtime.blob中的枚举">BlobKey.BlobType</a>&nbsp;blobType)</code>
<div class="block">Uploads the data of the given byte array for the given job to the BLOB server.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#putInputStream-org.apache.flink.api.common.JobID-java.io.InputStream-org.apache.flink.runtime.blob.BlobKey.BlobType-">putInputStream</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
              java.io.InputStream&nbsp;inputStream,
              <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.BlobType.html" title="org.apache.flink.runtime.blob中的枚举">BlobKey.BlobType</a>&nbsp;blobType)</code>
<div class="block">Uploads the data from the given input stream for the given job to the BLOB server.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/flink/runtime/blob/PermanentBlobKey.html" title="org.apache.flink.runtime.blob中的类">PermanentBlobKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#putPermanent-org.apache.flink.api.common.JobID-byte:A-">putPermanent</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
            byte[]&nbsp;value)</code>
<div class="block">Uploads the data of the given byte array for the given job to the BLOB server and makes it
 a permanent BLOB.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/flink/runtime/blob/PermanentBlobKey.html" title="org.apache.flink.runtime.blob中的类">PermanentBlobKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#putPermanent-org.apache.flink.api.common.JobID-java.io.InputStream-">putPermanent</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
            java.io.InputStream&nbsp;inputStream)</code>
<div class="block">Uploads the data from the given input stream for the given job to the BLOB server and makes it
 a permanent BLOB.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#putTransient-byte:A-">putTransient</a></span>(byte[]&nbsp;value)</code>
<div class="block">Uploads the (job-unrelated) data of the given byte array to the BLOB server.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#putTransient-java.io.InputStream-">putTransient</a></span>(java.io.InputStream&nbsp;inputStream)</code>
<div class="block">Uploads the (job-unrelated) data from the given input stream to the BLOB server.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#putTransient-org.apache.flink.api.common.JobID-byte:A-">putTransient</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
            byte[]&nbsp;value)</code>
<div class="block">Uploads the data of the given byte array for the given job to the BLOB server.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#putTransient-org.apache.flink.api.common.JobID-java.io.InputStream-">putTransient</a></span>(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
            java.io.InputStream&nbsp;inputStream)</code>
<div class="block">Uploads the data from the given input stream for the given job to the BLOB server.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#run--">run</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>(专用程序包) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#unregisterConnection-org.apache.flink.runtime.blob.BlobServerConnection-">unregisterConnection</a></span>(<a href="../../../../../org/apache/flink/runtime/blob/BlobServerConnection.html" title="org.apache.flink.runtime.blob中的类">BlobServerConnection</a>&nbsp;conn)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Thread</h3>
<code>activeCount, checkAccess, clone, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, toString, yield</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.flink.runtime.blob.BlobWriter">
<!--   -->
</a>
<h3>从接口继承的方法&nbsp;org.apache.flink.runtime.blob.<a href="../../../../../org/apache/flink/runtime/blob/BlobWriter.html" title="org.apache.flink.runtime.blob中的接口">BlobWriter</a></h3>
<code><a href="../../../../../org/apache/flink/runtime/blob/BlobWriter.html#serializeAndTryOffload-T-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobWriter-">serializeAndTryOffload</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>private static final&nbsp;org.slf4j.Logger LOG</pre>
<div class="block">The log object used for debugging.</div>
</li>
</ul>
<a name="tempFileCounter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tempFileCounter</h4>
<pre>private final&nbsp;java.util.concurrent.atomic.AtomicLong tempFileCounter</pre>
<div class="block">Counter to generate unique names for temporary files.</div>
</li>
</ul>
<a name="serverSocket">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverSocket</h4>
<pre>private final&nbsp;java.net.ServerSocket serverSocket</pre>
<div class="block">The server socket listening for incoming connections.</div>
</li>
</ul>
<a name="serverSSLContext">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverSSLContext</h4>
<pre>private final&nbsp;javax.net.ssl.SSLContext serverSSLContext</pre>
<div class="block">The SSL server context if ssl is enabled for the connections</div>
</li>
</ul>
<a name="blobServiceConfiguration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blobServiceConfiguration</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a> blobServiceConfiguration</pre>
<div class="block">Blob Server configuration</div>
</li>
</ul>
<a name="shutdownRequested">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownRequested</h4>
<pre>private final&nbsp;java.util.concurrent.atomic.AtomicBoolean shutdownRequested</pre>
<div class="block">Indicates whether a shutdown of server component has been requested.</div>
</li>
</ul>
<a name="storageDir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storageDir</h4>
<pre>private final&nbsp;java.io.File storageDir</pre>
<div class="block">Root directory for local file storage</div>
</li>
</ul>
<a name="blobStore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blobStore</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/BlobStore.html" title="org.apache.flink.runtime.blob中的接口">BlobStore</a> blobStore</pre>
<div class="block">Blob store for distributed file storage, e.g. in HA</div>
</li>
</ul>
<a name="activeConnections">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activeConnections</h4>
<pre>private final&nbsp;java.util.Set&lt;<a href="../../../../../org/apache/flink/runtime/blob/BlobServerConnection.html" title="org.apache.flink.runtime.blob中的类">BlobServerConnection</a>&gt; activeConnections</pre>
<div class="block">Set of currently running threads</div>
</li>
</ul>
<a name="maxConnections">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxConnections</h4>
<pre>private final&nbsp;int maxConnections</pre>
<div class="block">The maximum number of concurrent connections</div>
</li>
</ul>
<a name="readWriteLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readWriteLock</h4>
<pre>private final&nbsp;java.util.concurrent.locks.ReadWriteLock readWriteLock</pre>
<div class="block">Lock guarding concurrent file accesses</div>
</li>
</ul>
<a name="shutdownHook">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownHook</h4>
<pre>private final&nbsp;java.lang.Thread shutdownHook</pre>
<div class="block">Shutdown hook thread to ensure deletion of the local storage directory.</div>
</li>
</ul>
<a name="blobExpiryTimes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blobExpiryTimes</h4>
<pre>private final&nbsp;java.util.concurrent.ConcurrentHashMap&lt;<a href="../../../../../org/apache/flink/api/java/tuple/Tuple2.html" title="org.apache.flink.api.java.tuple中的类">Tuple2</a>&lt;<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>,<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&gt;,java.lang.Long&gt; blobExpiryTimes</pre>
<div class="block">Map to store the TTL of each element stored in the local storage, i.e. via one of the <a href="../../../../../org/apache/flink/runtime/blob/BlobServer.html#getFile-org.apache.flink.runtime.blob.TransientBlobKey-"><code>getFile(org.apache.flink.runtime.blob.TransientBlobKey)</code></a> methods.</div>
</li>
</ul>
<a name="cleanupInterval">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupInterval</h4>
<pre>private final&nbsp;long cleanupInterval</pre>
<div class="block">Time interval (ms) to run the cleanup task; also used as the default TTL.</div>
</li>
</ul>
<a name="cleanupTimer">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cleanupTimer</h4>
<pre>private final&nbsp;java.util.Timer cleanupTimer</pre>
<div class="block">Timer task to execute the cleanup at regular intervals.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="BlobServer-org.apache.flink.configuration.Configuration-org.apache.flink.runtime.blob.BlobStore-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BlobServer</h4>
<pre>public&nbsp;BlobServer(<a href="../../../../../org/apache/flink/configuration/Configuration.html" title="org.apache.flink.configuration中的类">Configuration</a>&nbsp;config,
                  <a href="../../../../../org/apache/flink/runtime/blob/BlobStore.html" title="org.apache.flink.runtime.blob中的接口">BlobStore</a>&nbsp;blobStore)
           throws java.io.IOException</pre>
<div class="block">Instantiates a new BLOB server and binds it to a free network port.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>config</code> - Configuration to be used to instantiate the BlobServer</dd>
<dd><code>blobStore</code> - BlobStore to store blobs persistently</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if the BLOB server cannot bind to a free network port or if the
                (local or distributed) file storage cannot be created or is not usable</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getStorageLocation-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageLocation</h4>
<pre><a href="../../../../../org/apache/flink/annotation/VisibleForTesting.html" title="org.apache.flink.annotation中的注释">@VisibleForTesting</a>
public&nbsp;java.io.File&nbsp;getStorageLocation(@Nullable
                                                          <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                                                          <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;key)
                                                   throws java.io.IOException</pre>
<div class="block">Returns a file handle to the file associated with the given blob key on the blob
 server.

 <p><strong>This is only called from <a href="../../../../../org/apache/flink/runtime/blob/BlobServerConnection.html" title="org.apache.flink.runtime.blob中的类"><code>BlobServerConnection</code></a> or unit tests.</strong></div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - ID of the job this blob belongs to (or <tt>null</tt> if job-unrelated)</dd>
<dd><code>key</code> - identifying the file</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>file handle to the file</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - if creating the directory fails</dd>
</dl>
</li>
</ul>
<a name="createTemporaryFilename--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTemporaryFilename</h4>
<pre>java.io.File&nbsp;createTemporaryFilename()
                              throws java.io.IOException</pre>
<div class="block">Returns a temporary file inside the BLOB server's incoming directory.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>a temporary file inside the BLOB server's incoming directory</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - if creating the directory fails</dd>
</dl>
</li>
</ul>
<a name="getReadWriteLock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadWriteLock</h4>
<pre>java.util.concurrent.locks.ReadWriteLock&nbsp;getReadWriteLock()</pre>
<div class="block">Returns the lock used to guard file accesses</div>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>run</code>&nbsp;在接口中&nbsp;<code>java.lang.Runnable</code></dd>
<dt><span class="overrideSpecifyLabel">覆盖:</span></dt>
<dd><code>run</code>&nbsp;在类中&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.io.IOException</pre>
<div class="block">Shuts down the BLOB server.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>close</code>&nbsp;在接口中&nbsp;<code>java.io.Closeable</code></dd>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>close</code>&nbsp;在接口中&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="createClient--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createClient</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/BlobClient.html" title="org.apache.flink.runtime.blob中的类">BlobClient</a>&nbsp;createClient()
                           throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="getFile-org.apache.flink.runtime.blob.TransientBlobKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFile</h4>
<pre>public&nbsp;java.io.File&nbsp;getFile(<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;key)
                     throws java.io.IOException</pre>
<div class="block">Retrieves the local path of a (job-unrelated) file associated with a job and a blob key.
 <p>
 The blob server looks the blob key up in its local storage. If the file exists, it is
 returned. If the file does not exist, it is retrieved from the HA blob store (if available)
 or a <code>FileNotFoundException</code> is thrown.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html#getFile-org.apache.flink.runtime.blob.TransientBlobKey-">getFile</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html" title="org.apache.flink.runtime.blob中的接口">TransientBlobService</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>key</code> - blob key associated with the requested file</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>file referring to the local storage location of the BLOB</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - Thrown if the file retrieval failed.</dd>
</dl>
</li>
</ul>
<a name="getFile-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.TransientBlobKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFile</h4>
<pre>public&nbsp;java.io.File&nbsp;getFile(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                            <a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;key)
                     throws java.io.IOException</pre>
<div class="block">Retrieves the local path of a file associated with a job and a blob key.
 <p>
 The blob server looks the blob key up in its local storage. If the file exists, it is
 returned. If the file does not exist, it is retrieved from the HA blob store (if available)
 or a <code>FileNotFoundException</code> is thrown.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html#getFile-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.TransientBlobKey-">getFile</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html" title="org.apache.flink.runtime.blob中的接口">TransientBlobService</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - ID of the job this blob belongs to</dd>
<dd><code>key</code> - blob key associated with the requested file</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>file referring to the local storage location of the BLOB</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - Thrown if the file retrieval failed.</dd>
</dl>
</li>
</ul>
<a name="getFile-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.PermanentBlobKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFile</h4>
<pre>public&nbsp;java.io.File&nbsp;getFile(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                            <a href="../../../../../org/apache/flink/runtime/blob/PermanentBlobKey.html" title="org.apache.flink.runtime.blob中的类">PermanentBlobKey</a>&nbsp;key)
                     throws java.io.IOException</pre>
<div class="block">Returns the path to a local copy of the file associated with the provided job ID and blob
 key.
 <p>
 We will first attempt to serve the BLOB from the local storage. If the BLOB is not in
 there, we will try to download it from the HA store.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/PermanentBlobService.html#getFile-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.PermanentBlobKey-">getFile</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/PermanentBlobService.html" title="org.apache.flink.runtime.blob中的接口">PermanentBlobService</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - ID of the job this blob belongs to</dd>
<dd><code>key</code> - blob key associated with the requested file</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>The path to the file.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - if the BLOB does not exist;</dd>
<dd><code>java.io.IOException</code> - if any other error occurs when retrieving the file</dd>
</dl>
</li>
</ul>
<a name="getFileInternal-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileInternal</h4>
<pre>private&nbsp;java.io.File&nbsp;getFileInternal(@Nullable
                                     <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                                     <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;blobKey)
                              throws java.io.IOException</pre>
<div class="block">Retrieves the local path of a file associated with a job and a blob key.
 <p>
 The blob server looks the blob key up in its local storage. If the file exists, it is
 returned. If the file does not exist, it is retrieved from the HA blob store (if available)
 or a <code>FileNotFoundException</code> is thrown.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - ID of the job this blob belongs to (or <tt>null</tt> if job-unrelated)</dd>
<dd><code>blobKey</code> - blob key associated with the requested file</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>file referring to the local storage location of the BLOB</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - Thrown if the file retrieval failed.</dd>
</dl>
</li>
</ul>
<a name="getFileInternal-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.BlobKey-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileInternal</h4>
<pre>void&nbsp;getFileInternal(@Nullable
                     <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                     <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;blobKey,
                     java.io.File&nbsp;localFile)
              throws java.io.IOException</pre>
<div class="block">Helper to retrieve the local path of a file associated with a job and a blob key.
 <p>
 The blob server looks the blob key up in its local storage. If the file exists, it is
 returned. If the file does not exist, it is retrieved from the HA blob store (if available)
 or a <code>FileNotFoundException</code> is thrown.
 <p>
 <strong>Assumes the read lock has already been acquired.</strong></div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - ID of the job this blob belongs to (or <tt>null</tt> if job-unrelated)</dd>
<dd><code>blobKey</code> - blob key associated with the requested file</dd>
<dd><code>localFile</code> - (local) file where the blob is/should be stored</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - Thrown if the file retrieval failed.</dd>
</dl>
</li>
</ul>
<a name="putTransient-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putTransient</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;putTransient(byte[]&nbsp;value)
                              throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html#putTransient-byte:A-">TransientBlobService</a></code></span></div>
<div class="block">Uploads the (job-unrelated) data of the given byte array to the BLOB server.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html#putTransient-byte:A-">putTransient</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html" title="org.apache.flink.runtime.blob中的接口">TransientBlobService</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>value</code> - the buffer to upload</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the computed BLOB key identifying the BLOB on the server</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if an I/O error occurs while uploading the data to the BLOB server</dd>
</dl>
</li>
</ul>
<a name="putTransient-org.apache.flink.api.common.JobID-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putTransient</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;putTransient(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                                     byte[]&nbsp;value)
                              throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html#putTransient-org.apache.flink.api.common.JobID-byte:A-">TransientBlobService</a></code></span></div>
<div class="block">Uploads the data of the given byte array for the given job to the BLOB server.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html#putTransient-org.apache.flink.api.common.JobID-byte:A-">putTransient</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html" title="org.apache.flink.runtime.blob中的接口">TransientBlobService</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - the ID of the job the BLOB belongs to</dd>
<dd><code>value</code> - the buffer to upload</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the computed BLOB key identifying the BLOB on the server</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if an I/O error occurs while uploading the data to the BLOB server</dd>
</dl>
</li>
</ul>
<a name="putTransient-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putTransient</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;putTransient(java.io.InputStream&nbsp;inputStream)
                              throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html#putTransient-java.io.InputStream-">TransientBlobService</a></code></span></div>
<div class="block">Uploads the (job-unrelated) data from the given input stream to the BLOB server.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html#putTransient-java.io.InputStream-">putTransient</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html" title="org.apache.flink.runtime.blob中的接口">TransientBlobService</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>inputStream</code> - the input stream to read the data from</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the computed BLOB key identifying the BLOB on the server</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if an I/O error occurs while reading the data from the input stream or uploading the
                data to the BLOB server</dd>
</dl>
</li>
</ul>
<a name="putTransient-org.apache.flink.api.common.JobID-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putTransient</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;putTransient(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                                     java.io.InputStream&nbsp;inputStream)
                              throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html#putTransient-org.apache.flink.api.common.JobID-java.io.InputStream-">TransientBlobService</a></code></span></div>
<div class="block">Uploads the data from the given input stream for the given job to the BLOB server.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html#putTransient-org.apache.flink.api.common.JobID-java.io.InputStream-">putTransient</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html" title="org.apache.flink.runtime.blob中的接口">TransientBlobService</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - ID of the job this blob belongs to</dd>
<dd><code>inputStream</code> - the input stream to read the data from</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the computed BLOB key identifying the BLOB on the server</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if an I/O error occurs while reading the data from the input stream or uploading the
                data to the BLOB server</dd>
</dl>
</li>
</ul>
<a name="putPermanent-org.apache.flink.api.common.JobID-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putPermanent</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/PermanentBlobKey.html" title="org.apache.flink.runtime.blob中的类">PermanentBlobKey</a>&nbsp;putPermanent(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                                     byte[]&nbsp;value)
                              throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/BlobWriter.html#putPermanent-org.apache.flink.api.common.JobID-byte:A-">BlobWriter</a></code></span></div>
<div class="block">Uploads the data of the given byte array for the given job to the BLOB server and makes it
 a permanent BLOB.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/BlobWriter.html#putPermanent-org.apache.flink.api.common.JobID-byte:A-">putPermanent</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/BlobWriter.html" title="org.apache.flink.runtime.blob中的接口">BlobWriter</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - the ID of the job the BLOB belongs to</dd>
<dd><code>value</code> - the buffer to upload</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the computed BLOB key identifying the BLOB on the server</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if an I/O error occurs while writing it to a local file, or uploading it to the HA
                store</dd>
</dl>
</li>
</ul>
<a name="putPermanent-org.apache.flink.api.common.JobID-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putPermanent</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/PermanentBlobKey.html" title="org.apache.flink.runtime.blob中的类">PermanentBlobKey</a>&nbsp;putPermanent(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                                     java.io.InputStream&nbsp;inputStream)
                              throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/BlobWriter.html#putPermanent-org.apache.flink.api.common.JobID-java.io.InputStream-">BlobWriter</a></code></span></div>
<div class="block">Uploads the data from the given input stream for the given job to the BLOB server and makes it
 a permanent BLOB.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/BlobWriter.html#putPermanent-org.apache.flink.api.common.JobID-java.io.InputStream-">putPermanent</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/BlobWriter.html" title="org.apache.flink.runtime.blob中的接口">BlobWriter</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - ID of the job this blob belongs to</dd>
<dd><code>inputStream</code> - the input stream to read the data from</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the computed BLOB key identifying the BLOB on the server</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if an I/O error occurs while reading the data from the input stream, writing it to a
                local file, or uploading it to the HA store</dd>
</dl>
</li>
</ul>
<a name="putBuffer-org.apache.flink.api.common.JobID-byte:A-org.apache.flink.runtime.blob.BlobKey.BlobType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putBuffer</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;putBuffer(@Nullable
                          <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                          byte[]&nbsp;value,
                          <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.BlobType.html" title="org.apache.flink.runtime.blob中的枚举">BlobKey.BlobType</a>&nbsp;blobType)
                   throws java.io.IOException</pre>
<div class="block">Uploads the data of the given byte array for the given job to the BLOB server.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - the ID of the job the BLOB belongs to</dd>
<dd><code>value</code> - the buffer to upload</dd>
<dd><code>blobType</code> - whether to make the data permanent or transient</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the computed BLOB key identifying the BLOB on the server</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if an I/O error occurs while writing it to a local file, or uploading it to the HA
                store</dd>
</dl>
</li>
</ul>
<a name="putInputStream-org.apache.flink.api.common.JobID-java.io.InputStream-org.apache.flink.runtime.blob.BlobKey.BlobType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putInputStream</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;putInputStream(@Nullable
                               <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                               java.io.InputStream&nbsp;inputStream,
                               <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.BlobType.html" title="org.apache.flink.runtime.blob中的枚举">BlobKey.BlobType</a>&nbsp;blobType)
                        throws java.io.IOException</pre>
<div class="block">Uploads the data from the given input stream for the given job to the BLOB server.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - the ID of the job the BLOB belongs to</dd>
<dd><code>inputStream</code> - the input stream to read the data from</dd>
<dd><code>blobType</code> - whether to make the data permanent or transient</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the computed BLOB key identifying the BLOB on the server</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if an I/O error occurs while reading the data from the input stream, writing it to a
                local file, or uploading it to the HA store</dd>
</dl>
</li>
</ul>
<a name="moveTempFileToStore-java.io.File-org.apache.flink.api.common.JobID-byte:A-org.apache.flink.runtime.blob.BlobKey.BlobType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveTempFileToStore</h4>
<pre><a href="../../../../../org/apache/flink/runtime/blob/BlobKey.html" title="org.apache.flink.runtime.blob中的类">BlobKey</a>&nbsp;moveTempFileToStore(java.io.File&nbsp;incomingFile,
                            @Nullable
                            <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                            byte[]&nbsp;digest,
                            <a href="../../../../../org/apache/flink/runtime/blob/BlobKey.BlobType.html" title="org.apache.flink.runtime.blob中的枚举">BlobKey.BlobType</a>&nbsp;blobType)
                     throws java.io.IOException</pre>
<div class="block">Moves the temporary <tt>incomingFile</tt> to its permanent location where it is available for
 use.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>incomingFile</code> - temporary file created during transfer</dd>
<dd><code>jobId</code> - ID of the job this blob belongs to or <tt>null</tt> if job-unrelated</dd>
<dd><code>digest</code> - BLOB content digest, i.e. hash</dd>
<dd><code>blobType</code> - whether this file is a permanent or transient BLOB</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>unique BLOB key that identifies the BLOB on the server</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - thrown if an I/O error occurs while moving the file or uploading it to the HA store</dd>
</dl>
</li>
</ul>
<a name="deleteFromCache-org.apache.flink.runtime.blob.TransientBlobKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteFromCache</h4>
<pre>public&nbsp;boolean&nbsp;deleteFromCache(<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;key)</pre>
<div class="block">Deletes the (job-unrelated) file associated with the blob key in the local storage of the
 blob server.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html#deleteFromCache-org.apache.flink.runtime.blob.TransientBlobKey-">deleteFromCache</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html" title="org.apache.flink.runtime.blob中的接口">TransientBlobService</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>key</code> - blob key associated with the file to be deleted</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd><tt>true</tt> if the given blob is successfully deleted or non-existing;
          <tt>false</tt> otherwise</dd>
</dl>
</li>
</ul>
<a name="deleteFromCache-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.TransientBlobKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteFromCache</h4>
<pre>public&nbsp;boolean&nbsp;deleteFromCache(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                               <a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;key)</pre>
<div class="block">Deletes the file associated with the blob key in the local storage of the blob server.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html#deleteFromCache-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.TransientBlobKey-">deleteFromCache</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html" title="org.apache.flink.runtime.blob中的接口">TransientBlobService</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - ID of the job this blob belongs to</dd>
<dd><code>key</code> - blob key associated with the file to be deleted</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd><tt>true</tt> if the given blob is successfully deleted or non-existing;
          <tt>false</tt> otherwise</dd>
</dl>
</li>
</ul>
<a name="deleteInternal-org.apache.flink.api.common.JobID-org.apache.flink.runtime.blob.TransientBlobKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteInternal</h4>
<pre>boolean&nbsp;deleteInternal(@Nullable
                       <a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId,
                       <a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&nbsp;key)</pre>
<div class="block">Deletes the file associated with the blob key in the local storage of the blob server.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - ID of the job this blob belongs to (or <tt>null</tt> if job-unrelated)</dd>
<dd><code>key</code> - blob key associated with the file to be deleted</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd><tt>true</tt> if the given blob is successfully deleted or non-existing;
          <tt>false</tt> otherwise</dd>
</dl>
</li>
</ul>
<a name="cleanupJob-org.apache.flink.api.common.JobID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupJob</h4>
<pre>public&nbsp;boolean&nbsp;cleanupJob(<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>&nbsp;jobId)</pre>
<div class="block">Removes all BLOBs from local and HA store belonging to the given job ID.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>jobId</code> - ID of the job this blob belongs to</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd><tt>true</tt> if the job directory is successfully deleted or non-existing;
          <tt>false</tt> otherwise</dd>
</dl>
</li>
</ul>
<a name="getPermanentBlobService--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPermanentBlobService</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/PermanentBlobService.html" title="org.apache.flink.runtime.blob中的接口">PermanentBlobService</a>&nbsp;getPermanentBlobService()</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/BlobService.html#getPermanentBlobService--">BlobService</a></code></span></div>
<div class="block">Returns a BLOB service for accessing permanent BLOBs.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/BlobService.html#getPermanentBlobService--">getPermanentBlobService</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/BlobService.html" title="org.apache.flink.runtime.blob中的接口">BlobService</a></code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>BLOB service</dd>
</dl>
</li>
</ul>
<a name="getTransientBlobService--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransientBlobService</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobService.html" title="org.apache.flink.runtime.blob中的接口">TransientBlobService</a>&nbsp;getTransientBlobService()</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/BlobService.html#getTransientBlobService--">BlobService</a></code></span></div>
<div class="block">Returns a BLOB service for accessing transient BLOBs.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/BlobService.html#getTransientBlobService--">getTransientBlobService</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/BlobService.html" title="org.apache.flink.runtime.blob中的接口">BlobService</a></code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>BLOB service</dd>
</dl>
</li>
</ul>
<a name="getMinOffloadingSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinOffloadingSize</h4>
<pre>public final&nbsp;int&nbsp;getMinOffloadingSize()</pre>
<div class="block">Returns the configuration used by the BLOB server.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/BlobWriter.html#getMinOffloadingSize--">getMinOffloadingSize</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/BlobWriter.html" title="org.apache.flink.runtime.blob中的接口">BlobWriter</a></code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>configuration</dd>
</dl>
</li>
</ul>
<a name="getPort--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPort</h4>
<pre>public&nbsp;int&nbsp;getPort()</pre>
<div class="block">Returns the port on which the server is listening.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/blob/BlobService.html#getPort--">getPort</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/flink/runtime/blob/BlobService.html" title="org.apache.flink.runtime.blob中的接口">BlobService</a></code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>port on which the server is listening</dd>
</dl>
</li>
</ul>
<a name="getBlobExpiryTimes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlobExpiryTimes</h4>
<pre><a href="../../../../../org/apache/flink/annotation/VisibleForTesting.html" title="org.apache.flink.annotation中的注释">@VisibleForTesting</a>
java.util.concurrent.ConcurrentMap&lt;<a href="../../../../../org/apache/flink/api/java/tuple/Tuple2.html" title="org.apache.flink.api.java.tuple中的类">Tuple2</a>&lt;<a href="../../../../../org/apache/flink/api/common/JobID.html" title="org.apache.flink.api.common中的类">JobID</a>,<a href="../../../../../org/apache/flink/runtime/blob/TransientBlobKey.html" title="org.apache.flink.runtime.blob中的类">TransientBlobKey</a>&gt;,java.lang.Long&gt;&nbsp;getBlobExpiryTimes()</pre>
<div class="block">Returns the blob expiry times - for testing purposes only!</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>blob expiry times (internal state!)</dd>
</dl>
</li>
</ul>
<a name="isShutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isShutdown</h4>
<pre>public&nbsp;boolean&nbsp;isShutdown()</pre>
<div class="block">Tests whether the BLOB server has been requested to shut down.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>True, if the server has been requested to shut down, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="getServerSocket--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServerSocket</h4>
<pre>java.net.ServerSocket&nbsp;getServerSocket()</pre>
<div class="block">Access to the server socket, for testing.</div>
</li>
</ul>
<a name="unregisterConnection-org.apache.flink.runtime.blob.BlobServerConnection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregisterConnection</h4>
<pre>void&nbsp;unregisterConnection(<a href="../../../../../org/apache/flink/runtime/blob/BlobServerConnection.html" title="org.apache.flink.runtime.blob中的类">BlobServerConnection</a>&nbsp;conn)</pre>
</li>
</ul>
<a name="getCurrentActiveConnections--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCurrentActiveConnections</h4>
<pre>java.util.List&lt;<a href="../../../../../org/apache/flink/runtime/blob/BlobServerConnection.html" title="org.apache.flink.runtime.blob中的类">BlobServerConnection</a>&gt;&nbsp;getCurrentActiveConnections()</pre>
<div class="block">Returns all the current active connections in the BlobServer.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the list of all the active in current BlobServer</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/flink/runtime/blob/BlobKey.BlobType.html" title="org.apache.flink.runtime.blob中的枚举"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../org/apache/flink/runtime/blob/BlobServerConnection.html" title="org.apache.flink.runtime.blob中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/flink/runtime/blob/BlobServer.html" target="_top">框架</a></li>
<li><a href="BlobServer.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.lang.Thread">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
