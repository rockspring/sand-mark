<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_144) on Thu May 17 13:42:16 CST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>InPlaceMutableHashTable</title>
<meta name="date" content="2018-05-17">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InPlaceMutableHashTable";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/flink/runtime/operators/hash/InMemoryPartition.WriteView.html" title="org.apache.flink.runtime.operators.hash中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.EntryIterator.html" title="org.apache.flink.runtime.operators.hash中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" target="_top">框架</a></li>
<li><a href="InPlaceMutableHashTable.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.runtime.operators.hash</div>
<h2 title="类 InPlaceMutableHashTable" class="title">类 InPlaceMutableHashTable&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html" title="org.apache.flink.runtime.operators.hash中的类">org.apache.flink.runtime.operators.hash.AbstractMutableHashTable</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li>org.apache.flink.runtime.operators.hash.InPlaceMutableHashTable&lt;T&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">InPlaceMutableHashTable&lt;T&gt;</span>
extends <a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html" title="org.apache.flink.runtime.operators.hash中的类">AbstractMutableHashTable</a>&lt;T&gt;</pre>
<div class="block">This hash table supports updating elements. If the new element has the same size as the old element, then
 the update is done in-place. Otherwise a hole is created at the place of the old record, which will
 eventually be removed by a compaction.

 The memory is divided into three areas:
  - Bucket area: they contain bucket heads:
    an 8 byte pointer to the first link of a linked list in the record area
  - Record area: this contains the actual data in linked list elements. A linked list element starts
    with an 8 byte pointer to the next element, and then the record follows.
  - Staging area: This is a small, temporary storage area for writing updated records. This is needed,
    because before serializing a record, there is no way to know in advance how large will it be.
    Therefore, we can't serialize directly into the record area when we are doing an update, because
    if it turns out to be larger then the old record, then it would override some other record
    that happens to be after the old one in memory. The solution is to serialize to the staging area first,
    and then copy it to the place of the original if it has the same size, otherwise allocate a new linked
    list element at the end of the record area, and mark the old one as abandoned. This creates "holes" in
    the record area, so compactions are eventually needed.

 Compaction happens by deleting everything in the bucket area, and then reinserting all elements.
 The reinsertion happens by forgetting the structure (the linked lists) of the record area, and reading it
 sequentially, and inserting all non-abandoned records, starting from the beginning of the record area.
 Note, that insertions never override a record that hasn't been read by the reinsertion sweep, because
 both the insertions and readings happen sequentially in the record area, and the insertions obviously
 never overtake the reading sweep.

 Note: we have to abandon the old linked list element even when the updated record has a smaller size
 than the original, because otherwise we wouldn't know where the next record starts during a reinsertion
 sweep.

 The number of buckets depends on how large are the records. The serializer might be able to tell us this,
 so in this case, we will calculate the number of buckets upfront, and won't do resizes.
 If the serializer doesn't know the size, then we start with a small number of buckets, and do resizes as more
 elements are inserted than the number of buckets.

 The number of memory segments given to the staging area is usually one, because it just needs to hold
 one record.

 Note: For hashing, we couldn't just take the lower bits, but have to use a proper hash function from
 MathUtils because of its avalanche property, so that changing only some high bits of
 the original value won't leave the lower bits of the hash unaffected.
 This is because when choosing the bucket for a record, we mask only the
 lower bits (see numBucketsMask). Lots of collisions would occur when, for example,
 the original value that is hashed is some bitset, where lots of different values
 that are different only in the higher bits will actually occur.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.EntryIterator.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.EntryIterator</a></span></code>
<div class="block">WARNING: Doing any other operation on the table invalidates the iterator!</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.HashTableProber.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.HashTableProber</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.HashTableProber.html" title="InPlaceMutableHashTable.HashTableProber中的类型参数">PT</a>&gt;</span></code>
<div class="block">A prober for accessing the table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.RecordArea.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.RecordArea</a></span></code>
<div class="block">This class encapsulates the memory segments that belong to the record area.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.ReduceFacade.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.ReduceFacade</a></span></code>
<div class="block">A facade for doing such operations on the hash table that are needed for a reduce operator driver.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.StagingOutputView.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.StagingOutputView</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#bucketSegments">bucketSegments</a></span></code>
<div class="block">These will contain the bucket heads.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#bucketSize">bucketSize</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#bucketSizeBits">bucketSizeBits</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#enableResize">enableResize</a></span></code>
<div class="block">If the serializer knows the size of the records, then we can calculate the optimal number of buckets
 upfront, so we don't need resizes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#END_OF_LIST">END_OF_LIST</a></span></code>
<div class="block">The last link in the linked lists will have this as next pointer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.ArrayList&lt;<a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#freeMemorySegments">freeMemorySegments</a></span></code>
<div class="block">This initially contains all the memory we have, and then segments
 are taken from it by bucketSegments, recordArea, and stagingSegments.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#holes">holes</a></span></code>
<div class="block">The number of bytes wasted by updates that couldn't overwrite the old record due to size change.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#INVALID_PREV_POINTER">INVALID_PREV_POINTER</a></span></code>
<div class="block">This value means that prevElemPtr is "pointing to the bucket head", and not into the record segments.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#LOG">LOG</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#MIN_NUM_MEMORY_SEGMENTS">MIN_NUM_MEMORY_SEGMENTS</a></span></code>
<div class="block">The minimum number of memory segments InPlaceMutableHashTable needs to be supplied with in order to work.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#numAllMemorySegments">numAllMemorySegments</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#numBuckets">numBuckets</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#numBucketsMask">numBucketsMask</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#numBucketsPerSegment">numBucketsPerSegment</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#numBucketsPerSegmentBits">numBucketsPerSegmentBits</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#numBucketsPerSegmentMask">numBucketsPerSegmentMask</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#numElements">numElements</a></span></code>
<div class="block">The number of elements currently held by the table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.HashTableProber.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.HashTableProber</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#prober">prober</a></span></code>
<div class="block">This is the internal prober that insertOrReplaceRecord uses.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#RECORD_OFFSET_IN_LINK">RECORD_OFFSET_IN_LINK</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.RecordArea.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.RecordArea</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#recordArea">recordArea</a></span></code>
<div class="block">The segments where the actual data is stored.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#reuse">reuse</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#segmentSize">segmentSize</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.ArrayList&lt;<a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#stagingSegments">stagingSegments</a></span></code>
<div class="block">Segments for the staging area.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/runtime/io/disk/RandomAccessInputView.html" title="org.apache.flink.runtime.io.disk中的类">RandomAccessInputView</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#stagingSegmentsInView">stagingSegmentsInView</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.StagingOutputView.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.StagingOutputView</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#stagingSegmentsOutView">stagingSegmentsOutView</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.flink.runtime.operators.hash.AbstractMutableHashTable">
<!--   -->
</a>
<h3>从类继承的字段&nbsp;org.apache.flink.runtime.operators.hash.<a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html" title="org.apache.flink.runtime.operators.hash中的类">AbstractMutableHashTable</a></h3>
<code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#buildSideComparator">buildSideComparator</a>, <a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#buildSideSerializer">buildSideSerializer</a>, <a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#closed">closed</a>, <a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#stateLock">stateLock</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#InPlaceMutableHashTable-org.apache.flink.api.common.typeutils.TypeSerializer-org.apache.flink.api.common.typeutils.TypeComparator-java.util.List-">InPlaceMutableHashTable</a></span>(<a href="../../../../../../org/apache/flink/api/common/typeutils/TypeSerializer.html" title="org.apache.flink.api.common.typeutils中的类">TypeSerializer</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;&nbsp;serializer,
                       <a href="../../../../../../org/apache/flink/api/common/typeutils/TypeComparator.html" title="org.apache.flink.api.common.typeutils中的类">TypeComparator</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;&nbsp;comparator,
                       java.util.List&lt;<a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a>&gt;&nbsp;memory)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#abort--">abort</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#allocateBucketSegments-int-">allocateBucketSegments</a></span>(int&nbsp;numBucketSegments)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#allocateSegment--">allocateSegment</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#calcInitialNumBucketSegments--">calcInitialNumBucketSegments</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#close--">close</a></span>()</code>
<div class="block">Closes the hash table.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#compactOrThrow--">compactOrThrow</a></span>()</code>
<div class="block">If there is wasted space (due to updated records not fitting in their old places), then do a compaction.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#forcedAllocateSegment--">forcedAllocateSegment</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#getCapacity--">getCapacity</a></span>()</code>
<div class="block">Gets the total capacity of this hash table, in bytes.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.EntryIterator.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.EntryIterator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#getEntryIterator--">getEntryIterator</a></span>()</code>
<div class="block">Returns an iterator that can be used to iterate over all the elements in the table.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#getFreeMemory--">getFreeMemory</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#getMemoryConsumptionString--">getMemoryConsumptionString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#getOccupancy--">getOccupancy</a></span>()</code>
<div class="block">Gets the number of bytes currently occupied in this hash table.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>&lt;PT&gt;&nbsp;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.HashTableProber.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.HashTableProber</a>&lt;PT&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#getProber-org.apache.flink.api.common.typeutils.TypeComparator-org.apache.flink.api.common.typeutils.TypePairComparator-">getProber</a></span>(<a href="../../../../../../org/apache/flink/api/common/typeutils/TypeComparator.html" title="org.apache.flink.api.common.typeutils中的类">TypeComparator</a>&lt;PT&gt;&nbsp;probeTypeComparator,
         <a href="../../../../../../org/apache/flink/api/common/typeutils/TypePairComparator.html" title="org.apache.flink.api.common.typeutils中的类">TypePairComparator</a>&lt;PT,<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;&nbsp;pairComparator)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#insert-T-">insert</a></span>(<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&nbsp;record)</code>
<div class="block">Inserts the given record into the hash table.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#insertOrReplaceRecord-T-">insertOrReplaceRecord</a></span>(<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&nbsp;record)</code>
<div class="block">Searches the hash table for a record with the given key.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#open--">open</a></span>()</code>
<div class="block">Initialize the hash table</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#open-int-">open</a></span>(int&nbsp;numBucketSegments)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#rebuild--">rebuild</a></span>()</code>
<div class="block">This function reinitializes the bucket segments,
 reads all records from the record segments (sequentially, without using the pointers or the buckets),
 and rebuilds the hash table.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#rebuild-long-">rebuild</a></span>(long&nbsp;newNumBucketSegments)</code>
<div class="block">Same as above, but the number of bucket segments of the new table can be specified.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#releaseBucketSegments--">releaseBucketSegments</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html#resizeTableIfNecessary--">resizeTableIfNecessary</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.flink.runtime.operators.hash.AbstractMutableHashTable">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.apache.flink.runtime.operators.hash.<a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html" title="org.apache.flink.runtime.operators.hash中的类">AbstractMutableHashTable</a></h3>
<code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#getBuildSideComparator--">getBuildSideComparator</a>, <a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#getBuildSideSerializer--">getBuildSideSerializer</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>private static final&nbsp;org.slf4j.Logger LOG</pre>
</li>
</ul>
<a name="MIN_NUM_MEMORY_SEGMENTS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MIN_NUM_MEMORY_SEGMENTS</h4>
<pre>private static final&nbsp;int MIN_NUM_MEMORY_SEGMENTS</pre>
<div class="block">The minimum number of memory segments InPlaceMutableHashTable needs to be supplied with in order to work.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.runtime.operators.hash.InPlaceMutableHashTable.MIN_NUM_MEMORY_SEGMENTS">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="END_OF_LIST">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>END_OF_LIST</h4>
<pre>private static final&nbsp;long END_OF_LIST</pre>
<div class="block">The last link in the linked lists will have this as next pointer.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.runtime.operators.hash.InPlaceMutableHashTable.END_OF_LIST">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="INVALID_PREV_POINTER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INVALID_PREV_POINTER</h4>
<pre>private static final&nbsp;long INVALID_PREV_POINTER</pre>
<div class="block">This value means that prevElemPtr is "pointing to the bucket head", and not into the record segments.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.runtime.operators.hash.InPlaceMutableHashTable.INVALID_PREV_POINTER">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="RECORD_OFFSET_IN_LINK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RECORD_OFFSET_IN_LINK</h4>
<pre>private static final&nbsp;long RECORD_OFFSET_IN_LINK</pre>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.runtime.operators.hash.InPlaceMutableHashTable.RECORD_OFFSET_IN_LINK">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="freeMemorySegments">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeMemorySegments</h4>
<pre>private final&nbsp;java.util.ArrayList&lt;<a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a>&gt; freeMemorySegments</pre>
<div class="block">This initially contains all the memory we have, and then segments
 are taken from it by bucketSegments, recordArea, and stagingSegments.</div>
</li>
</ul>
<a name="numAllMemorySegments">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numAllMemorySegments</h4>
<pre>private final&nbsp;int numAllMemorySegments</pre>
</li>
</ul>
<a name="segmentSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>segmentSize</h4>
<pre>private final&nbsp;int segmentSize</pre>
</li>
</ul>
<a name="bucketSegments">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bucketSegments</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a>[] bucketSegments</pre>
<div class="block">These will contain the bucket heads.
 The bucket heads are pointers to the linked lists containing the actual records.</div>
</li>
</ul>
<a name="bucketSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bucketSize</h4>
<pre>private static final&nbsp;int bucketSize</pre>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.runtime.operators.hash.InPlaceMutableHashTable.bucketSize">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="bucketSizeBits">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bucketSizeBits</h4>
<pre>private static final&nbsp;int bucketSizeBits</pre>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.flink.runtime.operators.hash.InPlaceMutableHashTable.bucketSizeBits">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="numBuckets">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numBuckets</h4>
<pre>private&nbsp;int numBuckets</pre>
</li>
</ul>
<a name="numBucketsMask">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numBucketsMask</h4>
<pre>private&nbsp;int numBucketsMask</pre>
</li>
</ul>
<a name="numBucketsPerSegment">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numBucketsPerSegment</h4>
<pre>private final&nbsp;int numBucketsPerSegment</pre>
</li>
</ul>
<a name="numBucketsPerSegmentBits">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numBucketsPerSegmentBits</h4>
<pre>private final&nbsp;int numBucketsPerSegmentBits</pre>
</li>
</ul>
<a name="numBucketsPerSegmentMask">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numBucketsPerSegmentMask</h4>
<pre>private final&nbsp;int numBucketsPerSegmentMask</pre>
</li>
</ul>
<a name="recordArea">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordArea</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.RecordArea.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.RecordArea</a> recordArea</pre>
<div class="block">The segments where the actual data is stored.</div>
</li>
</ul>
<a name="stagingSegments">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stagingSegments</h4>
<pre>private final&nbsp;java.util.ArrayList&lt;<a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a>&gt; stagingSegments</pre>
<div class="block">Segments for the staging area.
 (It should contain at most one record at all times.)</div>
</li>
</ul>
<a name="stagingSegmentsInView">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stagingSegmentsInView</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/flink/runtime/io/disk/RandomAccessInputView.html" title="org.apache.flink.runtime.io.disk中的类">RandomAccessInputView</a> stagingSegmentsInView</pre>
</li>
</ul>
<a name="stagingSegmentsOutView">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stagingSegmentsOutView</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.StagingOutputView.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.StagingOutputView</a> stagingSegmentsOutView</pre>
</li>
</ul>
<a name="reuse">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reuse</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a> reuse</pre>
</li>
</ul>
<a name="prober">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prober</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.HashTableProber.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.HashTableProber</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt; prober</pre>
<div class="block">This is the internal prober that insertOrReplaceRecord uses.</div>
</li>
</ul>
<a name="numElements">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numElements</h4>
<pre>private&nbsp;long numElements</pre>
<div class="block">The number of elements currently held by the table.</div>
</li>
</ul>
<a name="holes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>holes</h4>
<pre>private&nbsp;long holes</pre>
<div class="block">The number of bytes wasted by updates that couldn't overwrite the old record due to size change.</div>
</li>
</ul>
<a name="enableResize">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>enableResize</h4>
<pre>private&nbsp;boolean enableResize</pre>
<div class="block">If the serializer knows the size of the records, then we can calculate the optimal number of buckets
 upfront, so we don't need resizes.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="InPlaceMutableHashTable-org.apache.flink.api.common.typeutils.TypeSerializer-org.apache.flink.api.common.typeutils.TypeComparator-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InPlaceMutableHashTable</h4>
<pre>public&nbsp;InPlaceMutableHashTable(<a href="../../../../../../org/apache/flink/api/common/typeutils/TypeSerializer.html" title="org.apache.flink.api.common.typeutils中的类">TypeSerializer</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;&nbsp;serializer,
                               <a href="../../../../../../org/apache/flink/api/common/typeutils/TypeComparator.html" title="org.apache.flink.api.common.typeutils中的类">TypeComparator</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;&nbsp;comparator,
                               java.util.List&lt;<a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a>&gt;&nbsp;memory)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getCapacity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCapacity</h4>
<pre>public&nbsp;long&nbsp;getCapacity()</pre>
<div class="block">Gets the total capacity of this hash table, in bytes.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>The hash table's total capacity.</dd>
</dl>
</li>
</ul>
<a name="getOccupancy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOccupancy</h4>
<pre>public&nbsp;long&nbsp;getOccupancy()</pre>
<div class="block">Gets the number of bytes currently occupied in this hash table.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>The number of bytes occupied.</dd>
</dl>
</li>
</ul>
<a name="open-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>private&nbsp;void&nbsp;open(int&nbsp;numBucketSegments)</pre>
</li>
</ul>
<a name="open--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public&nbsp;void&nbsp;open()</pre>
<div class="block">Initialize the hash table</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#open--">open</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html" title="org.apache.flink.runtime.operators.hash中的类">AbstractMutableHashTable</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#close--">AbstractMutableHashTable</a></code></span></div>
<div class="block">Closes the hash table. This effectively releases all internal structures and closes all
 open files and removes them. The call to this method is valid both as a cleanup after the
 complete inputs were properly processed, and as a cancellation call, which cleans up
 all resources that are currently held by the hash table. If another process still accesses the hash
 table after close has been called, no operations will be performed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#close--">close</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html" title="org.apache.flink.runtime.operators.hash中的类">AbstractMutableHashTable</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="abort--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abort</h4>
<pre>public&nbsp;void&nbsp;abort()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#abort--">abort</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html" title="org.apache.flink.runtime.operators.hash中的类">AbstractMutableHashTable</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="getFreeMemory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFreeMemory</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a>&gt;&nbsp;getFreeMemory()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#getFreeMemory--">getFreeMemory</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html" title="org.apache.flink.runtime.operators.hash中的类">AbstractMutableHashTable</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="calcInitialNumBucketSegments--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcInitialNumBucketSegments</h4>
<pre>private&nbsp;int&nbsp;calcInitialNumBucketSegments()</pre>
</li>
</ul>
<a name="allocateBucketSegments-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocateBucketSegments</h4>
<pre>private&nbsp;void&nbsp;allocateBucketSegments(int&nbsp;numBucketSegments)</pre>
</li>
</ul>
<a name="releaseBucketSegments--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseBucketSegments</h4>
<pre>private&nbsp;void&nbsp;releaseBucketSegments()</pre>
</li>
</ul>
<a name="allocateSegment--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocateSegment</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a>&nbsp;allocateSegment()</pre>
</li>
</ul>
<a name="forcedAllocateSegment--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forcedAllocateSegment</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/flink/core/memory/MemorySegment.html" title="org.apache.flink.core.memory中的类">MemorySegment</a>&nbsp;forcedAllocateSegment()</pre>
</li>
</ul>
<a name="insertOrReplaceRecord-java.lang.Object-">
<!--   -->
</a><a name="insertOrReplaceRecord-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertOrReplaceRecord</h4>
<pre>public&nbsp;void&nbsp;insertOrReplaceRecord(<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&nbsp;record)
                           throws java.io.IOException</pre>
<div class="block">Searches the hash table for a record with the given key.
 If it is found, then it is overridden with the specified record.
 Otherwise, the specified record is inserted.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#insertOrReplaceRecord-T-">insertOrReplaceRecord</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html" title="org.apache.flink.runtime.operators.hash中的类">AbstractMutableHashTable</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>record</code> - The record to insert or to replace with.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - (EOFException specifically, if memory ran out)</dd>
</dl>
</li>
</ul>
<a name="insert-java.lang.Object-">
<!--   -->
</a><a name="insert-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>public&nbsp;void&nbsp;insert(<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&nbsp;record)
            throws java.io.IOException</pre>
<div class="block">Inserts the given record into the hash table.
 Note: this method doesn't care about whether a record with the same key is already present.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#insert-T-">insert</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html" title="org.apache.flink.runtime.operators.hash中的类">AbstractMutableHashTable</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>record</code> - The record to insert.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - (EOFException specifically, if memory ran out)</dd>
</dl>
</li>
</ul>
<a name="resizeTableIfNecessary--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resizeTableIfNecessary</h4>
<pre>private&nbsp;void&nbsp;resizeTableIfNecessary()
                             throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="getEntryIterator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEntryIterator</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.EntryIterator.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.EntryIterator</a>&nbsp;getEntryIterator()</pre>
<div class="block">Returns an iterator that can be used to iterate over all the elements in the table.
 WARNING: Doing any other operation on the table invalidates the iterator! (Even
 using getMatchFor of a prober!)</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#getEntryIterator--">getEntryIterator</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html" title="org.apache.flink.runtime.operators.hash中的类">AbstractMutableHashTable</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the iterator</dd>
</dl>
</li>
</ul>
<a name="getProber-org.apache.flink.api.common.typeutils.TypeComparator-org.apache.flink.api.common.typeutils.TypePairComparator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProber</h4>
<pre>public&nbsp;&lt;PT&gt;&nbsp;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.HashTableProber.html" title="org.apache.flink.runtime.operators.hash中的类">InPlaceMutableHashTable.HashTableProber</a>&lt;PT&gt;&nbsp;getProber(<a href="../../../../../../org/apache/flink/api/common/typeutils/TypeComparator.html" title="org.apache.flink.api.common.typeutils中的类">TypeComparator</a>&lt;PT&gt;&nbsp;probeTypeComparator,
                                                                  <a href="../../../../../../org/apache/flink/api/common/typeutils/TypePairComparator.html" title="org.apache.flink.api.common.typeutils中的类">TypePairComparator</a>&lt;PT,<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;&nbsp;pairComparator)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html#getProber-org.apache.flink.api.common.typeutils.TypeComparator-org.apache.flink.api.common.typeutils.TypePairComparator-">getProber</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../org/apache/flink/runtime/operators/hash/AbstractMutableHashTable.html" title="org.apache.flink.runtime.operators.hash中的类">AbstractMutableHashTable</a>&lt;<a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" title="InPlaceMutableHashTable中的类型参数">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="rebuild--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rebuild</h4>
<pre>private&nbsp;void&nbsp;rebuild()
              throws java.io.IOException</pre>
<div class="block">This function reinitializes the bucket segments,
 reads all records from the record segments (sequentially, without using the pointers or the buckets),
 and rebuilds the hash table.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="rebuild-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rebuild</h4>
<pre>private&nbsp;void&nbsp;rebuild(long&nbsp;newNumBucketSegments)
              throws java.io.IOException</pre>
<div class="block">Same as above, but the number of bucket segments of the new table can be specified.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="compactOrThrow--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compactOrThrow</h4>
<pre>private&nbsp;void&nbsp;compactOrThrow()
                     throws java.io.IOException</pre>
<div class="block">If there is wasted space (due to updated records not fitting in their old places), then do a compaction.
 Else, throw EOFException to indicate that memory ran out.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="getMemoryConsumptionString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMemoryConsumptionString</h4>
<pre>private&nbsp;java.lang.String&nbsp;getMemoryConsumptionString()</pre>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>String containing a summary of the memory consumption for error messages</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/flink/runtime/operators/hash/InMemoryPartition.WriteView.html" title="org.apache.flink.runtime.operators.hash中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.EntryIterator.html" title="org.apache.flink.runtime.operators.hash中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/flink/runtime/operators/hash/InPlaceMutableHashTable.html" target="_top">框架</a></li>
<li><a href="InPlaceMutableHashTable.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
