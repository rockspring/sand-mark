<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_144) on Thu May 17 13:42:31 CST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AbstractPartitionDiscoverer</title>
<meta name="date" content="2018-05-17">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AbstractPartitionDiscoverer";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":6,"i2":10,"i3":6,"i4":6,"i5":6,"i6":10,"i7":10,"i8":10,"i9":10,"i10":6};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],4:["t3","抽象方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.PeriodicWatermarkEmitter.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.ClosedException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html" target="_top">框架</a></li>
<li><a href="AbstractPartitionDiscoverer.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.streaming.connectors.kafka.internals</div>
<h2 title="类 AbstractPartitionDiscoverer" class="title">类 AbstractPartitionDiscoverer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.flink.streaming.connectors.kafka.internals.AbstractPartitionDiscoverer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>直接已知子类:</dt>
<dd><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/Kafka08PartitionDiscoverer.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">Kafka08PartitionDiscoverer</a>, <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internal/Kafka09PartitionDiscoverer.html" title="org.apache.flink.streaming.connectors.kafka.internal中的类">Kafka09PartitionDiscoverer</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">AbstractPartitionDiscoverer</span>
extends java.lang.Object</pre>
<div class="block">Base class for all partition discoverers.

 <p>This partition discoverer base class implements the logic around bookkeeping
 discovered partitions, and using the information to determine whether or not there
 are new partitions that the consumer subtask should subscribe to.

 <p>Subclass implementations should simply implement the logic of using the version-specific
 Kafka clients to fetch topic and partition metadata.

 <p>Since Kafka clients are generally not thread-safe, partition discoverers should
 not be concurrently accessed. The only exception for this would be the <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#wakeup--"><code>wakeup()</code></a>
 call, which allows the discoverer to be interrupted during a <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#discoverPartitions--"><code>discoverPartitions()</code></a> call.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.ClosedException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">AbstractPartitionDiscoverer.ClosedException</a></span></code>
<div class="block">Thrown if this discoverer was used to discover partitions after it was closed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.WakeupException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">AbstractPartitionDiscoverer.WakeupException</a></span></code>
<div class="block">Signaling exception to indicate that an actual Kafka call was interrupted.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#closed">closed</a></span></code>
<div class="block">Flag to determine whether or not the discoverer is closed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Set&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#discoveredPartitions">discoveredPartitions</a></span></code>
<div class="block">Map of topics to they're largest discovered partition id seen by this subtask.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#indexOfThisSubtask">indexOfThisSubtask</a></span></code>
<div class="block">Index of the consumer subtask that this partition discoverer belongs to.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#numParallelSubtasks">numParallelSubtasks</a></span></code>
<div class="block">The total number of consumer subtasks.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicsDescriptor.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicsDescriptor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#topicsDescriptor">topicsDescriptor</a></span></code>
<div class="block">Describes whether we are discovering partitions for fixed topics or a topic pattern.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#wakeup">wakeup</a></span></code>
<div class="block">Flag to determine whether or not the discoverer had been woken up.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#AbstractPartitionDiscoverer-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicsDescriptor-int-int-">AbstractPartitionDiscoverer</a></span>(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicsDescriptor.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicsDescriptor</a>&nbsp;topicsDescriptor,
                           int&nbsp;indexOfThisSubtask,
                           int&nbsp;numParallelSubtasks)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">抽象方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#close--">close</a></span>()</code>
<div class="block">Closes the partition discoverer, cleaning up all Kafka connections.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#closeConnections--">closeConnections</a></span>()</code>
<div class="block">Close all established connections.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#discoverPartitions--">discoverPartitions</a></span>()</code>
<div class="block">Execute a partition discovery attempt for this subtask.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected abstract java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#getAllPartitionsForTopics-java.util.List-">getAllPartitionsForTopics</a></span>(java.util.List&lt;java.lang.String&gt;&nbsp;topics)</code>
<div class="block">Fetch the list of all partitions for a specific topics list from Kafka.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected abstract java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#getAllTopics--">getAllTopics</a></span>()</code>
<div class="block">Fetch the list of all topics from Kafka.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#initializeConnections--">initializeConnections</a></span>()</code>
<div class="block">Establish the required connections in order to fetch topics and partitions metadata.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#isUndiscoveredPartition-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartition-">isUndiscoveredPartition</a></span>(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&nbsp;partition)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#open--">open</a></span>()</code>
<div class="block">Opens the partition discoverer, initializing all required Kafka connections.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#setAndCheckDiscoveredPartition-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartition-">setAndCheckDiscoveredPartition</a></span>(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&nbsp;partition)</code>
<div class="block">Sets a partition as discovered.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#wakeup--">wakeup</a></span>()</code>
<div class="block">Interrupt an in-progress discovery attempt by throwing a <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.WakeupException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类"><code>AbstractPartitionDiscoverer.WakeupException</code></a>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#wakeupConnections--">wakeupConnections</a></span>()</code>
<div class="block">Attempt to eagerly wakeup from blocking calls to Kafka in <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#getAllTopics--"><code>getAllTopics()</code></a>
 and <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#getAllPartitionsForTopics-java.util.List-"><code>getAllPartitionsForTopics(List)</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="topicsDescriptor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>topicsDescriptor</h4>
<pre>private final&nbsp;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicsDescriptor.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicsDescriptor</a> topicsDescriptor</pre>
<div class="block">Describes whether we are discovering partitions for fixed topics or a topic pattern.</div>
</li>
</ul>
<a name="indexOfThisSubtask">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexOfThisSubtask</h4>
<pre>private final&nbsp;int indexOfThisSubtask</pre>
<div class="block">Index of the consumer subtask that this partition discoverer belongs to.</div>
</li>
</ul>
<a name="numParallelSubtasks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numParallelSubtasks</h4>
<pre>private final&nbsp;int numParallelSubtasks</pre>
<div class="block">The total number of consumer subtasks.</div>
</li>
</ul>
<a name="closed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closed</h4>
<pre>private volatile&nbsp;boolean closed</pre>
<div class="block">Flag to determine whether or not the discoverer is closed.</div>
</li>
</ul>
<a name="wakeup">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wakeup</h4>
<pre>private volatile&nbsp;boolean wakeup</pre>
<div class="block">Flag to determine whether or not the discoverer had been woken up.
 When set to <code>true</code>, <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#discoverPartitions--"><code>discoverPartitions()</code></a> would be interrupted as early as possible.
 Once interrupted, the flag is reset.</div>
</li>
</ul>
<a name="discoveredPartitions">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>discoveredPartitions</h4>
<pre>private&nbsp;java.util.Set&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&gt; discoveredPartitions</pre>
<div class="block">Map of topics to they're largest discovered partition id seen by this subtask.
 This state may be updated whenever <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#discoverPartitions--"><code>discoverPartitions()</code></a> or
 <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#setAndCheckDiscoveredPartition-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartition-"><code>setAndCheckDiscoveredPartition(KafkaTopicPartition)</code></a> is called.

 <p>This is used to remove old partitions from the fetched partition lists. It is sufficient
 to keep track of only the largest partition id because Kafka partition numbers are only
 allowed to be increased and has incremental ids.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="AbstractPartitionDiscoverer-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicsDescriptor-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractPartitionDiscoverer</h4>
<pre>public&nbsp;AbstractPartitionDiscoverer(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicsDescriptor.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicsDescriptor</a>&nbsp;topicsDescriptor,
                                   int&nbsp;indexOfThisSubtask,
                                   int&nbsp;numParallelSubtasks)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="open--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public&nbsp;void&nbsp;open()
          throws java.lang.Exception</pre>
<div class="block">Opens the partition discoverer, initializing all required Kafka connections.

 <p>NOTE: thread-safety is not guaranteed.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.lang.Exception</pre>
<div class="block">Closes the partition discoverer, cleaning up all Kafka connections.

 <p>NOTE: thread-safety is not guaranteed.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="wakeup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wakeup</h4>
<pre>public&nbsp;void&nbsp;wakeup()</pre>
<div class="block">Interrupt an in-progress discovery attempt by throwing a <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.WakeupException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类"><code>AbstractPartitionDiscoverer.WakeupException</code></a>.
 If no attempt is in progress, the immediate next attempt will throw a <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.WakeupException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类"><code>AbstractPartitionDiscoverer.WakeupException</code></a>.

 <p>This method can be called concurrently from a different thread.</div>
</li>
</ul>
<a name="discoverPartitions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discoverPartitions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&gt;&nbsp;discoverPartitions()
                                                       throws <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.WakeupException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">AbstractPartitionDiscoverer.WakeupException</a>,
                                                              <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.ClosedException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">AbstractPartitionDiscoverer.ClosedException</a></pre>
<div class="block">Execute a partition discovery attempt for this subtask.
 This method lets the partition discoverer update what partitions it has discovered so far.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>List of discovered new partitions that this subtask should subscribe to.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.WakeupException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">AbstractPartitionDiscoverer.WakeupException</a></code></dd>
<dd><code><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.ClosedException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">AbstractPartitionDiscoverer.ClosedException</a></code></dd>
</dl>
</li>
</ul>
<a name="setAndCheckDiscoveredPartition-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartition-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAndCheckDiscoveredPartition</h4>
<pre>public&nbsp;boolean&nbsp;setAndCheckDiscoveredPartition(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&nbsp;partition)</pre>
<div class="block">Sets a partition as discovered. Partitions are considered as new
 if its partition id is larger than all partition ids previously
 seen for the topic it belongs to. Therefore, for a set of
 discovered partitions, the order that this method is invoked with
 each partition is important.

 <p>If the partition is indeed newly discovered, this method also returns
 whether the new partition should be subscribed by this subtask.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>partition</code> - the partition to set and check</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd><code>true</code>, if the partition wasn't seen before and should
         be subscribed by this subtask; <code>false</code> otherwise</dd>
</dl>
</li>
</ul>
<a name="initializeConnections--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeConnections</h4>
<pre>protected abstract&nbsp;void&nbsp;initializeConnections()
                                       throws java.lang.Exception</pre>
<div class="block">Establish the required connections in order to fetch topics and partitions metadata.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="wakeupConnections--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wakeupConnections</h4>
<pre>protected abstract&nbsp;void&nbsp;wakeupConnections()</pre>
<div class="block">Attempt to eagerly wakeup from blocking calls to Kafka in <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#getAllTopics--"><code>getAllTopics()</code></a>
 and <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#getAllPartitionsForTopics-java.util.List-"><code>getAllPartitionsForTopics(List)</code></a>.

 <p>If the invocation indeed results in interrupting an actual blocking Kafka call, the implementations
 of <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#getAllTopics--"><code>getAllTopics()</code></a> and
 <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html#getAllPartitionsForTopics-java.util.List-"><code>getAllPartitionsForTopics(List)</code></a> are responsible of throwing a
 <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.WakeupException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类"><code>AbstractPartitionDiscoverer.WakeupException</code></a>.</div>
</li>
</ul>
<a name="closeConnections--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeConnections</h4>
<pre>protected abstract&nbsp;void&nbsp;closeConnections()
                                  throws java.lang.Exception</pre>
<div class="block">Close all established connections.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="getAllTopics--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllTopics</h4>
<pre>protected abstract&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getAllTopics()
                                                          throws <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.WakeupException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">AbstractPartitionDiscoverer.WakeupException</a></pre>
<div class="block">Fetch the list of all topics from Kafka.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.WakeupException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">AbstractPartitionDiscoverer.WakeupException</a></code></dd>
</dl>
</li>
</ul>
<a name="getAllPartitionsForTopics-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllPartitionsForTopics</h4>
<pre>protected abstract&nbsp;java.util.List&lt;<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&gt;&nbsp;getAllPartitionsForTopics(java.util.List&lt;java.lang.String&gt;&nbsp;topics)
                                                                          throws <a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.WakeupException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">AbstractPartitionDiscoverer.WakeupException</a></pre>
<div class="block">Fetch the list of all partitions for a specific topics list from Kafka.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.WakeupException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">AbstractPartitionDiscoverer.WakeupException</a></code></dd>
</dl>
</li>
</ul>
<a name="isUndiscoveredPartition-org.apache.flink.streaming.connectors.kafka.internals.KafkaTopicPartition-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isUndiscoveredPartition</h4>
<pre>private&nbsp;boolean&nbsp;isUndiscoveredPartition(<a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/KafkaTopicPartition.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类">KafkaTopicPartition</a>&nbsp;partition)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractFetcher.PeriodicWatermarkEmitter.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../../org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.ClosedException.html" title="org.apache.flink.streaming.connectors.kafka.internals中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/flink/streaming/connectors/kafka/internals/AbstractPartitionDiscoverer.html" target="_top">框架</a></li>
<li><a href="AbstractPartitionDiscoverer.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
