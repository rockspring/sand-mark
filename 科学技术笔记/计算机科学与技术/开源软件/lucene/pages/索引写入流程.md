索引写入流程


"main@1" prio=5 tid=0x1 nid=NA runnable
  java.lang.Thread.State: RUNNABLE
	  at org.apache.lucene.store.OutputStreamIndexOutput.writeByte(OutputStreamIndexOutput.java:47)
	  at org.apache.lucene.store.DataOutput.writeInt(DataOutput.java:70)
	  at org.apache.lucene.store.DataOutput.writeLong(DataOutput.java:212)
	  at org.apache.lucene.codecs.lucene53.Lucene53NormsConsumer.addConstant(Lucene53NormsConsumer.java:93)
	  at org.apache.lucene.codecs.lucene53.Lucene53NormsConsumer.addNormsField(Lucene53NormsConsumer.java:79)
	  at org.apache.lucene.index.NormValuesWriter.flush(NormValuesWriter.java:72)
	  at org.apache.lucene.index.DefaultIndexingChain.writeNorms(DefaultIndexingChain.java:277)
	  at org.apache.lucene.index.DefaultIndexingChain.flush(DefaultIndexingChain.java:95)
	  at org.apache.lucene.index.DocumentsWriterPerThread.flush(DocumentsWriterPerThread.java:443)
	  at org.apache.lucene.index.DocumentsWriter.doFlush(DocumentsWriter.java:539)
	  at org.apache.lucene.index.DocumentsWriter.flushAllThreads(DocumentsWriter.java:653)
	  at org.apache.lucene.index.IndexWriter.doFlush(IndexWriter.java:3364)
	  - locked <0x5e1> (a java.lang.Object)
	  at org.apache.lucene.index.IndexWriter.flush(IndexWriter.java:3333)
	  at org.apache.lucene.index.IndexWriter.shutdown(IndexWriter.java:1117)
	  at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1162)
	  at io.swimmingsand.study.IndexingBoost.main(IndexingBoost.java:99)