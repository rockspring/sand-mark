# Approximate Nearest Neighbor Search on High Dimensional Data --- Experiments, Analyses, and Improvement (v1.0)

# 摘要

近似最邻近搜索（ANNS，approximate nearest neighbor search）是应用到很多领域，如数据库、机器学习、多媒体、计算机视觉的基本的和必可不少的操作。在这些领域中，尽管在文献中我们看到有很多算法被不断提出，对这些算法的性能没有一个非常全面的评估和分析。

在这篇文章中，我们对很多用于近似最邻近搜索的最先进方法进行一个全面的实验评估。

1）我们的研究是跨学科的，包括不同领域中的16算法，这些算法由各学科的专门人才发明。

2）对各种各样的设置进行了评估，包括20个数据集，几种评估度量，不同的查询工作负载。

为了明白性能结果，对实验结果进行了仔细的分析和报告。本文中，我们也进一步提出了一个新方法，在各种设置下在大多数数据集上同时有高效的查询性能和高召回率。

## 导论

## 1.1 动机

### 1 覆盖来自各领域的竞争算法和数据集

由实践者提出的用于音乐推荐系统的一个方法如下：

E. Bernhardsson. Annoy at github https://github.com/spotify/annoy, 2015.

来自各领域的重要算法被忽视及不被对比是很常见的。

来自机器学习的方法：

M. E. Houle and M. Nett. Rank-based similarity search: Reducing the dimensional dependence. IEEE TPAMI, 37(1):136–150, 2015.

来自多媒体的方法：

H. J´egou, M. Douze, and C. Schmid. Product quantization for nearest neighbor search. IEEE Trans. Pattern Anal. Mach. Intell., 33(1):117–128, 2011.

T. Ge, K. He, Q. Ke, and J. Sun. Optimized product quantization. IEEE Trans. Pattern Anal. Mach. Intell., 36(4):744–755, 2014.

来自数据库的方法：

Y. Sun, W. Wang, J. Qin, Y. Zhang, and X. Lin. SRS: solving c-approximate nearest neighbor queries in high dimensional euclidean space with a tiny index. PVLDB, 8(1):1–12, 2014.

来自实践者的方法：

K. Aoyama, K. Saito, H. Sawada, and N. Ueda. Fast approximate similarity search based on degree-reduced neighborhood graphs. In SIGKDD, 2011.

### 2 被忽视的评估测量法及评估实验设置

1）搜索时间复杂度

2）搜索质量

3）索引大小

4）分别对搜索结果集大小和维度大小的扩展性

5）应对数据集、查询负载、参数设置的变化时的健壮性

6）是否可以更新

7）调参数的复杂度

### 3 已存在实验结果的矛盾之处

## 1.2 本文贡献

1，对几个研究领域的顶尖ANNS算法进行了全面的实验研究。

2，我们将算法分成几类

## 6 基于邻近区的方法

保留每个节点的邻近区信息，这些节点要么是指向其他数据点、要么是指向枢纽节点。

各种贪婪性启发式方法为给定查询点在近似图中进行导航。

代表性的方法如下：

KNSW（Hierarchical navigatable small world）  Y. A. Malkov and D. A. Yashunin. Efficient and robust approximate nearest neighbor search using hierarchical navigable small world graphs. CoRR, 2016. W. Dong. Kgraph. http://www.kgraph.org, 2014.

KGraph  W. Dong, M. Charikar, and K. Li. Efficient k-nearest neighbor graph construction for generic similarity measures. In WWW, 2011.

SW（Small World）  Y. Malkov, A. Ponomarenko, A. Logvinov, and V. Krylov. Approximate nearest neighbor algorithm based on navigable small world graphs. Inf. Syst., 45:61–68, 2014.

RCT（Rank Cover Tree） M. E. Houle and M. Nett. Rank-based similarity search: Reducing the dimensional dependence. IEEE TPAMI, 37(1):136–150, 2015.
