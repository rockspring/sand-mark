第9章 中位数和序位统计
一个有n个元素的集合的第i个序位统计是其第i小的元素。例如，一个集合的最小值是集合的第1个序位统计，最大值是第n个序位统计。
选择问题定义：
输入：n个数（各不相同）的集合A和一个数i，且1in。
输出：集合A中刚好比i-1个元素大的元素。

9.1最小值和最大值
判断一个n元素集合的最小值多少次比较是必要的？我们很容易得到一个n-1次比较的上界：依次检查集合中的每一个元素，跟踪目前发现的最小元素。
int minimun(int a[],int n){
	int min=a[0];
	for(int i=1;i<n;i++){
		if(a[i]<min)
			min=a[i];
	}
	return min;
}
这是我们能做到的最好的吗？是的，我们得到一个n-1次比较的下界。
我们可以将选择一个集合中的最小值看成一个锦标赛，每一次比较都是一个比赛，具有较小值的元素赢得比赛。关键的观察是：除了赢者，每一个元素元素至少要输掉一个比赛。因此，n-1次比较是必须的。

同时选择最小值和最大值
有些应用中，我们既要选择最小值，也要选择最大值。不难发明一个算法，分别独立的选择最小值和最大值，总共需要2n-2次比较。
事实上，最多3[n/2]次比较就足够了。
我们同时记录最小值和最大值，然后每次取两个元素，先比较两个元素，区分出大小，然后用小的元素与当前最小值比较，得出新的最小值，大的元素与最大值比较，得出新的最大值。

我们能够改善比较次数：
我们维护两个邻接集合S1和S2，S1保存潜在的最小值，S2保存潜在的最大值。初始时，两个集合为空。依次从集合S中取出两个元素比较，将较小的放入集合S1中，较小的放入集合S2中，知道S的元素已经取完或者只剩下一个元素。然后在集合S1中使用朴素查找最小值方法找出S1的最小值，比较次数为集合元素的个数-1。在集合S2中使用朴素查找最大值的方法找出S2的最大值。如果S的元素个数为偶数，则S1的最小值就是S的最小值，S2的最大值就是S的最大值。如果S的元素个数为奇数，S中剩余的最后一个即未进入S1也未进入S2的元素分别于S1的最小值和S2的最大值比较，得出S的最小值和最大值。

9.2在期望的线性时间选择
9.3在最坏情况下线性时间
我们现在来观察一个在最坏情形下事件复杂度为O(n)的算法。与RANDOMIZED-SELECT算法一样，SELECT算法通过递归地划分输入数组来查找期望的元素。算法背后的思想是，当输入数组被划分时，保证得到一个好的分裂。
问题：n个元素的数组（其中n>1）找出第i小的元素。
SELECT算法步骤：
1.将n个元素的数组划分成[n/5]（向下取整）个5元素组和至多有一个组由n模5剩余的元素组成。
2.对每一个组，使用插入排序排好序，然后从有序数组选出中位数。
3.利用SELEC算法从由每个组中的中位数组成的集合中选出中位数。
4.使用步骤3中选出的中位数x作为支点来划分输入数组。设k为x左边的元素个数加1，则x是输入数组第k小的元素。
5.如果i=k，则返回x。否则，如果i<k，则在x的左边的元素数组中递归地查找第i小的元素；如果i>k，则在x的右边的元素数组中递归地查找第i-k小元素。
分析：
我们首先确定大于支点元素x的元素个数的下界，在步骤2中找到的中位数中，至少有一半的元素大于这些中位数的中位数x。因此，[n/5](取上界）组中至少有一半的组贡献3个比x大的元素，其中少于5个元素的组和只包含x的元素的组除外。

练习题
9.1-1
答案：先进行锦标赛选出最小值，同时维护一棵锦标树。第2小的元素一定是与最小值比较过的元素（如果没有机会与最小比较，说明还有元素比它小，它就不可能是第2小的元素了）。从根结点出发，选出第2小的元素。比较的次数为树的高度-1。
9.1-2
同时查找最小值和最大值，最坏情况下[3n/2]（上取整）-2次比较是必要的。（提示：考虑有多少数有潜力或者是最小值，或者是最大值，研究一次比较怎么影响这个计数）
答案：

http://people.csail.mit.edu/rivest/BlumFloydPrattRivestTarjan-TimeBoundsForSelection.pdf
Blum, Manuel et al. "Time bounds for selection." Journal of Computer and System Sciences 7.4 (1973): 448-461.
