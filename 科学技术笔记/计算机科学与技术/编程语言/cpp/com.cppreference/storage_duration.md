所有的对象都有一个存储持续时间

# 存储持续期

automatic

对象在包含它的代码块开始处分配，在包含它的代码块结束出销毁。所有的对象默认都是这个持续时间。除非对象有static, extern or thread_local这些声明。

static

对象的存储空间在程序开始处分配，在程序结束后收回。仅仅对象的一个实例存在。声明在命名空间范围内（包括全局命名空间），以及用static和extern关键字声明的对象有这个存储持续期。

thread

对象的存储空间在线程启动时分配，在线程结束后收回。每个线程有这个对象的自己的实例。用thread_local声明的对象有这个存储持续期。可以和static和extern关键字声明配合使用调整链接（linkage）。

dynamic

使用动态分配函数分配和回收存储空间。

# 链接（linkage）

一个指示对象、引用、函数、类型、模板、命名空间、值的名称可能有链接。如果一个名称有链接，它引用了在另一个范围内声明的同样名称的实体。如果一个变量、函数或另一个有同样名称的实体在几个范围内声明了，但是没有足够的链接，会产生好几份实体的实例。

no linkage

名称只能在所在同一范围内引用。

没有显示地使用extern声明的变量。

本地类和它们的成员函数。

声明在代码块范围内的名称如typedefs, enumerations, and enumerators

internal linkage

名称可以从当前编译单元的所有范围内引用。

声明在命名空间内的如下任何名称有内部链接。

用static声明的变量、函数和函数模板。

非volatile常量限定的变量（包括 constexpr）没有extern关键字声明和外部链接声明。

匿名联合体的数据成员。

C++11开始，声明在无名称命名空间的所有名称，或者声明在一个无名称命名空间内的有名称命名空间内，即使使用extern关键声明了，也有内部链接。

external linkage

名称可以从其他编译单元的范围内引用。有外部链接的变量、函数也有语言链接，可以链接不同语言的编译单元。

任何声明在命名空间内（无名称命名空间除外、声明在无名称命名空间的有名称命名空间除外）的所有名称有外部链接。

没有使用static声明的函数，命名空间内没有static声明的非常量变量，任何使用extern声明的变量。

枚举和枚举器。

类名称、类的成员函数、类的static数据成员（常量或变量），嵌套类，枚举，类声明体内第一次引入的friend函数。

没有static声明的函数模板。

第一次声明在代码块里的使用extern声明的变量和函数。



